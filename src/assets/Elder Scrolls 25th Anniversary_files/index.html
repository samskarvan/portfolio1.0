<!DOCTYPE html>
<!-- saved from url=(0189)http://bethesda.massrel.io/elder-scrolls/index.html#cfg=curl%3Dhttps%253A%252F%252Felderscrolls.bethesda.net%26parent%3Delderscrolls.test%26vph%3D969%26space-id%3Dbethesda%252Felder-scrolls -->
<html class=" ie js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations cssfilters csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths" lang="en-us" xmlns:fb="http://ogp.me/ns/fb#"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!--[if lt IE 9]>
    <script src="//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/js/html5-shiv.js"></script>
    <![endif]-->

    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>

    <meta name="viewport" content="width=device-width">
    <meta property="fb:app_id" content="">
    <script type="text/javascript" id="www-widgetapi-script" src="./www-widgetapi.js" async=""></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="ga" src="./ga.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="gauniversal" src="./analytics.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="twitter-widgets" src="./widgets.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="twitter-impressions" src="./impressions.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/js/index.js" src="./index.js"></script><!--<base target="_blank">--><base href="." target="_blank">

    
  <link id="compiled-template-less" href="./main.ed452576380281c43e3619381fec52dcc6871912.css" type="text/css" rel="stylesheet">


    <!--[if lt IE 9]>
    <script src="//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/js/respond.js"></script>
    <![endif]-->

  <script type="text/javascript" charset="utf8" async="" src="./iframe_api"></script></head>
  <body class="modal-picture-frame" style="overflow: hidden;"><iframe src="./xdm_ifr.html" style="position: absolute; top: -1000px; left: -1000px; width: 1px; height: 1px;"></iframe>
    <div id="mosaic" class="mr-component mr-component-type-mosaic-2 mr-component-instance-mosaic use_layout layout-desktop" data-mr-component-id="mosaic" data-mr-component-type="mosaic-2" data-mr-view="true"><div class="mosaic-container" style="height: 1324.5px;">

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 441.5px; height: 441.5px; left: 0px; top: 0px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-from tile-back tile-hidden" style="backface-visibility: hidden; transform: matrix3d(1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1094399971988852737" data-network="twitter" data-twitter-tweet-id="1094399971988852737" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/63648d29-c243-4bb5-88ad-1c030c9b7b36-profile_image-300x300.jpg)" title="Click to Play">
    
    
    <img src="./63648d29-c243-4bb5-88ad-1c030c9b7b36-profile_image-300x300.jpg" alt="LostProphyt - Twitch Welcome to LostProphyt&#39;s channel on Twitch. Watch them stream The Elder Scrolls Online and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1096591350412296193" data-network="twitter" data-twitter-tweet-id="1096591350412296193" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/fourleafglover-profile_image-d9bfb8baaa41af93-300x300.png)" title="Click to Play">
    
    
    <img src="./fourleafglover-profile_image-d9bfb8baaa41af93-300x300.png" alt="FourLeafGlover - Twitch Welcome to FourLeafGlover&#39;s channel on Twitch. Watch them stream The Legend of Zelda: Ocarina of Time and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-text group-type-text" data-mr-view="true" data-group="text" data-group-type="text" style="width: 220.75px; height: 220.75px; left: 441.5px; top: 0px; display: block;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="display: none;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 220.75px; height: 220.75px; left: 662.25px; top: 0px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1097509089767317504" data-network="twitter" data-twitter-tweet-id="1097509089767317504" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/9cc91f87-109a-4b1f-a36b-49b4b5e97632-profile_image-300x300.png)" title="Click to Play">
    
    
    <img src="./9cc91f87-109a-4b1f-a36b-49b4b5e97632-profile_image-300x300.png" alt="TheRavensCall - Twitch Welcome to TheRavensCall&#39;s channel on Twitch. Watch them stream The Elder Scrolls Online and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-from tile-back tile-hidden" style="backface-visibility: hidden; transform: matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1094704508649787398" data-network="twitter" data-twitter-tweet-id="1094704508649787398" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/fourleafglover-profile_image-d9bfb8baaa41af93-300x300.png)" title="Click to Play">
    
    
    <img src="./fourleafglover-profile_image-d9bfb8baaa41af93-300x300.png" alt="FourLeafGlover - Twitch Welcome to FourLeafGlover&#39;s channel on Twitch. Watch them stream The Legend of Zelda: Ocarina of Time and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-text group-type-text" data-mr-view="true" data-group="text" data-group-type="text" style="width: 220.75px; height: 220.75px; left: 441.5px; top: 220.75px; display: block;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="display: none;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-text group-type-text" data-mr-view="true" data-group="text" data-group-type="text" style="width: 220.75px; height: 220.75px; left: 220.75px; top: 441.5px; display: block;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="display: none;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-text group-type-text" data-mr-view="true" data-group="text" data-group-type="text" style="width: 220.75px; height: 220.75px; left: 0px; top: 1103.75px; display: block;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="display: none;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-text group-type-text" data-mr-view="true" data-group="text" data-group-type="text" style="display: none;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="display: none;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 220.75px; height: 220.75px; left: 0px; top: 441.5px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-from tile-back tile-hidden" style="backface-visibility: hidden; transform: matrix3d(1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1093293739928363011" data-network="twitter" data-twitter-tweet-id="1093293739928363011" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/2b5698e5-0947-4345-a3ff-829b2d7e27e4-profile_image-300x300.jpeg)" title="Click to Play">
    
    
    <img src="./2b5698e5-0947-4345-a3ff-829b2d7e27e4-profile_image-300x300.jpeg" alt="Its_Izanagi - Twitch Welcome to Its_Izanagi&#39;s channel on Twitch. Watch them stream Just Chatting and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1097661164329357317" data-network="twitter" data-twitter-tweet-id="1097661164329357317" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/63648d29-c243-4bb5-88ad-1c030c9b7b36-profile_image-300x300.jpg)" title="Click to Play">
    
    
    <img src="./63648d29-c243-4bb5-88ad-1c030c9b7b36-profile_image-300x300.jpg" alt="LostProphyt - Twitch Welcome to LostProphyt&#39;s channel on Twitch. Watch them stream The Elder Scrolls Online and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 220.75px; height: 220.75px; left: 441.5px; top: 441.5px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-from tile-back tile-hidden" style="backface-visibility: hidden; transform: matrix3d(1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1093224697972572162" data-network="twitter" data-twitter-tweet-id="1093224697972572162" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-youtube" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://i.ytimg.com/vi/5W9UUU_jfe0/hqdefault.jpg)" title="Click to Play">
    
    
    <img src="./hqdefault.jpg" alt="The Elder Scrolls Online #237 ⚔️ Guar in Bedrängnis - Steinfälle | German Gameplay Flufu und Willandra toben durch die Steinfälle auf der Suche nach dem super Loot The Elder Scrolls Online. Wir haben Sommersend verlassen aber die Reise geht weiter.">
    

    
    
    <div class="media-attribution">
      
      <div class="media-attribution-author">
        Flufu
      </div>
      
      
      <div class="media-attribution-logo">
        <i class="media-logo-icon icon-youtube-logo"></i>
      </div>
      
    </div>
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1097670048259424256" data-network="twitter" data-twitter-tweet-id="1097670048259424256" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/bf16b7a1-b9bd-4ef2-b303-ae87aececae6-profile_image-300x300.png)" title="Click to Play">
    
    
    <img src="./bf16b7a1-b9bd-4ef2-b303-ae87aececae6-profile_image-300x300.png" alt="heatherhearts - Twitch Welcome to heatherhearts&#39;s channel on Twitch. Watch them stream The Elder Scrolls IV: Oblivion and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 220.75px; height: 220.75px; left: 662.25px; top: 441.5px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-from tile-back tile-hidden" style="backface-visibility: hidden; transform: matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1092090754305048582" data-network="twitter" data-twitter-tweet-id="1092090754305048582" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/a6a4134f-5c2a-493d-8cb8-22645de0030c-profile_image-300x300.png)" title="Click to Play">
    
    
    <img src="./a6a4134f-5c2a-493d-8cb8-22645de0030c-profile_image-300x300.png" alt="clueless_quartz - Twitch Welcome to clueless_quartz&#39;s channel on Twitch. Watch them stream Overwatch and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1097431722344493056" data-network="twitter" data-twitter-tweet-id="1097431722344493056" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/00788458-0e73-4fcc-a7dd-3b70ed19e025-profile_image-300x300.jpeg)" title="Click to Play">
    
    
    <img src="./00788458-0e73-4fcc-a7dd-3b70ed19e025-profile_image-300x300.jpeg" alt="MattimusHQ - Twitch Welcome to MattimusHQ&#39;s channel on Twitch. Watch them stream The Elder Scrolls Online and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 220.75px; height: 220.75px; left: 662.25px; top: 662.25px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-from tile-back tile-hidden" style="backface-visibility: hidden; transform: matrix3d(1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1094647077517381632" data-network="twitter" data-twitter-tweet-id="1094647077517381632" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/b2b54b0f119c21a8-profile_image-300x300.jpeg)" title="Click to Play">
    
    
    <img src="./b2b54b0f119c21a8-profile_image-300x300.jpeg" alt="DungeonCrawlerNetwork - Twitch From The Ashes | Episode 82: From The Ground Up | An Ashes of Creation Podcast | Follow us on Twitter @Ashespodcast">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1096212671362408450" data-network="twitter" data-twitter-tweet-id="1096212671362408450" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/63648d29-c243-4bb5-88ad-1c030c9b7b36-profile_image-300x300.jpg)" title="Click to Play">
    
    
    <img src="./63648d29-c243-4bb5-88ad-1c030c9b7b36-profile_image-300x300.jpg" alt="LostProphyt - Twitch Welcome to LostProphyt&#39;s channel on Twitch. Watch them stream The Elder Scrolls Online and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 220.75px; height: 220.75px; left: 662.25px; top: 220.75px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
  <div class="tile-cell tile-visible tile-front tile-from" style="backface-visibility: hidden; transform: matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1092590394448203783" data-network="twitter" data-twitter-tweet-id="1092590394448203783" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/63648d29-c243-4bb5-88ad-1c030c9b7b36-profile_image-300x300.jpg)" title="Click to Play">
    
    
    <img src="./63648d29-c243-4bb5-88ad-1c030c9b7b36-profile_image-300x300.jpg" alt="LostProphyt - Twitch Welcome to LostProphyt&#39;s channel on Twitch. Watch them stream The Elder Scrolls Online and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-back tile-to tile-visible" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1096200098965585920" data-network="twitter" data-twitter-tweet-id="1096200098965585920" data-twitter-tweet-context="" data-partner="spredfast">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/9561c9f3-421c-447f-a791-6f43cc541beb-profile_image-300x300.jpeg)" title="Click to Play">
    
    
    <img src="https://static-cdn.jtvnw.net/jtv_user_pictures/9561c9f3-421c-447f-a791-6f43cc541beb-profile_image-300x300.jpeg" alt="SteelZero - Twitch Welcome to SteelZero&#39;s channel on Twitch. Watch them stream The Forest and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 220.75px; height: 220.75px; left: 0px; top: 883px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-from tile-back tile-hidden" style="backface-visibility: hidden; transform: matrix3d(-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1096608437180555264" data-network="twitter" data-twitter-tweet-id="1096608437180555264" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/676b3669-578b-44c7-9418-1effe49340b9-profile_image-300x300.png)" title="Click to Play">
    
    
    <img src="./676b3669-578b-44c7-9418-1effe49340b9-profile_image-300x300.png" alt="LaShaggy - Twitch Welcome to LaShaggy&#39;s channel on Twitch. Watch them stream The Elder Scrolls Online and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1096587613736030208" data-network="twitter" data-twitter-tweet-id="1096587613736030208" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/9be7f44d-a9f5-4666-aef3-f162ffb659db-profile_image-300x300.jpeg)" title="Click to Play">
    
    
    <img src="./9be7f44d-a9f5-4666-aef3-f162ffb659db-profile_image-300x300.jpeg" alt="nessy_moon - Twitch Welcome to nessy_moon&#39;s channel on Twitch. Watch them stream Skyrim and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 220.75px; height: 220.75px; left: 220.75px; top: 883px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-from tile-back tile-hidden" style="backface-visibility: hidden; transform: matrix3d(1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1097726828733698048" data-network="twitter" data-twitter-tweet-id="1097726828733698048" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/magnus57-profile_image-9c0ca5a73c2f646d-300x300.jpeg)" title="Click to Play">
    
    
    <img src="./magnus57-profile_image-9c0ca5a73c2f646d-300x300.jpeg" alt="Magnus57 - Twitch Welcome to Magnus57&#39;s channel on Twitch. Watch them stream The Elder Scrolls IV: Oblivion and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1097220681140457472" data-network="twitter" data-twitter-tweet-id="1097220681140457472" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/ca005a98-77b3-4c06-9042-95dac601e17a-profile_image-300x300.png)" title="Click to Play">
    
    
    <img src="./ca005a98-77b3-4c06-9042-95dac601e17a-profile_image-300x300.png" alt="skate148x - Twitch Welcome to skate148x&#39;s channel on Twitch. Watch them stream The Elder Scrolls Online: Tamriel Unlimited and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 441.5px; height: 441.5px; left: 441.5px; top: 883px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1092457241192656896" data-network="twitter" data-twitter-tweet-id="1092457241192656896" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-facebook" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://scontent-iad3-1.xx.fbcdn.net/v/t15.5256-10/52107775_542907609537645_30827501429194752_n.jpg?_nc_cat=100&amp;_nc_ht=scontent-iad3-1.xx&amp;oh=56bbcd6654ed4e842fdb4bac5fbedbc5&amp;oe=5CF96D8D)" title="Click to Play">
    
    
    <img src="./52107775_542907609537645_30827501429194752_n.jpg" alt="Eddyncc The Elder Scrolls V: Skyrim #elderscrolls #skyrim #NintendoSwitch Cheer us on! Support Eddy and Nintendo Chit Chat Fortnite Creator Tag: EDDYNCC (use when shopping in the Epic Games Fortnite...">
    

    
    
    <div class="media-attribution">
      
      <div class="media-attribution-author">
        nccwizards
      </div>
      
      
      <div class="media-attribution-logo">
        <i class="media-logo-icon icon-facebook-logo"></i>
      </div>
      
    </div>
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-from tile-back tile-hidden" style="backface-visibility: hidden; transform: matrix3d(1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1097670048259424256" data-network="twitter" data-twitter-tweet-id="1097670048259424256" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/bf16b7a1-b9bd-4ef2-b303-ae87aececae6-profile_image-300x300.png)" title="Click to Play">
    
    
    <img src="./bf16b7a1-b9bd-4ef2-b303-ae87aececae6-profile_image-300x300.png" alt="heatherhearts - Twitch Welcome to heatherhearts&#39;s channel on Twitch. Watch them stream The Elder Scrolls IV: Oblivion and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="width: 220.75px; height: 220.75px; left: 220.75px; top: 1103.75px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-from tile-back tile-hidden" style="backface-visibility: hidden; transform: matrix3d(1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1092457239628132352" data-network="twitter" data-twitter-tweet-id="1092457239628132352" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-facebook" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://scontent-iad3-1.xx.fbcdn.net/v/t15.5256-10/52107775_542907609537645_30827501429194752_n.jpg?_nc_cat=100&amp;_nc_ht=scontent-iad3-1.xx&amp;oh=56bbcd6654ed4e842fdb4bac5fbedbc5&amp;oe=5CF96D8D)" title="Click to Play">
    
    
    <img src="./52107775_542907609537645_30827501429194752_n.jpg" alt="Nintendochitchat The Elder Scrolls V: Skyrim #elderscrolls #skyrim #NintendoSwitch Support Eddy and Nintendo Chit Chat Fortnite Creator Tag: EDDYNCC (use when shopping in the Epic Games Fortnite Store!) Nintendo...">
    

    
    
    <div class="media-attribution">
      
      <div class="media-attribution-author">
        nintendochitchat
      </div>
      
      
      <div class="media-attribution-logo">
        <i class="media-logo-icon icon-facebook-logo"></i>
      </div>
      
    </div>
    
    
  </div>

</div>
</div></div>
  </div>
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);">
    <div class="tile-content"><div class="status status-twitter twitter-custom-tweet status-style-media-tile mr-component-instance-status-styles-media-tile status-has-media status-has-media-video" data-mr-view="true" data-entity-id="twitter:1096847822681460736" data-network="twitter" data-twitter-tweet-id="1096847822681460736" data-twitter-tweet-context="" data-partner="spredfast" data-twitter-logged="">
  <div class="media media-video media-Twitch.tv" data-mr-view="true">
  <div class="media-image media-video-thumbnail" style="background-image: url(https://static-cdn.jtvnw.net/jtv_user_pictures/rottendeadite-profile_image-fcfb926d4e78b973-300x300.png)" title="Click to Play">
    
    
    <img src="./rottendeadite-profile_image-fcfb926d4e78b973-300x300.png" alt="rottendeadite - Twitch Welcome to rottendeadite&#39;s channel on Twitch. Watch them stream Talk Shows and other content live and join the community!">
    

    
    
    
  </div>

</div>
</div></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-header group-type-static" data-mr-view="true" data-group="header" data-group-type="static" style="width: 662.25px; height: 220.75px; left: 0px; top: 662.25px; display: block;"><div class="tile-view" data-mr-view="true" style="perspective: 800px;"><div class="tile-wrapper" style="transform-style: preserve-3d; transform: translate3d(0px, 0px, 0px);">
  <div class="tile-cell tile-to tile-visible tile-front" style="backface-visibility: hidden;">
    <div class="tile-content"><div id="static__header">
        <div class="header-content">
          <div class="table-wrapper">
            <div class="centered-content">

              
                <div class="title">Celebrate 25 years!</div>
              
              
                <div class="subtitle">#elderscrolls</div>
              

              <div class="social-buttons">
                <div id="action-bar" class="mr-component mr-component-type-action-bar-2 mr-component-instance-action-bar" data-mr-component-id="action-bar" data-mr-component-type="action-bar-2"><div class="action-bar-section" data-mr-view="true">
  <div class="action-bar-container container-closed">
    <div class="action-bar-btn mr-action-click" data-action="show" tabindex="0">Follow Us<span class="ada-text">Follow our social accounts</span></div>
  </div>

  <div class="action-bar-container container-open">
    <div class="action-bar-btn-arrow mr-action-click" data-action="hide"><i class="icon-arrow-bold-left"></i></div>
    
      <a href="https://twitter.com/intent/user?screen_name=spredfast&amp;original_referer=http%3A%2F%2Felderscrolls.test%2Fen%2Fanniversary" tabindex="0" class="action-bar-link type-follow size-small" data-mr-view="true"><span class="ada-text">Follow us on Twitter</span>

<i class="action-bar-link-icon icon-twitter-logo"></i>


</a>
    
      <a href="https://www.facebook.com/Spredfast" tabindex="0" class="action-bar-link type-fb_like size-small" data-mr-view="true"><span class="ada-text">Like us on Facebook</span>

<i class="action-bar-link-icon icon-facebook-logo"></i>


</a>
    
      <a href="https://www.instagram.com/spredfast" tabindex="0" class="action-bar-link type-insta_follow size-small" data-mr-view="true"><span class="ada-text">Follow us on Instagram</span>

<i class="action-bar-link-icon icon-instagram-logo"></i>


</a>
    
  </div>

</div><div class="action-bar-section" data-mr-view="true">
  <div class="action-bar-container container-closed">
    <div class="action-bar-btn mr-action-click" data-action="show" tabindex="0">Join The Conversation<span class="ada-text">Join the conversation on social</span></div>
  </div>

  <div class="action-bar-container container-open">
    <div class="action-bar-btn-arrow mr-action-click" data-action="hide"><i class="icon-arrow-bold-left"></i></div>
    
      <a href="https://twitter.com/intent/tweet?original_referer=http%3A%2F%2Felderscrolls.test%2Fen%2Fanniversary" tabindex="0" class="action-bar-link type-tweet size-small small" data-mr-view="true"><span class="ada-text">Tweet about this</span>

<i class="action-bar-link-icon icon-twitter-logo"></i>



<div class="action-bar-link-text">Tweet</div>
</a>
    
      <div tabindex="0" data-action="fb-post" class="action-bar-link type-fb_post size-small small mr-action-click" data-mr-view="true"><span class="ada-text">Post on Facebook</span>

<i class="action-bar-link-icon icon-facebook-logo"></i>



<div class="action-bar-link-text">Post</div>
</div>
    
      <div tabindex="0" data-action="share-photo" class="action-bar-link type-share_photo size-small small mr-action-click" data-mr-view="true"><span class="ada-text">Share a photo via Twitter or Facebook</span>

<i class="action-bar-link-icon icon-camera"></i>



<div class="action-bar-link-text">+ Photo</div>
</div>
    
  </div>

</div></div>
              </div>
            </div>
          </div>
        </div>
      </div></div>
  </div>
  <div class="tile-cell tile-hidden tile-from tile-back" style="backface-visibility: hidden; transform: matrix3d(1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1);">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="display: none;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="display: none;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="display: none;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

  <div class="mosaic-item group-image group-type-media" data-mr-view="true" data-group="image" data-group-type="media" style="display: none;"><div class="tile-view" data-mr-view="true"><div class="tile-wrapper">
  <div class="tile-from tile-cell tile-back tile-hidden">
    <div class="tile-content"></div>
  </div>
  <div class="tile-to tile-cell tile-front tile-hidden">
    <div class="tile-content"></div>
  </div>
</div></div></div>

</div></div>

    <section id="modal" class="mr-component mr-component-type-modal-2 mr-component-instance-modal" data-mr-component-id="modal" data-mr-component-type="modal-2"></section>

    <div style="display: none;">
      
    </div>


    
  <script src="./loader.f4067ec924315b9a22276e2a7d1294d60ac31897.js"></script>
  <script>/*!
 * Fine Uploader
 *
 * Copyright 2013, Widen Enterprises, Inc. info@fineuploader.com
 *
 * Version: 3.9.0-3
 *
 * Homepage: http://fineuploader.com
 *
 * Repository: git://github.com/Widen/fine-uploader.git
 *
 * Licensed under GNU GPL v3, see LICENSE
 */

/*! 2013-09-18 */

/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */

//! moment.js
//! version : 2.8.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */

/*! Player.js - v0.0.11 - 2015-07-24
* http://github.com/embedly/player.js
* Copyright (c) 2015 Embedly; Licensed BSD */

/*!
 * VERSION: 1.11.4
 * DATE: 2014-01-18
 * UPDATES AND DOCS AT: http://www.greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/

window.MR=window.MR||{},function(define,require,requirejs){define("components/modal-2/models/ModalModel",["require","lodash","backbone-amd"],function(t){var e=t("lodash"),i=t("backbone-amd"),n=i.Model.extend({defaults:{open:!1,model:null,View:null,closeButtonAdaText:"Close this Window",styleComponentId:null,additionalClasses:null},initialize:function(t){this.id=t.id,this.config=t.config,this.dispatcher=t.dispatcher,this.set(e.extend({},this.defaults,e.pick(t.config,e.keys(this.defaults))))},show:function(t,e,i){if(!t&&e||!e&&t)throw new Error("Modal#show requires both a model and a view, or neither!");return t&&e&&this.set({model:t,View:e}),i&&(this.set("closeButtonAdaText",i.closeButtonAdaText||this.get("closeButtonAdaText")),this.set("styleComponentId",i.styleComponentId||this.get("styleComponentId")),this.set("additionalClasses",i.additionalClasses||this.get("additionalClasses"))),this.toggle(!0),this},hide:function(){return this.toggle(!1),this},toggle:function(t){return t=0===arguments.length?!this.get("open"):!!t,this.set("open",t),this}});return n}),function(){var t=function(){function t(t){return t=t||"",/^\//.test(t)||(t=(e[""]||"/static/")+t),Object.prototype.hasOwnProperty.call(e,t)?e[t]:/^\/[^\/]/.test(t)?i+t:t}var e={"/components/status-2/static/spinner.svg":"//massrel-all.massrel.io/static/spinner.82cd6a7476f4a43e8863c0551f13cc479b78a661.svg","/components/status-2/static/video-play.png":"//massrel-all.massrel.io/static/video-play.a247a1ab49b6ae78ab132d39bf59b1303de56291.png","/bower_components/slick/slick/ajax-loader.gif":"//massrel-all.massrel.io/static/ajax-loader.aba0fc43bab1386f03c385270800600dbf432c1c.gif","/bower_components/background-size-polyfill/backgroundsize.htc":"//massrel-all.massrel.io/static/backgroundsize.b2ff01ef7655fd1530917b80515fd9e0314b61a7.htc","/bower_components/background-size-polyfill/backgroundsize.min.htc":"//massrel-all.massrel.io/static/backgroundsize.min.b0d1854ee9ebbd813a6b51f532ee73e0ce8efd51.htc","/bower_components/background-size-polyfill/src/intro.htc":"//massrel-all.massrel.io/static/intro.0c14d48d70564e8ffa48ee33e2921b8218db405d.htc","/bower_components/background-size-polyfill/src/outro.htc":"//massrel-all.massrel.io/static/outro.36f6a8a39a184d57a5702cadd67b724349a169ce.htc","/bower_components/background-size-polyfill/src/outro.min.htc":"//massrel-all.massrel.io/static/outro.min.a1b29828ed01b4cbb8f535ed4f043533546d6fc6.htc","/bower_components/background-size-polyfill/images/pattern.png":"//massrel-all.massrel.io/static/pattern.9b07f090653ce990ab10dfedcf1a96691b3bacc0.png","/bower_components/q/q.png":"//massrel-all.massrel.io/static/q.6a484643e302af3912144e9d4bee897e5ba04994.png","/bower_components/background-size-polyfill/images/algeria.jpg":"//massrel-all.massrel.io/static/algeria.4bf1f6f5e00509f2439e581904be7098ee1b85fd.jpg","/bower_components/background-size-polyfill/images/algerian1.jpg":"//massrel-all.massrel.io/static/algerian1.d597e944e59eb66b3cfc66114c699dda29e0161c.jpg","/bower_components/background-size-polyfill/images/algerian2.jpg":"//massrel-all.massrel.io/static/algerian2.fbf8d86cd09a4d05f922ce13c750c529c9150a27.jpg","/bower_components/background-size-polyfill/images/jar1.jpg":"//massrel-all.massrel.io/static/jar1.c2a2b6368c48a9052d1eb58a36035628a91343ea.jpg","/bower_components/background-size-polyfill/images/jar2.jpg":"//massrel-all.massrel.io/static/jar2.248c59aa6fe900c906fd9ed662f115d82f63f6b5.jpg","/bower_components/background-size-polyfill/images/parthenon.jpg":"//massrel-all.massrel.io/static/parthenon.b8e7192ba6915a5dbfca78d65bfb59f5cfcf8742.jpg","/bower_components/background-size-polyfill/images/propylaea.jpg":"//massrel-all.massrel.io/static/propylaea.e58deb3c18a6efaab8cc018ec4c54fe983b2ff21.jpg","/bower_components/slick/slick/fonts/slick.eot":"//massrel-all.massrel.io/static/slick.9b77fd0db685b31881e16e2bad3926e892a9fedc.eot","/bower_components/socialite-0/fonts/socialite-0-12-0.eot":"//massrel-all.massrel.io/static/socialite-0-12-0.4162c00b6eb6ccc8f45c0d32e0d8b8e15032826b.eot","/bower_components/socialite/fonts/socialite-1-7-0.eot":"//massrel-all.massrel.io/static/socialite-1-7-0.8fca3de6866f2a903f1d4a90e119e4a3a5ac1508.eot","/bower_components/slick/slick/fonts/slick.ttf":"//massrel-all.massrel.io/static/slick.ea2a8d4e9efdb9c901397fc1074729f556a29895.ttf","/bower_components/socialite-0/fonts/socialite-0-12-0.ttf":"//massrel-all.massrel.io/static/socialite-0-12-0.3b40a88a89efa63968818fb9f5764437060fd0b2.ttf","/bower_components/socialite/fonts/socialite-1-7-0.ttf":"//massrel-all.massrel.io/static/socialite-1-7-0.0cfdeea53e425a56875532f5200dc63cf753ca07.ttf","/bower_components/slick/slick/fonts/slick.woff":"//massrel-all.massrel.io/static/slick.897a6f631e74ee2a09f1561a8c1cdaad4887a251.woff","/bower_components/socialite-0/fonts/socialite-0-12-0.woff":"//massrel-all.massrel.io/static/socialite-0-12-0.8980b1a9e0f1c8f653b5244d8461dcd88732915a.woff","/bower_components/socialite/fonts/socialite-1-7-0.woff":"//massrel-all.massrel.io/static/socialite-1-7-0.a82c4f523bf011485a231533979a2417b2f159ad.woff","/bower_components/q/q.svg":"//massrel-all.massrel.io/static/q.d9845f22bbf9fdc8f4a44850d38de16bdf882062.svg","/bower_components/slick/slick/fonts/slick.svg":"//massrel-all.massrel.io/static/slick.17f63c6f6131389462ba3d814b7ddf83344705f9.svg","/bower_components/socialite-0/fonts/socialite-0-12-0.svg":"//massrel-all.massrel.io/static/socialite-0-12-0.85676defe22336506594cb454de38b77b1f93133.svg","/bower_components/socialite/fonts/socialite-1-7-0.svg":"//massrel-all.massrel.io/static/socialite-1-7-0.93306ac00917c637a044a0e7309c103177bf4eff.svg","/static/backgroundsize.min.htc":"//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/backgroundsize.min.htc","/static/img/video-play.png":"//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/img/video-play.png","/static/js/css3-mediaqueries.js":"//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/js/css3-mediaqueries.js","/static/js/html5-shiv.js":"//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/js/html5-shiv.js","/static/js/index.js":"//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/js/index.js","/static/js/respond.js":"//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/js/respond.js","":"//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/"},i="";return t.setPrefix=function(t){i=t},t},e=t();"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("staticPath",[],function(){return e}):module.exports=e,"object"==typeof MR&&(MR.staticPath=e)}(),define("templateCompiler",["require","lodash","TemplateStore","staticPath"],function(t){var e=t("lodash"),i=t("TemplateStore"),n=t("staticPath"),a={staticPath:n},s=function(t){return function(n){n=n||{};var s=t.fn;if(t.metadata.customizable){var r=i.get(this.componentId&&this.componentId(),this.componentType&&this.componentType(),t.name);s=r||s}var o=e.merge({},a,n),l=Array.prototype.slice.call(arguments);return l[0]=o,s.apply(null,l)}};return{compile:s}}),define("tmpl",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),define("tmpl!modal-content",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-content" tabindex="0">\n  <i class="mr-action-click modal-close icon-close-x" data-action="close" tabindex="0"><span class="ada-text">'+__e(closeButtonAdaText)+"</span></i>\n  "+(null==(__t=subview("modal-content",model))?"":__t)+"\n</div>\n";return __p},metadata:{customizable:!0},name:"modal-content"})}),define("components/modal-2/views/ModalView",["require","lodash","jquery","lib/views/BaseView","tmpl!modal-content"],function(t){var e=t("lodash"),i=t("jquery"),n=t("lib/views/BaseView"),a=t("tmpl!modal-content"),s=n.extend({template:a,classes:{modal_open:"modal-open"},attributes:{tabindex:0},subviews:{"modal-content":null},events:{click:"handleClose","click .modal-close":"handleClose","keydown .modal-close":"handleKeyDown"},initialize:function(){this._escapeCloseHandler=e.bind(this.handleEscapeClose,this),i(document).on("keydown",this._escapeCloseHandler),this.listenTo(this.model,"change:open",this.toggleOpen),this.listenTo(this.model,"change:open",this._removeSubviewsIfClosed)},_updateSubview:function(t){return this.subviews["modal-content"]=t,this},_removeSubviewsIfClosed:function(){return this.model.get("open")||e.each(this.renderedSubviews,function(t){t.remove()}),this},handleKeyDown:function(t){13===t.keyCode&&this.handleClose(t)},handleClose:function(t){return t.target===t.currentTarget&&(t.preventDefault(),this.model.hide()),this},handleEscapeClose:function(t){var e=t.keyCode||t.which;27===e&&this.model.hide()},toggleOpen:function(t){var i=this;return this.$el.toggleClass(this.classes.modal_open,t),this.render(),this.dispatcher().trigger(this.model.get("open")?"open":"close"),this.analytics().trackEvent({category:this.model.get("open")?"viz:expand":"viz:collapse",action:"modal"}),e.defer(function(){i.$el.find(".modal-content").focus()}),this},remove:function(){return i(document).off("keydown",this._escapeCloseHandler),this},render:function(){return(this.model.get("open")||!this._rendered)&&(this._updateSubview(this.model.get("View")),n.prototype.render.apply(this,arguments),this._rendered=!0),this},replaceSubviews:function(t,e){t.replaceWith(e.$el),e.render()},renderTemplate:function(t){if(this.template){this.model.get("styleComponentId")&&this.$el.addClass("mr-component-modal-instance-"+this.model.get("styleComponentId")),this.model.get("additionalClasses")&&this.$el.addClass(this.model.get("additionalClasses"));var e=i("<div>").html(this.template(t));this.$el.empty().append(e.contents()),this.renderSubviews(this.$el)}}});return s}),define("lib/BaseComponent",["require","backbone-amd","lodash","ENV","lib/analytics/main"],function(t){var e=t("backbone-amd"),i=t("lodash"),n=t("ENV"),a=t("lib/analytics/main"),s=e.Model.extend({create:function(){},render:function(){},exports:{},deprecated:!1,constructor:function(t){if(e.Model.apply(this,arguments),this.deprecated&&window.MR&&MR.spaceConfig&&"dev"===MR.spaceConfig.env&&window.console&&window.console.warn){var i=t&&t.type?t.type:this.get("id"),n="The '"+i+"' component version you're using is "+"deprecated! Upgrade it to the latest version to get new "+"features and improvements. See "+"https://github.com/MassRelevance/builder-sdk/tree/master/dev/components "+"for all available components and versions.";setTimeout(function(){window.console.warn(n)},5e3)}},initialize:function(){var t=this.get("config")||{},e=this.get("id");this.set("dispatcher",n.scope(e,t.type)),this.set("analytics",new a({scope:"component",componentID:e,componentType:t.type}));var i=this.styles;i&&i.render&&i.render(t)},postInitialize:function(){},hasElement:function(){var t=this.get("config")||{};return!(!t.$el||!t.$el.length)}}),r=s.extend;return s.extend=function(){var t=r.apply(s,arguments);return t.exports=function(){var e=i.extend({},t.prototype.exports);return e.create=function(e,n){var a={id:e,config:n},s=new t(a),r=s.create();return i.extend({},a,r,{render:function(){s.render()},postInitialize:function(){s.postInitialize()}})},e},t},s}),define("componentStyle",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),define("componentStyle!modal-2",{render:function(){}}),define("components/modal-2/main",["require","jquery","./models/ModalModel","./views/ModalView","lib/BaseComponent","componentStyle!modal-2"],function(t){var e=t("jquery"),i=t("./models/ModalModel"),n=t("./views/ModalView"),a=t("lib/BaseComponent"),s=t("componentStyle!modal-2");return a.extend({styles:s,create:function(){var t=this.get("id"),a=this.get("config"),s=this.get("dispatcher"),r=new i({dispatcher:s,config:a.settings}),o=new n({analytics:this.get("analytics"),dispatcher:s,el:e("#"+t),componentId:t,componentType:a.type,model:r});return this.set("model",r),this.set("view",o),s.on("#"+t+":show",function(t){var e=t&&t.payload?t.payload:{};r.show(e.model,e.View,e.options)}),{model:r,view:o}}}).exports()}),define("componentStyle!action-bar-2?includeModal",{render:function(){}}),define("massrel-js/globals",{host:"api.massrelevance.com",timeout:1e4,protocol:"https:"===document.location.protocol?"https":"http",min_poll_interval:5e3,max_backoff_interval:6e4,backoff_rate:1.8,jsonp_param:"jsonp"}),define("massrel-js/helpers",["./globals"],function(t){var e={},i=encodeURIComponent;e.step_through=function(t,i,n){t=e.is_array(t)?t:[t];var a=t.length-1;if(a>=0)for(;a>=0;a--)for(var s=t[a],r=0,o=i.length;o>r;r++)i[r].call(n,s)},e.extend=function(t,e){var i;for(i in e)"undefined"==typeof t[i]&&(t[i]=e[i]);return t},e.api_url=function(e,i){i=i||t.host;var n=t.port,a=t.protocol+"://"+i+(n?":"+n:"");return a+e},e.req={},e.req.supportsXhr2=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,e.req.supportsCors=e.req.supportsXhr2||"XDomainRequest"in window,e.req.supportsJSON="JSON"in window,e.req.xdr=function(i,n,a,s,r,o,l,u){var d,c,p=!1;l||(l="GET");var h=function(t){p=!0;var i,n=!1;try{i=JSON.parse(t)}catch(a){n=!0,m(new Error("JSON parse error"))}n||("function"==typeof r?r(i):e.is_array(r)&&r.length>0&&e.step_through(i,r,s))},m=function(t){p=!0,"function"==typeof o&&o(t)};window.XMLHttpRequest&&e.req.supportsXhr2?d=new XMLHttpRequest:window.XDomainRequest&&(d=new XDomainRequest),d?(d.open(l,i+"?"+e.to_qs(n)),d.timeout=t.timeout,d.onerror=m,d.onprogress=function(){},d.ontimeout=m,d.onload=function(){h(d.responseText)},d.send(u),c=setTimeout(function(){p||(d.onerror=function(){},d.onprogress=function(){},d.ontimeout=function(){},d.onload=function(){},d.abort&&d.abort(),m())},t.timeout)):m(new Error("CORS not supported"))},e.req.jsonp=function(i,a,s,r,o,l){var u,d=s+ ++n,c=!1;t._json_callbacks[d]=function(i){"function"==typeof o?o(i):e.is_array(o)&&o.length>0&&e.step_through(i,o,r),delete t._json_callbacks[d],c=!0,clearTimeout(u)},a.push([t.jsonp_param,"massrel._json_callbacks."+d]);var p=e.load(i+"?"+e.to_qs(a));u=setTimeout(function(){c||(t._json_callbacks[d]=function(){delete t._json_callbacks[d]},"function"==typeof l&&l(),p.stop())},t.timeout)},e.jsonp_factory=e.req.jsonp;var n=0;t._json_callbacks={},e.request_factory=function(t,i,n,a,s,r){e.req.supportsCors&&e.req.supportsJSON?e.req.xdr(t,i,n,a,s,r):e.req.jsonp(t,i,n,a,s,r)},e.post_factory=function(t,i,n,a,s,r,o){if(!e.req.supportsCors||!e.req.supportsJSON)throw"POST not supported";e.req.xdr(t,i,a,s,r,o,"POST",n)},e.is_array=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.is_number=function(t){return"[object Number]"===Object.prototype.toString.call(t)};var a=document.getElementsByTagName("head")[0]||document.body;e.load=function(t,e){var i=document.createElement("script");i.type="text/javascript",i.src=t;var n=!1;return i.onload=i.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,i.onload=i.onreadystatechange=null,a&&i.parentNode&&a.removeChild(i),"function"==typeof e&&e())},a.insertBefore(i,a.firstChild),{stop:function(){i.onload=i.onreadystatechange=null,a&&i.parentNode&&a.removeChild(i),i.src="#"}}},e.to_qs=function(t){var n,a=[];if(t&&t.length){for(var s=0,r=t.length;r>s;s++){if(n=t[s][1],e.is_array(n)){for(var o=[],l=0,u=n.length;u>l;l++)o[l]=i(n[l]||"");n=o.join(",")}else n=void 0!==n&&null!==n?i(n):"";a.push(i(t[s][0])+"="+n)}return a.join("&")}return""};var s=/\+\d{4} \d{4}$/,r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(\+\d{4})$/,o=/^(\d{4})-(\d\d)-(\d\d)T(\d\d)\:(\d\d)\:(\d\d)\.(\d{3})Z$/;return e.fix_date=e.fix_twitter_date=function(t){if(t=t.toString(),s.test(t)){t=t.split(" ");var e=t.pop();t.splice(3,0,e),t=t.join(" ")}else r.test(t)?t=t.replace(r,"$1/$2/$3 $4:$5:$6 $7"):o.test(t)&&(t=t.replace(o,"$1/$2/$3 $4:$5:$6 +0000"));return t},e.parse_params=function(t){t=t||window.location.search.substring(1);var e={};if("?"===t.charAt(0)&&(t=t.substring(1)),t.length>0){t=t.replace(/\+/g," ");for(var i=t.split(/[&;]/g),n=0;n<i.length;n++){var a=i[n].split("="),s=decodeURIComponent(a[0]),r=a.length>1?decodeURIComponent(a[1]):"";if(s in e){var o=e[s];"string"!=typeof o?e[s].push(r):(e[s]=[],e[s].push(o),e[s].push(r))}else e[s]=r}}return e},e.poll_interval=function(e){var i=t.min_poll_interval;return Math.max(e||i,i)},e.poll_backoff=function(e,i){var n=t.max_backoff_interval;return n>e&&(i=Math.max(i-1,0),e*=Math.pow(t.backoff_rate,i),e=Math.min(e||n,n)),e},e.callback_group=function(t){t=t||1;var e=0,i=!0,n=function(n,a){return function(){if(i){if(t>=e)return n.apply(a||this,arguments);throw new Error("Callback group max call count exceeded")}}};return n.deactivate=function(){i=!1},n},e.timeParam=function(t,e,i,n){"undefined"!=typeof t&&(t.getTime&&(t=t.getTime()/1e3),t=+t,!isNaN(t)&&t>0?(t=60*Math.floor(t/60),i.push([e,t])):!isNaN(t)&&n&&0>=t&&i.push([e,t]))},e.always=function(t){var e=new $.Deferred;if(void 0===t)return e.resolve(),e.promise();void 0===t.length&&(t=[t]);var i=t.length,n=function(){i--,0===i&&e.resolve()};return $.each(t,function(){this.always(n)}),e.promise()},e}),define("massrel-js/generic_poller_cycle",["./helpers"],function(t){function e(e,i,n){this.cg=t.callback_group(),this.skip=this.cg(e),this.callback=this.cg(i),this.errback=this.cg(n),this._enabled=!0}return e.prototype.enabled=function(){return this._enabled},e.prototype.disable=function(){this.cg.deactivate(),this._enabled=!1},e}),define("massrel-js/generic_poller",["./helpers","./generic_poller_cycle"],function(t,e){function i(n,a){var s,r=this,o=function(){if(d){var a=t.callback_group(),s=a(l),o=function(e){if(r.consecutive_errors=0,i.failure_mode=r.failure_mode=!1,d){for(var n=0,a=r._filters.length;a>n;n++)e=r._filters[n].call(r,e);t.step_through([e],r._listeners,r),d&&s()}},c=function(){r.consecutive_errors+=1,i.failure_mode=r.failure_mode=!0,s(!0)};u=new e(s,o,c),r.fetch(n,r.opts,u)}},l=function(e){var i=t.poll_interval(1e3*r.frequency);e&&(i=t.poll_backoff(i,r.consecutive_errors)),s=setTimeout(o,i)},u=null,d=!1;this._listeners=[],this._filters=[],this.object=n,this.opts=a||{},this.frequency=this.opts.frequency||30,this.alive_count=0,this.consecutive_errors=0,this.failure_mode=!1,this.start=function(){return d||(d=!0,o()),this},this.stop=function(){return u&&(u.disable(),u=null),clearTimeout(s),d=!1,this}}return i.prototype.fetch=function(t,e,i){return t.load(e,i.callback,i.errback),this},i.prototype.data=function(t){return this._listeners.push(t),this},i.prototype.filter=function(t){return this._filters.push(t),this},i.failure_mode=!1,i}),define("massrel-js/poller_queue",["./helpers"],function(t){function e(e,i){function n(){if(!r&&a.length>0&&"function"==typeof s){var t=++o;l.enqueued-=1,l.count+=1;var e=a.shift();r=!0,s.call(l,e,function(){t===o&&(r=!1,setTimeout(n,0))})}}this.poller=e,i=t.extend(i||{},{});var a=[],s=null,r=!1,o=0;this.total=0,this.enqueued=0,this.count=0;var l=this;e.batch(function(t){for(var e=t.length,i=e-1;i>=0;i--)a.push(t[i]);l.total+=e,l.enqueued+=e,n()}),this.next=function(t){r||"function"!=typeof t||(s=t,n())}}return e}),define("massrel-js/poller",["./helpers","./generic_poller","./poller_queue"],function(t,e,i){function n(t,i){e.call(this,t,i),this.stream=this.object,this.filter(this.filter_newer),i=this.opts,this.newest_timestamp=i.newest_timestamp||null,this.stay_realtime="stay_realtime"in i?!!i.stay_realtime:!0,this.hail_mary_mode=!!i.hail_mary_mode,this.first=!0}return t.extend(n.prototype,e.prototype),n.prototype.fetch=function(e,i,n){var a=this,s={start_id:null},r=this.stay_realtime?"since_id":"from_id";return s[r]=a.since_id,i=t.extend({},i),this.first&&(i=t.extend(i.initial||{},i),delete i.initial),s=t.extend(s,i),this.cursorable()||delete s.since_id,e.load(s,function(t){n.enabled()&&(t&&t.length>0&&(a.since_id=t[0].entity_id,a.start_id||(a.start_id=t[t.length-1].entity_id)),n.callback(t),s.timeframe&&a.first&&a.stop(),a.first=!1)},n.errback),this},n.prototype.batch=function(t){return this.data(n.createEnumerator(t,!1))},n.prototype.each=function(t){return this.data(n.createEnumerator(t,!0))},n.prototype.queue=function(t){var e=new i(this);return e.next(t),this},n.prototype.more=function(e,i){var n=this,a=function(){n.object.load(t.extend({start_id:n.start_id,since_id:null},n.opts),function(t){t.length>0&&(n.start_id=t[t.length-1].entity_id,n.since_id||(n.since_id=t[0].entity_id)),e.call(n,t)},function(){"function"==typeof i&&i()})};return a(),this},n.prototype.cursorable=function(){return!(e.failure_mode||this.failure_mode||this.hail_mary_mode)},n.prototype.filter_newer=function(t){return t=n.filter_newer(t,this.newest_timestamp),t&&t.length>0&&(this.newest_timestamp=t[0].queued_at),t},n.prototype.poke=function(){return this},n.createEnumerator=function(e,i){return i?function(i){i&&i.length>0&&t.step_through(i,[e],this)}:function(t){t&&t.length>0&&e.call(this,t)}},n.filter_newer=function(t,e){var i="queued_at";if(t&&t.length>0){var n=this.limit||1/0;if(e)if(t[0][i]<=e)t=[];else if(t[t.length-1][i]>e)t.length>n&&t.splice(this.limit,t.length-n);else{for(var a=[],s=0,r=t.length;r>s&&a.length<n;s++){var o=t[s];if(!(o[i]>e))break;a.push(o)}t=a}else t.length>n&&t.splice(this.limit,t.length-n)}return t},n}),define("massrel-js/meta_poller",["./helpers","./generic_poller"],function(t,e){function i(){e.apply(this,arguments)}return t.extend(i.prototype,e.prototype),i.prototype.fetch=function(t,e,i){return t.meta(e,i.callback,i.errback),this},i.prototype.each=i.prototype.data,i}),define("massrel-js/top_things_poller",["./helpers","./generic_poller"],function(t,e){function i(t,i){i.thing=i.thing||"hashtags","number"==typeof i.resolution&&(i.resolution=i.resolution+"s"),e.apply(this,arguments)}return t.extend(i.prototype,e.prototype),i.prototype.fetch=function(t,e,i){return"number"==typeof e.resolution&&(e.resolution=e.resolution+"s"),t.topThings(e,i.callback,i.errback),this},i.mostRecentBucket=function(t){if(t.data&&t.data.length>0){for(var e=t.data.length-1;e>=0;e--)if(t.data[e].things&&t.data[e].things.length>0)return t.data[e];if(-1===e)return t.data[t.data.length-1]}return null},i.prototype.each=i.prototype.data,i}),define("massrel-js/stream_keyword_insights",["./helpers","./generic_poller"],function(t,e){function i(t,e){this.stream=t,this.defaults=e||{}}return i.prototype.url=function(){return this.stream.keyword_insights_url()},i.prototype.fetch=function(e,i,n){e=t.extend({},e||{}),e=t.extend(e,this.defaults);var a=this.params(e);return t.request_factory(this.url(),a,"_",this,function(){"function"==typeof i&&i.apply(this,arguments)},n),this},i.prototype.poller=function(t){var i=new e(this,t);return i.fetch=function(t,e,i){return t.fetch(e,i.callback,i.errback)},i},i.prototype.params=function(t){t=t||{};var e=[];return t.topics&&e.push(["topics","1"]),"start"in t&&e.push(["start",t.start]),"finish"in t&&e.push(["finish",t.finish]),t.resolution&&e.push(["resolution",t.resolution]),t.countries&&e.push(["countries",t.countries]),e},i}),define("massrel-js/stream_activity",["./helpers","./generic_poller"],function(t,e){function i(t,e){this.stream=t,this.defaults=e||{}}var n=encodeURIComponent;i.prototype.url=function(){return t.api_url("/"+n(this.stream.account)+"/"+n(this.stream.stream_name)+"/activity.json")},i.prototype.fetch=function(e,i,n){e=t.extend({},e||{}),e=t.extend(e,this.defaults);var a=this.params(e);return t.request_factory(this.url(),a,"_",this,function(n){if(n&&(!e.verbose||"0"===e.verbose)&&t.is_array(n.activity))for(var a=n.activity,s=0,r=a.length;r>s;s++){var o=n.start+n.period_size*s;a[s]=t.extend(a[s],{start:o,finish:Math.min(o+n.period_size,n.finish)})}"function"==typeof i&&i.apply(this,arguments)},n),this},i.prototype.poller=function(t){var i=new e(this,t);return i.fetch=function(t,e,i){return t.fetch(e,i.callback,i.errback)},i},i.prototype.params=function(e){e=e||{};var i=[];return e.view?i.push(["view",e.view]):e.topic&&i.push(["topic",e.topic]),t.timeParam(e.start,"start",i,!0),t.timeParam(e.finish,"finish",i,!0),"periods"in e&&i.push(["periods",e.periods]),e.resolution&&i.push(["resolution",e.resolution]),"tz_offset"in e&&i.push(["tz_offset",e.tz_offset]),e.encode&&i.push(["encode",e.encode]),i.push(["verbose",0]),i};var a=function(t,e,n){i.prototype[t]=function(){return this.defaults[e]=n,this}};return a("approved","view","approved"),a("pending","view","pending"),a("rejected","view","rejected"),a("minutes","resolution","1m"),a("ten_minutes","resolution","10m"),a("hours","resolution","1h"),a("days","resolution","1d"),i}),define("massrel-js/stream",["./helpers","./poller","./meta_poller","./top_things_poller","./stream_keyword_insights","./stream_activity"],function(t,e,i,n,a,s){function r(){var t=1===arguments.length?arguments[0].split("/"):arguments;this.account=t[0],this.stream_name=t[1],this._enumerators=[]}var o=encodeURIComponent;return r.prototype.stream_url=function(){return t.api_url("/"+o(this.account)+"/"+o(this.stream_name)+".json")},r.prototype.meta_url=function(){return t.api_url("/"+o(this.account)+"/"+o(this.stream_name)+"/meta.json")},r.prototype.top_things_url=function(e){return t.api_url("/"+o(this.account)+"/"+o(this.stream_name)+"/top_"+e+".json")},r.prototype.keyword_insights_url=function(){return t.api_url("/"+o(this.account)+"/"+o(this.stream_name)+"/keyword_insights.json")},r.prototype.load=function(e,i,n){e=t.extend(e||{},{});var a=this.buildParams(e);return t.request_factory(this.stream_url(),a,"_",this,i||this._enumerators,n),this},r.prototype.buildParams=function(e){e=e||{};var i=[];if(e.limit&&i.push(["limit",e.limit]),e.since_id?i.push(["since_id",e.since_id]):e.from_id?i.push(["from_id",e.from_id]):(e.start_id||e.start)&&i.push(["start",e.start_id||e.start]),e.replies&&i.push(["replies","1"]),e.geo_hint&&i.push(["geo_hint","1"]),e.from&&i.push(["from",e.from]),e.keywords&&i.push(["keywords",e.keywords]),e.lang&&i.push(["lang",e.lang]),e.network&&i.push(["network",e.network]),e.timeline_search&&i.push(["timeline_search","1"]),e.page_links&&i.push(["page_links","1"]),e.klout&&i.push(["klout","1"]),e.timeframe&&(t.timeParam(e.timeframe.start,"timeframe[start]",i),t.timeParam(e.timeframe.finish,"timeframe[finish]",i)),e.strip_links&&i.push(["strip_links","1"]),e.nonsquare_instagram&&i.push(["nonsquare_instagram","true"]),e.products)if(t.is_array(e.products))for(var n=0;n<e.products.length;n+=1)i.push(["products[]",e.products[n]]);else i.push(["products[]",e.products]);return e.tweet_mode&&i.push(["tweet_mode",e.tweet_mode]),i},r.prototype.each=function(t){return this._enumerators.push(t),this},r.prototype.poller=function(t){return new e(this,t)},r.prototype.meta=function(){var e,i,n;if("function"==typeof arguments[0])i=arguments[0],n=arguments[1],e={};else{if("object"!=typeof arguments[0])throw new Error("incorrect arguments");e=arguments[0],i=arguments[1],n=arguments[2]}var a=this.buildMetaParams(e);return t.request_factory(this.meta_url(),a,"meta_",this,i,n),this},r.prototype.buildMetaParams=function(t){t=t||{};var e=[];return t.all_topics&&e.push(["all_topics",t.all_topics]),t.disregard&&e.push(["disregard",t.disregard]),t.num_minutes&&e.push(["num_minutes",t.num_minutes]),t.num_hours&&e.push(["num_hours",t.num_hours]),t.num_days&&e.push(["num_days",t.num_days]),t.num_trends&&e.push(["num_trends",t.num_trends]),t.num_links&&e.push(["num_links",t.num_links]),t.num_hashtags&&e.push(["num_hashtags",t.num_hashtags]),t.num_contributors&&e.push(["num_contributors",t.num_contributors]),t.top_periods&&e.push(["top_periods",t.top_periods]),t.top_periods_relative&&e.push(["top_periods_relative",t.top_periods_relative]),t.top_count&&e.push(["top_count",t.top_count]),t.finish&&e.push(["finish",t.finish]),t.networks&&e.push(["networks","1"]),(t.activity||0===t.activity)&&e.push(["activity",t.activity]),t.tweet_mode&&e.push(["tweet_mode",t.tweet_mode]),e},r.prototype.metaPoller=function(t){return new i(this,t)},r.prototype.keywordInsights=function(t){return new a(this,t)},r.prototype.topThings=function(){var e,i,n;if("function"==typeof arguments[0])i=arguments[0],n=arguments[1],e={};else{if("object"!=typeof arguments[0])throw new Error("incorrect arguments");e=arguments[0],i=arguments[1],n=arguments[2]}var a=this.buildTopThingsParams(e);return t.request_factory(this.top_things_url(e.thing),a,"top_things_",this,i,n),this},r.prototype.buildTopThingsParams=function(e){e=e||{};var i=[];if(e.resolution){var n;n=t.is_number(e.resolution)?e.resolution+"s":e.resolution,i.push(["resolution",n])}return e.start&&i.push(["start",e.start]),e.finish&&i.push(["finish",e.finish]),e.limit&&i.push(["limit",e.limit]),e.percent&&i.push(["percent","1"]),e.tweet_mode&&i.push(["tweet_mode",e.tweet_mode]),i},r.prototype.topThingsPoller=function(t){return new n(this,t)},r.prototype.activity=function(t){return new s(this,t)},r}),define("massrel-js/account",["./helpers","./meta_poller"],function(t,e){function i(t){this.user=t}var n=encodeURIComponent;return i.prototype.meta_url=function(){return t.api_url("/"+n(this.user)+".json")},i.prototype.meta=function(){var e,i,n;if("function"==typeof arguments[0])i=arguments[0],n=arguments[1],e={};else{if("object"!=typeof arguments[0])throw new Error("incorrect arguments");e=arguments[0],i=arguments[1],n=arguments[2]}var a=this.buildMetaParams(e);return t.request_factory(this.meta_url(),a,"meta_",this,i,n),this},i.prototype.buildMetaParams=function(e){e=e||{};var i=[];if(e.quick_stats&&i.push(["quick_stats","1"]),e.streams){var n=t.is_array(e.streams)?e.streams:[e.streams];i.push(["streams",n.join(",")])}return e.num_minutes&&i.push(["num_minutes",e.num_minutes]),e.num_trends&&i.push(["num_trends",e.num_trends]),e.start&&i.push(["start",e.start]),e.finish&&i.push(["finish",e.finish]),i},i.prototype.metaPoller=function(t){return new e(this,t)},i.prototype.toString=function(){return this.user},i}),define("massrel-js/context",["./helpers"],function(t){function e(t){this.status=t,this.source={facebook:!1,twitter:!1,getglue:!1,google:!1,instagram:!1,rss:!1,message:!1},this.known=!1,this.intents=!0}return e.create=function(i,n){i=i||{};var a=new e(i);return n=t.extend(n||{},{intents:!0,retweeted_by:!0}),a.intents=n.intents,"undefined"!=typeof a.source[i.network]&&(a.source[i.network]=a.known=!0,a.sourceName=i.network),"google_plus"===i.network&&(a.source.google=a.known=!0,a.sourceName="google"),"massrelevance"===i.network&&(a.source.message=a.known=!0,a.sourceName="message"),a.source.twitter&&i.retweeted_status&&n.retweeted_by&&(a.retweet=!0,a.retweeted_by_user=i.user,a.status=i.retweeted_status),a},e.prototype.getPhotoUrl=function(){if(void 0!==this.photo_url)return this.photo_url;var t=!1;if(this.status&&this.known)if(this.source.twitter)if(this.status.entities.media&&this.status.entities.media.length){var e=this.status.entities.media[0];t={url:e.media_url,width:e.sizes.medium.w,height:e.sizes.medium.h,link_url:e.url||e.expanded_url}}else this.status.entities.urls&&this.status.entities.urls.length&&(t={url:this.status.entities.urls[0].expanded_url||this.status.entities.urls[0].url});else this.source.facebook&&(this.status.type&&"photo"===this.status.type||this.status.kind&&"photo"===this.status.kind)?t={url:this.status.picture.replace(/_[st]./,"_n.")}:this.source.google&&this.status.object.attachments.length&&"photo"===this.status.object.attachments[0].objectType?t={url:this.status.object.attachments[0].fullImage.url}:this.source.instagram&&"image"===this.status.type&&(t={url:this.status.images.standard_resolution.url});return this.photo_url=t,t},e}),define("massrel-js/compare_poller",["./helpers","./generic_poller"],function(t,e){function i(){e.apply(this,arguments)}return t.extend(i.prototype,e.prototype),i.prototype.fetch=function(t,e,i){return t.load(e,i.callback,i.errback),this},i.prototype.each=i.prototype.data,i}),define("massrel-js/compare",["./helpers","./compare_poller"],function(t,e){function i(e){this.streams=t.is_array(e)?e.slice(0):"string"==typeof e?[e]:[]
}return i.prototype.compare_url=function(){return t.api_url("/compare.json")},i.prototype.buildParams=function(t){var e=[];return t=t||{},t.streams&&e.push(["streams",t.streams]),(t.target||t.target>=0)&&e.push(["target",t.target.toString()]),t.precision&&t.precision>0&&e.push(["precision",t.precision]),e},i.prototype.load=function(e,i,n){"function"==typeof e&&(n=i,i=e,e=null);var a=this.buildParams(t.extend({streams:this.streams,precision:this.precision,target:this.target},e||{}));return t.request_factory(this.compare_url(),a,"meta_",this,i,n),this},i.prototype.poller=function(t){return new e(this,t)},i}),define("massrel-js/intents",["./helpers"],function(t){var e={base_url:"https://twitter.com/intent/",params:{text:"(string): default text, for tweet/reply",url:"(string): prefill url, for tweet/reply",hashtags:"(string): hashtag (or list with ,) without #, for tweet/reply",related:"(string): screen name (or list with ,) without @, available for all",in_reply_to:"(number): tweet id, only for reply",via:"(string): screen name without @, tweet/reply",tweet_id:"(number): tweet id, for retweet and favorite",screen_name:"(string): only for user/profile",user_id:"(number): only for user/profile",original_referer:'(string): url to display with related ("www.yahoo.com suggests you follow:")'},original_referer:window.top!==window.self&&document.referrer||null};return e.url=function(i,n){if(n=t.extend({},n||{}),void 0===n.original_referer&&e.original_referer&&(n.original_referer=e.original_referer),n.original_referer&&!/^https?:\/\//.test(n.original_referer)&&(n.original_referer="http://"+n.original_referer),n.hashtags&&navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/)){var a=n.text?[n.text]:[];n.url&&(a.push(n.url),delete n.url),a.push("#"+n.hashtags.split(/\s*,\s*/).join(" #").replace(/^\s+|\s+$/gm,"")),delete n.hashtags,n.text=a.join(" ")}var s=[];for(var r in n)s.push([r,n[r]]);return e.base_url+encodeURIComponent(i)+"?"+t.to_qs(s)},e.tweet=function(t){return e.url("tweet",t)},e.reply=function(t,i){return i=i||{},i.in_reply_to=t,e.tweet(i)},e.retweet=function(t,i){return i=i||{},i.tweet_id=t,e.url("retweet",i)},e.favorite=function(t,i){return i=i||{},i.tweet_id=t,e.url("favorite",i)},e.user=function(t,i){return i=i||{},/^\d+$/.test(t+"")?i.user_id=t:i.screen_name=t,e.url("user",i)},e.profile=e.user,e}),define("massrel-js/search",["require","./helpers"],function(t){var e=t("./helpers"),i=function(t){this.apiToken=t};return i.prototype.url=function(){return e.api_url("/search/search.json")},i.prototype.fetch=function(t,i,n){return t=this.buildQueryString(t),e.request_factory(this.url(),t,"_",this,i,n),this},i.prototype.buildQueryString=function(t){var e=[];if("string"==typeof t.q&&e.push(["q",t.q]),t.filters&&(e=e.concat(this.buildParams(t.filters,"filter."))),t.views){var i,n;for(i in t.views)n=t.views[i],"boolean"==typeof n?e.push(["view."+i,n?"1":"0"]):e=e.concat(this.buildParams(n,"view."+i+"."))}return this.apiToken&&e.push(["api_token",this.apiToken]),e},i.prototype.buildParams=function(t,i){i=i||"";var n,a,s,r=[];for(n in t)for(a=t[n],e.is_array(a)||(a=[a]),s=0,len=a.length;len>s;s++){var o=a[s];"boolean"==typeof o&&(o=o?"1":"0"),r.push([i+n,o])}return r},i}),define("massrel-js/facebook_media_questions",["./helpers","./generic_poller"],function(t,e){function i(){}return i.prototype.url=function(){return t.api_url("/facebook/media_question.json")},i.prototype.buildParams=function(t){t=t||{};var e=[];return t.id&&e.push(["id",t.id]),t.page&&e.push(["page",t.page]),e},i.prototype.load=function(e,i,n){e=t.extend(e||{},{});var a=this.buildParams(e);return t.request_factory(this.url(),a,"_",this,i||this._enumerators,n),this},i.prototype.poller=function(t){return new e(this,t)},i}),define("massrel-js/massrel",["./globals","./helpers","./stream","./account","./stream_keyword_insights","./stream_activity","./generic_poller","./generic_poller_cycle","./poller","./meta_poller","./top_things_poller","./poller_queue","./context","./compare","./compare_poller","./intents","./search","./facebook_media_questions"],function(t,e,i,n,a,s,r,o,l,u,d,c,p,h,m,f,_,g){t.Stream=i,t.Account=n,t.StreamKeywordInsights=a,t.StreamActivity=s,t.GenericPoller=r,t.GenericPollerCycle=o,t.Poller=l,t.MetaPoller=u,t.TopThingsPoller=d,t.PollerQueue=c,t.Context=p,t.Compare=h,t.ComparePoller=m,t.helpers=e,t.intents=f,t.Search=_,t.FacebookMediaQuestion=g;var v=e.parse_params();return v["massrel[host]"]&&(t.host=v["massrel[host]"]),t}),define("massrel-js",["massrel-js/massrel"],function(t){return t}),define("components/action-bar-2/models/ActionBarModel",["require","backbone-amd","massrel-js","lodash"],function(t){var e=t("backbone-amd"),i=t("massrel-js"),n=t("lodash");return e.Model.extend({defaults:{single_conversation_button:!0,single_conversation_text:"",single_conversation_ada_text:"",enable_tweet:!0,tweet:{hashtags:"",related:"",url:"",text:""},tweet_ada_text:"Tweet about this",enable_fb_post:!0,fb_post:{link:"",feed:"",name:"",picture:"",caption:"",description:""},fb_post_ada_text:"Post on Facebook",enable_share_photo:!0,share_photo:{facebook:!0,facebook_settings:{destination:""},twitter:!0,twitter_settings:{hashtags:"",text:""}},share_photo_ada_text:"Share a photo via Twitter or Facebook",single_follow_button:!0,single_follow_text:"",single_follow_ada_text:"",enable_follow:!0,follow_link:"spredfast",follow_ada_text:"Follow us on Twitter",enable_fb_like:!0,fb_like_link:"spredfast",fb_like_ada_text:"Like us on Facebook",enable_insta_follow:!0,insta_follow_link:"spredfast",insta_follow_ada_text:"Follow us on Instagram"},initialize:function(t){this.set(n.extend({},this.defaults,n.pick(t.config,n.keys(this.defaults))))},_cleanLink:function(t,e){return(t=t.trim())?/^https?:\/\//.test(t)?t:(t=t.replace(/^(@)/,""),e+t):!1},followLink:function(){return this.get("enable_follow")?i.intents.user(this.get("follow_link")):!1},tweetLink:function(){var t=["text","url","hashtags","original_referer","related"],e=this.get("tweet");e.hashtags&&(e.hashtags=e.hashtags.replace(/#/g,"").replace(/ /g,",")),t=n.reject(t,function(t){return n.isEmpty(e[t])});var a=i.intents.tweet(n.pick(e,t));return this.get("enable_tweet")?a:!1},fb_likeLink:function(){var t=this._cleanLink(this.get("fb_like_link"),"https://www.facebook.com/");return this.get("enable_fb_like")?t:!1},insta_followLink:function(){var t=this._cleanLink(this.get("insta_follow_link"),"https://www.instagram.com/");return this.get("enable_insta_follow")?t:!1}})}),define("tmpl!action-bar-button",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<span class="ada-text">'+__e(ada_text)+"</span>\n",obj.icon&&(__p+='\n<i class="action-bar-link-icon '+__e(icon)+'"></i>\n'),__p+="\n\n",obj.text&&(__p+='\n<div class="action-bar-link-text">'+__e(text)+"</div>\n");return __p},metadata:{},name:"action-bar-button"})}),define("components/photo-share-button-6/js/models/PhotoShareDialogModel",["require","lodash","backbone-amd"],function(t){var e=t("lodash"),i=t("backbone-amd");return i.Model.extend({defaults:{sources:[{title:"Facebook",type:"facebook",icon:"facebook-logo"},{title:"Instagram",type:"instagram",icon:"instagram-logo"},{title:"My Device",type:"local",icon:"monitor"}],terms_text:""},initialize:function(t){return this.set("sources",e.filter(this.get("sources"),function(e){return t.photo_sources[e.type]})),this}})}),define("tmpl!photo-share-dialog-6",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="header">\n  <h2>Add Image</h2>\n  <ul class="breadcrumb">\n    <li class="active">Choose Source <i class="icon-angle-right" /></li>\n    <li>Select Images <i class="icon-angle-right" /></li>\n    <li>Confirm</li>\n</ul>\n</div>\n\n<div class="tabs">\n  <div class="tab source active">\n    <h3>Where do you want to get your photos?</h3>\n    ',_.each(sources,function(t){__p+="\n      "+(null==(__t=subview("source-option",t))?"":__t)+"\n    "}),__p+='\n  </div>\n  <div class="tab select-images">\n  </div>\n  <div class="tab success">\n    <div class="giant-checkmark"><i class="icon-vote-check"/></div>\n    <h2>'+(null==(__t=confirmation_page.title)?"":__t)+'</h2>\n    <div class="thanks">'+(null==(__t=confirmation_page.copy)?"":__t)+'</div>\n    <div class="close-button button mr-action-click" data-action="close">CLOSE</div>\n  </div>\n</div>\n\n<div class="errors"></div>\n';return __p},metadata:{},name:"photo-share-dialog-6"})}),define("components/photo-share-button-6/js/views/PhotoSourceOptionView",["require","lib/views/BaseView","lodash"],function(t){var e=t("lib/views/BaseView"),i=t("lodash");return e.extend({tagName:"div",className:"source-option mr-action-click",attributes:{"data-action":"select"},template:i.template('<i class="icon-<%-icon%>"></i><span class="source-option-title"><%- title %></span>'),initialize:function(t){return this.model=t.model,this.dispatcher=this._closest("dispatcher"),this},handlers:{select:function(){this.dispatcher.trigger("source-selected",this)}}})}),define("tmpl!photo-share-my-device-6",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="photo-chooser">\n  <h3>Which photos do you want to add?</h3>\n  <div class="file-select">\n    <div class="upload-target"></div>\n  </div>\n</div>\n<div class="photo-confirm">\n  <h3>Add this photo?</h3>\n</div>\n\n<div class="image-previews">\n</div>\n\n<div class="comment-box">\n  <h3>Add Comment</h3>\n  <textarea placeholder="Enter Text here...">'+__e(message)+'</textarea>\n</div>\n\n<div class="select-footer">\n  <div class="back-button mr-action-click" data-action="back">&lt; BACK</div>\n  <div class="selected-label"></div>\n  <div class="next-button button inactive mr-action-click" data-action="next">NEXT</div>\n  <div class="share-buttons">\n  ',upload_settings.facebook&&(__p+='\n  <div class="facebook-button">\n    <a class="social-button facebook button-style-color mr-action-click" data-action="share-facebook">\n      <i class="icon icon-facebook-logo"></i>\n      <span class="button-text">Share via Facebook</span>\n    </a>\n  </div>\n  '),__p+="\n  ",upload_settings.twitter&&(__p+='\n  <div class="twitter-button">\n    <a class="social-button twitter button-style-color mr-action-click" data-action="share-twitter">\n      <i class="icon icon-twitter-logo"></i>\n      <span class="button-text">Share via Twitter</span>\n    </a>\n  </div>\n  '),__p+="\n  </div>\n</div>";return __p},metadata:{},name:"photo-share-my-device-6"})}),define("components/photo-share-button-6/js/utils",["require","lodash","jquery"],function(t){function e(t,e){var i=(t||"").split(/\s|,/);return i=s.map(i,function(t){for(t=r.trim(t);"#"===t.charAt(0);)t=t.substring(1);return t}),i=s.reject(i,function(t){return 0===t.length}),e&&(i=s.map(i,function(t){return"#"+t})),i}function i(t){return o-l-(t||"").length}function n(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function a(t,e){var i=r.now(),n=i+e;return function(){var e=arguments;s.delay(function(){t.apply(this,e)},Math.max(n-r.now(),0))}}var s=t("lodash"),r=t("jquery"),o=140,l=23;return{emptyPromise:function(){return{then:r.noop,call:r.noop}},getCookie:n,minDelayedExecutor:a,parseHashtags:e,tweetCharacterCount:i}}),define("tmpl!photo-share-upload-zone-6",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="qq-uploader">\n  <div class="qq-upload-drop-area">\n    <p>Drop your image here.</p>\n  </div>\n  <div class="qq-upload-button upload-button">\n    <p class="drag-and-drop">Drop images here or click to browse</p>\n    <p class="click-only">Click to select a photo.</p>\n    <label for="qq-upload-button-input" class="ada-text">Click to select a photo to upload and share</label>\n  </div>\n  <span class="qq-drop-processing">\n    <span>Processing file.</span>\n    <span class="qq-drop-processing-spinner"></span>\n  </span>\n  <ul class="qq-upload-list"></ul>\n</div>\n\n';return __p},metadata:{},name:"photo-share-upload-zone-6"})}),define("fine-uploader/s3.fineuploader",["require"],function(require){var qq=function(t){return{hide:function(){return t.style.display="none",this},attach:function(e,i){return t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i),function(){qq(t).detach(e,i)}},detach:function(e,i){return t.removeEventListener?t.removeEventListener(e,i,!1):t.attachEvent&&t.detachEvent("on"+e,i),this},contains:function(e){return e?t===e?!0:t.contains?t.contains(e):!!(8&e.compareDocumentPosition(t)):!1},insertBefore:function(e){return e.parentNode.insertBefore(t,e),this},remove:function(){return t.parentNode.removeChild(t),this},css:function(e){if(null!=e.opacity){var i=typeof t.filters;"string"!=typeof t.style.opacity&&"undefined"!==i&&(e.filter="alpha(opacity="+Math.round(100*e.opacity)+")")}return qq.extend(t.style,e),this},hasClass:function(e){var i=new RegExp("(^| )"+e+"( |$)");return i.test(t.className)},addClass:function(e){return qq(t).hasClass(e)||(t.className+=" "+e),this},removeClass:function(e){var i=new RegExp("(^| )"+e+"( |$)");return t.className=t.className.replace(i," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(e){var i,n=[];return t.querySelectorAll?t.querySelectorAll("."+e):(i=t.getElementsByTagName("*"),qq.each(i,function(t,i){qq(i).hasClass(e)&&n.push(i)}),n)},children:function(){for(var e=[],i=t.firstChild;i;)1===i.nodeType&&e.push(i),i=i.nextSibling;return e},setText:function(e){return t.innerText=e,t.textContent=e,this},clearText:function(){return qq(t).setText("")}}};return qq.log=function(t,e){window.console&&(e&&"info"!==e?window.console[e]?window.console[e](t):window.console.log("<"+e+"> "+t):window.console.log(t))},qq.isObject=function(t){return t&&!t.nodeType&&"[object Object]"===Object.prototype.toString.call(t)},qq.isFunction=function(t){return"function"==typeof t},qq.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},qq.isItemList=function(t){return"[object DataTransferItemList]"===Object.prototype.toString.call(t)},qq.isNodeList=function(t){return"[object NodeList]"===Object.prototype.toString.call(t)||t.item&&t.namedItem},qq.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},qq.trimStr=function(t){return String.prototype.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},qq.format=function(t){var e=Array.prototype.slice.call(arguments,1),i=t;return qq.each(e,function(t,e){i=i.replace(/{}/,e)}),i},qq.isFile=function(t){return window.File&&"[object File]"===Object.prototype.toString.call(t)},qq.isFileList=function(t){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(t)},qq.isFileOrInput=function(t){return qq.isFile(t)||qq.isInput(t)},qq.isInput=function(t){return window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(t)&&t.type&&"file"===t.type.toLowerCase()?!0:t.tagName&&"input"===t.tagName.toLowerCase()&&t.type&&"file"===t.type.toLowerCase()?!0:!1},qq.isBlob=function(t){return window.Blob&&"[object Blob]"===Object.prototype.toString.call(t)},qq.isXhrUploadSupported=function(){var t=document.createElement("input");return t.type="file",void 0!==t.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&"undefined"!=typeof qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(t){return t.items&&t.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.android()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.extend=function(t,e,i){return qq.each(e,function(e,n){i&&qq.isObject(n)?(void 0===t[e]&&(t[e]={}),qq.extend(t[e],n,!0)):t[e]=n}),t},qq.override=function(t,e){var i={},n=e(i);return qq.each(n,function(e,n){void 0!==t[e]&&(i[e]=t[e]),t[e]=n}),t},qq.indexOf=function(t,e,i){if(t.indexOf)return t.indexOf(e,i);i=i||0;var n=t.length;for(0>i&&(i+=n);n>i;i+=1)if(t.hasOwnProperty(i)&&t[i]===e)return i;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random(),i="x"==t?e:8|3&e;return i.toString(16)})},qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")},qq.ie7=function(){return-1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.ie11=function(){return-1!==navigator.userAgent.indexOf("Trident")&&-1!==navigator.userAgent.indexOf("rv:11")},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.opera=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Opera")},qq.firefox=function(){return!qq.ie11()&&-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios7=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},qq.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},qq.toElement=function(){var t=document.createElement("div");return function(e){t.innerHTML=e;var i=t.firstChild;return t.removeChild(i),i}}(),qq.each=function(t,e){var i,n;if(t)if(window.Storage&&t.constructor===window.Storage)for(i=0;i<t.length&&(n=e(t.key(i),t.getItem(t.key(i))),n!==!1);i++);else if(qq.isArray(t)||qq.isItemList(t)||qq.isNodeList(t))for(i=0;i<t.length&&(n=e(i,t[i]),n!==!1);i++);else if(qq.isString(t))for(i=0;i<t.length&&(n=e(i,t.charAt(i)),n!==!1);i++);else for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&(n=e(i,t[i]),n===!1))break},qq.bind=function(t,e){if(qq.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return function(){var n=qq.extend([],i);return arguments.length&&(n=n.concat(Array.prototype.slice.call(arguments))),t.apply(e,n)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(t,e,i){var n=[],a="&",s=function(t,i){var a=e?/\[\]$/.test(e)?e:e+"["+i+"]":i;"undefined"!==a&&"undefined"!==i&&n.push("object"==typeof t?qq.obj2url(t,a,!0):"[object Function]"===Object.prototype.toString.call(t)?encodeURIComponent(a)+"="+encodeURIComponent(t()):encodeURIComponent(a)+"="+encodeURIComponent(t))};return!i&&e?(a=/\?/.test(e)?/\?$/.test(e)?"":"&":"?",n.push(e),n.push(qq.obj2url(t))):"[object Array]"===Object.prototype.toString.call(t)&&"undefined"!=typeof t?qq.each(t,function(t,e){s(e,t)}):"undefined"!=typeof t&&null!==t&&"object"==typeof t?qq.each(t,function(t,e){s(e,t)}):n.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),e?n.join(a):n.join(a).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(t,e,i){return e||(e=new FormData),qq.each(t,function(t,n){t=i?i+"["+t+"]":t,qq.isObject(n)?qq.obj2FormData(n,e,t):qq.isFunction(n)?e.append(t,n()):e.append(t,n)}),e},qq.obj2Inputs=function(t,e){var i;return e||(e=document.createElement("form")),qq.obj2FormData(t,{append:function(t,n){i=document.createElement("input"),i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}}),e},qq.setCookie=function(t,e,i){var n=new Date,a="";i&&(n.setTime(n.getTime()+1e3*60*60*24*i),a="; expires="+n.toGMTString()),document.cookie=t+"="+e+a+"; path=/"},qq.getCookie=function(t){var e,i=t+"=",n=document.cookie.split(";");return qq.each(n,function(t,n){for(var a=n;" "==a.charAt(0);)a=a.substring(1,a.length);return 0===a.indexOf(i)?(e=a.substring(i.length,a.length),!1):void 0}),e},qq.getCookieNames=function(t){var e=document.cookie.split(";"),i=[];return qq.each(e,function(e,n){n=qq.trimStr(n);var a=n.indexOf("=");n.match(t)&&i.push(n.substr(0,a))}),i},qq.deleteCookie=function(t){qq.setCookie(t,"",-1)},qq.areCookiesEnabled=function(){var t=1e5*Math.random(),e="qqCookieTest:"+t;return qq.setCookie(e,1),qq.getCookie(e)?(qq.deleteCookie(e),!0):!1},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(t){var e=t.lastIndexOf(".")+1;return e>0?t.substr(e,t.length-e):void 0},qq.DisposeSupport=function(){var t=[];return{dispose:function(){var e;do e=t.shift(),e&&e();while(e)},attach:function(){var t=arguments;this.addDisposer(qq(t[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(e){t.push(e)}}},qq.version="3.9.0-3",qq.supportedFeatures=function(){function t(){var t,e=!0;try{t=document.createElement("input"),t.type="file",qq(t).hide(),t.disabled&&(e=!1)}catch(i){e=!1}return e}function e(){return qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/)}function i(){return qq.chrome()&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)}function n(){if(window.XMLHttpRequest){var t=qq.createXhrInstance();return void 0!==t.withCredentials}return!1}function a(){return void 0!==window.XDomainRequest}function s(){return n()?!0:a()}function r(){return void 0!==document.createElement("input").webkitdirectory}var o,l,u,d,c,p,h,m,f,_,g;return o=t(),l=o&&qq.isXhrUploadSupported(),u=l&&e(),d=l&&qq.isFileChunkingSupported(),c=l&&d&&qq.areCookiesEnabled(),p=l&&i(),h=o&&(void 0!==window.postMessage||l),f=n(),m=a(),_=s(),g=r(),{uploading:o,ajaxUploading:l,fileDrop:l,folderDrop:u,chunking:d,resume:c,uploadCustomHeaders:l,uploadNonMultipart:l,itemSizeValidation:l,uploadViaPaste:p,progressBar:l,uploadCors:h,deleteFileCorsXhr:f,deleteFileCorsXdr:m,deleteFileCors:_,canDetermineSize:l,folderSelection:g}}(),qq.Promise=function(){var t,e,i=[],n=[],a=[],s=0;return{then:function(a,r){return 0===s?(a&&i.push(a),r&&n.push(r)):-1===s&&r?r.apply(null,e):a&&a.apply(null,t),this},done:function(i){return 0===s?a.push(i):i.apply(null,void 0===e?t:e),this},success:function(){return s=1,t=arguments,i.length&&qq.each(i,function(e,i){i.apply(null,t)}),a.length&&qq.each(a,function(e,i){i.apply(null,t)}),this},failure:function(){return s=-1,e=arguments,n.length&&qq.each(n,function(t,i){i.apply(null,e)}),a.length&&qq.each(a,function(t,i){i.apply(null,e)}),this}}},qq.isPromise=function(t){return t&&t.then&&t.done},qq.UploadButton=function(t){function e(){var t=document.createElement("input");return t.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,n),s.multiple&&t.setAttribute("multiple",""),s.folders&&qq.supportedFeatures.folderSelection&&t.setAttribute("webkitdirectory",""),s.acceptFiles&&t.setAttribute("accept",s.acceptFiles),t.setAttribute("type","file"),t.setAttribute("name",s.name),qq(t).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),s.element.appendChild(t),a.attach(t,"change",function(){s.onChange(t)}),a.attach(t,"mouseover",function(){qq(s.element).addClass(s.hoverClass)}),a.attach(t,"mouseout",function(){qq(s.element).removeClass(s.hoverClass)}),a.attach(t,"focus",function(){qq(s.element).addClass(s.focusClass)}),a.attach(t,"blur",function(){qq(s.element).removeClass(s.focusClass)}),window.attachEvent&&t.setAttribute("tabIndex","-1"),t}var i,n,a=new qq.DisposeSupport,s={element:null,multiple:!1,acceptFiles:null,folders:!1,name:"qqfile",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};return qq.extend(s,t),n=qq.getUniqueId(),qq(s.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),i=e(),{getInput:function(){return i},getButtonId:function(){return n},setMultiple:function(t){t!==s.multiple&&(t?i.setAttribute("multiple",""):i.removeAttribute("multiple"))},setAcceptFiles:function(t){t!==s.acceptFiles&&i.setAttribute("accept",t)},reset:function(){i.parentNode&&qq(i).remove(),qq(s.element).removeClass(s.focusClass),i=e()}}},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(t){function e(t){if(qq.isArray(t)){var e=[];return qq.each(t,function(t,i){e.push(s[r[i]])}),e}return s[r[t]]}function i(t){if(qq.isArray(t)){var e=[];return qq.each(t,function(t,i){e.push(s[o[i]])}),e}return s[o[t]]}function n(t){var e=[],i=[].concat(t);return qq.each(i,function(t,i){var n=l[i];void 0!==n&&qq.each(n,function(t,i){e.push(s[i])})}),e}var a,s=[],r={},o={},l={};return a={added:function(e){var i=t.getUuid(e),n=t.getName(e),a=t.getSize(e),u=qq.status.SUBMITTING,d=s.push({id:e,name:n,originalName:n,uuid:i,size:a,status:u})-1;r[e]=d,o[i]=d,void 0===l[u]&&(l[u]=[]),l[u].push(d),t.onStatusChange(e,void 0,u)},retrieve:function(t){return qq.isObject(t)&&s.length?void 0!==t.id?e(t.id):void 0!==t.uuid?i(t.uuid):t.status?n(t.status):void 0:qq.extend([],s,!0)},reset:function(){s=[],r={},o={},l={}},setStatus:function(e,i){var n=r[e],a=s[n].status,o=qq.indexOf(l[a],n);l[a].splice(o,1),s[n].status=i,void 0===l[i]&&(l[i]=[]),l[i].push(n),t.onStatusChange(e,a,i)},uuidChanged:function(t,e){var i=r[t],n=s[i].uuid;s[i].uuid=e,o[e]=i,delete o[n]},nameChanged:function(t,e){var i=r[t];s[i].name=e}}},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",UPLOADING:"uploading",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},qq.basePublicApi={log:function(t,e){!this._options.debug||e&&"info"!==e?e&&"info"!==e&&qq.log("[FineUploader "+qq.version+"] "+t,e):qq.log("[FineUploader "+qq.version+"] "+t)},setParams:function(t,e){null==e?this._options.request.params=t:this._paramsStore.setParams(t,e)},setDeleteFileParams:function(t,e){null==e?this._options.deleteFile.params=t:this._deleteFileParamsStore.setParams(t,e)},setEndpoint:function(t,e){null==e?this._options.request.endpoint=t:this._endpointStore.setEndpoint(t,e)},getInProgress:function(){return this._filesInProgress.length},getNetUploads:function(){return this._netUploaded},uploadStoredFiles:function(){var t;if(0===this._storedIds.length)this._itemError("noFilesError");else for(;this._storedIds.length;)t=this._storedIds.shift(),this._filesInProgress.push(t),this._handler.upload(t)},clearStoredFiles:function(){this._storedIds=[]},retry:function(t){return this._manualRetry(t)},cancel:function(t){this._handler.cancel(t)},cancelAll:function(){var t=[],e=this;qq.extend(t,this._storedIds),qq.each(t,function(t,i){e.cancel(i)}),this._handler.cancelAll()},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._filesInProgress=[],this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],qq.each(this._buttons,function(t,e){e.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset()},addFiles:function(t,e,i){var n,a,s,r=this,o=[];if(t){for(qq.isFileList(t)||(t=[].concat(t)),n=0;n<t.length;n+=1)if(a=t[n],qq.isFileOrInput(a))if(qq.isInput(a)&&qq.supportedFeatures.ajaxUploading)for(s=0;s<a.files.length;s++)o.push(a.files[s]);else o.push(a);else r.log(a+" is not a File or INPUT element!  Ignoring!","warn");this.log("Received "+o.length+" files or inputs."),this._prepareItemsForUpload(o,e,i)}},addBlobs:function(t,e,i){if(t){var n=[].concat(t),a=[],s=this;qq.each(n,function(t,e){qq.isBlob(e)&&!qq.isFileOrInput(e)?a.push({blob:e,name:s._options.blobs.defaultName}):qq.isObject(e)&&e.blob&&e.name?a.push(e):s.log("addBlobs: entry at index "+t+" is not a Blob or a BlobData object","error")}),this._prepareItemsForUpload(a,e,i)}else this.log("undefined or non-array parameter passed into addBlobs","error")},getUuid:function(t){return this._handler.getUuid(t)},setUuid:function(t,e){return this._handler.setUuid(t,e)},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(t){return this._handler.getSize(t)},getName:function(t){return this._handler.getName(t)},setName:function(t,e){this._handler.setName(t,e),this._uploadData.nameChanged(t,e)},getFile:function(t){return this._handler.getFile(t)},deleteFile:function(t){this._onSubmitDelete(t)},setDeleteFileEndpoint:function(t,e){null==e?this._options.deleteFile.endpoint=t:this._deleteFileEndpointStore.setEndpoint(t,e)},doesExist:function(t){return this._handler.isValid(t)},getUploads:function(t){return this._uploadData.retrieve(t)},getButton:function(t){return this._getButton(this._buttonIdsForFileIds[t])}},qq.basePrivateApi={_generateExtraButtonSpecs:function(){var t=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(e,i){var n=i.multiple,a=qq.extend({},t._options.validation,!0),s=qq.extend({},i);void 0===n&&(n=t._options.multiple),s.validation&&qq.extend(a,i.validation,!0),qq.extend(s,{multiple:n,validation:a},!0),t._initExtraButton(s)})},_initExtraButton:function(t){var e=this._createUploadButton({element:t.element,multiple:t.multiple,accept:t.validation.acceptFiles,folders:t.folders});this._extraButtonSpecs[e.getButtonId()]=t},_getButtonId:function(t){var e,i;if(t&&!t.blob&&!qq.isBlob(t)){if(qq.isFile(t))return t.qqButtonId;if("input"===t.tagName.toLowerCase()&&"file"===t.type.toLowerCase())return t.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(e=t.getElementsByTagName("input"),qq.each(e,function(t,e){return"file"===e.getAttribute("type")?(i=e,!1):void 0}),i)return i.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_annotateWithButtonId:function(t,e){qq.isFile(t)&&(t.qqButtonId=this._getButtonId(e))},_getButton:function(t){var e=this._extraButtonSpecs[t];return e?e.element:t===this._defaultButtonId?this._options.button:void 0},_handleCheckedCallback:function(t){var e=this,i=t.callback();return qq.isPromise(i)?(this.log(t.name+" - waiting for "+t.name+" promise to be fulfilled for "+t.identifier),i.then(function(i){e.log(t.name+" promise success for "+t.identifier),t.onSuccess(i)},function(){t.onFailure?(e.log(t.name+" promise failure for "+t.identifier),t.onFailure()):e.log(t.name+" promise failure for "+t.identifier)})):(i!==!1?t.onSuccess(i):t.onFailure?(this.log(t.name+" - return value was 'false' for "+t.identifier+".  Invoking failure callback."),t.onFailure()):this.log(t.name+" - return value was 'false' for "+t.identifier+".  Will not proceed."),i)},_createUploadButton:function(t){var e=this,i=void 0===t.multiple?this._options.multiple:t.multiple,n=t.accept||this._options.validation.acceptFiles,a=new qq.UploadButton({element:t.element,folders:t.folders,name:this._options.request.inputName,multiple:i&&qq.supportedFeatures.ajaxUploading,acceptFiles:n,onChange:function(t){e._onInputChange(t)},hoverClass:this._options.classes.buttonHover,focusClass:this._options.classes.buttonFocus});return this._disposeSupport.addDisposer(function(){a.dispose()}),e._buttons.push(a),a},_createUploadHandler:function(t,e){var i=this,n={debug:this._options.debug,maxConnections:this._options.maxConnections,inputName:this._options.request.inputName,cors:this._options.cors,demoMode:this._options.demoMode,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:function(t,e){i.log(t,e)
},onProgress:function(t,e,n,a){i._onProgress(t,e,n,a),i._options.callbacks.onProgress(t,e,n,a)},onComplete:function(t,e,n,a){var s=i._onComplete(t,e,n,a);qq.isPromise(s)?s.done(function(){i._options.callbacks.onComplete(t,e,n,a)}):i._options.callbacks.onComplete(t,e,n,a)},onCancel:function(t,e){return i._handleCheckedCallback({name:"onCancel",callback:qq.bind(i._options.callbacks.onCancel,i,t,e),onSuccess:qq.bind(i._onCancel,i,t,e),identifier:t})},onUpload:function(t,e){i._onUpload(t,e),i._options.callbacks.onUpload(t,e)},onUploadChunk:function(t,e,n){i._options.callbacks.onUploadChunk(t,e,n)},onResume:function(t,e,n){return i._options.callbacks.onResume(t,e,n)},onAutoRetry:function(){return i._onAutoRetry.apply(i,arguments)},onUuidChanged:function(t,e){i._uploadData.uuidChanged(t,e)}};return qq.each(this._options.request,function(t,e){n[t]=e}),t&&qq.each(t,function(t,e){n[t]=e}),new qq.UploadHandler(n,e)},_createDeleteHandler:function(){var t=this;return new qq.DeleteFileAjaxRequestor({method:this._options.deleteFile.method,maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._options.deleteFile.customHeaders,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,demoMode:this._options.demoMode,cors:this._options.cors,log:function(e,i){t.log(e,i)},onDelete:function(e){t._onDelete(e),t._options.callbacks.onDelete(e)},onDeleteComplete:function(e,i,n){t._onDeleteComplete(e,i,n),t._options.callbacks.onDeleteComplete(e,i,n)}})},_createPasteHandler:function(){var t=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:function(e,i){t.log(e,i)},pasteReceived:function(e){t._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(t._options.callbacks.onPasteReceived,t,e),onSuccess:qq.bind(t._handlePasteSuccess,t,e),identifier:"pasted image"})}}})},_createUploadDataTracker:function(){var t=this;return new qq.UploadData({getName:function(e){return t.getName(e)},getUuid:function(e){return t.getUuid(e)},getSize:function(e){return t.getSize(e)},onStatusChange:function(e,i,n){t._onUploadStatusChange(e,i,n),t._options.callbacks.onStatusChange(e,i,n)}})},_onUploadStatusChange:function(){},_handlePasteSuccess:function(t,e){var i=t.type.split("/")[1],n=e;null==n&&(n=this._options.paste.defaultName),n+="."+i,this.addBlobs({name:n,blob:t})},_preventLeaveInProgress:function(){},_onSubmit:function(t){this._netUploadedOrQueued++,this._options.autoUpload&&this._filesInProgress.push(t)},_onProgress:function(){},_onComplete:function(t,e,i,n){return i.success?(this._netUploaded++,this._uploadData.setStatus(t,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(t,qq.status.UPLOAD_FAILED)),this._removeFromFilesInProgress(t),this._maybeParseAndSendUploadError(t,e,i,n),i.success?!0:!1},_onCancel:function(t){this._netUploadedOrQueued--,this._removeFromFilesInProgress(t),clearTimeout(this._retryTimeouts[t]);var e=qq.indexOf(this._storedIds,t);!this._options.autoUpload&&e>=0&&this._storedIds.splice(e,1),this._uploadData.setStatus(t,qq.status.CANCELED)},_isDeletePossible:function(){return this._options.deleteFile.enabled?this._options.cors.expected?qq.supportedFeatures.deleteFileCorsXhr?!0:qq.supportedFeatures.deleteFileCorsXdr&&this._options.cors.allowXdr?!0:!1:!0:!1},_onSubmitDelete:function(t,e,i){var n,a=this.getUuid(t);return e&&(n=qq.bind(e,this,t,a,i)),this._isDeletePossible()?this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,t),onSuccess:n||qq.bind(this._deleteHandler.sendDelete,this,t,a,i),identifier:t}):(this.log("Delete request ignored for ID "+t+", delete feature is disabled or request not possible "+"due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onDelete:function(t){this._uploadData.setStatus(t,qq.status.DELETING)},_onDeleteComplete:function(t,e,i){var n=this._handler.getName(t);i?(this._uploadData.setStatus(t,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),void 0===e.withCredentials?this._options.callbacks.onError(t,n,"Delete request failed",e):this._options.callbacks.onError(t,n,"Delete request failed with response code "+e.status,e)):(this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(t),this._uploadData.setStatus(t,qq.status.DELETED),this.log("Delete request for '"+n+"' has succeeded."))},_removeFromFilesInProgress:function(t){var e=qq.indexOf(this._filesInProgress,t);e>=0&&this._filesInProgress.splice(e,1)},_onUpload:function(t){this._uploadData.setStatus(t,qq.status.UPLOADING)},_onInputChange:function(t){var e;if(qq.supportedFeatures.ajaxUploading){for(e=0;e<t.files.length;e++)this._annotateWithButtonId(t.files[e],t);this.addFiles(t.files)}else this.addFiles(t);qq.each(this._buttons,function(t,e){e.reset()})},_onBeforeAutoRetry:function(t,e){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+e+"...")},_onAutoRetry:function(t,e,i,n,a){var s=this;return s._preventRetries[t]=i[s._options.retry.preventRetryResponseProperty],s._shouldAutoRetry(t,e,i)?(s._maybeParseAndSendUploadError.apply(s,arguments),s._options.callbacks.onAutoRetry(t,e,s._autoRetries[t]+1),s._onBeforeAutoRetry(t,e),s._retryTimeouts[t]=setTimeout(function(){s.log("Retrying "+e+"..."),s._autoRetries[t]++,s._uploadData.setStatus(t,qq.status.UPLOAD_RETRYING),a?a(t):s._handler.retry(t)},1e3*s._options.retry.autoAttemptDelay),!0):void 0},_shouldAutoRetry:function(t){return!this._preventRetries[t]&&this._options.retry.enableAuto?(void 0===this._autoRetries[t]&&(this._autoRetries[t]=0),this._autoRetries[t]<this._options.retry.maxAutoAttempts):!1},_onBeforeManualRetry:function(t){var e=this._options.validation.itemLimit;if(this._preventRetries[t])return this.log("Retries are forbidden for id "+t,"warn"),!1;if(this._handler.isValid(t)){var i=this._handler.getName(t);return this._options.callbacks.onManualRetry(t,i)===!1?!1:e>0&&this._netUploadedOrQueued+1>e?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+i+"' (id: "+t+")..."),this._filesInProgress.push(t),!0)}return this.log("'"+t+"' is not a valid file ID","error"),!1},_manualRetry:function(t,e){return this._onBeforeManualRetry(t)?(this._netUploadedOrQueued++,this._uploadData.setStatus(t,qq.status.UPLOAD_RETRYING),e?e(t):this._handler.retry(t),!0):void 0},_maybeParseAndSendUploadError:function(t,e,i,n){if(!i.success)if(n&&200!==n.status&&!i.error)this._options.callbacks.onError(t,e,"XHR returned response code "+n.status,n);else{var a=i.error?i.error:this._options.text.defaultResponseError;this._options.callbacks.onError(t,e,a,n)}},_prepareItemsForUpload:function(t,e,i){var n=this._getValidationDescriptors(t),a=this._getButtonId(t[0]),s=this._getButton(a);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,n,s),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,n,t,e,i,s),identifier:"batch validation"})},_upload:function(t,e,i){var n=this._handler.add(t),a=this._handler.getName(n);this._uploadData.added(n),e&&this.setParams(e,n),i&&this.setEndpoint(i,n),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,n,a),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,n,a),onFailure:qq.bind(this._fileOrBlobRejected,this,n,a),identifier:n})},_onSubmitCallbackSuccess:function(t){var e;this._uploadData.setStatus(t,qq.status.SUBMITTED),e=qq.supportedFeatures.ajaxUploading?this._handler.getFile(t).qqButtonId:this._getButtonId(this._handler.getInput(t)),e&&(this._buttonIdsForFileIds[t]=e),this._onSubmit.apply(this,arguments),this._onSubmitted.apply(this,arguments),this._options.callbacks.onSubmitted.apply(this,arguments),this._options.autoUpload?this._handler.upload(t)||this._uploadData.setStatus(t,qq.status.QUEUED):this._storeForLater(t)},_onSubmitted:function(){},_storeForLater:function(t){this._storedIds.push(t)},_onValidateBatchCallbackSuccess:function(t,e,i,n,a){var s,r=this._options.validation.itemLimit,o=this._netUploadedOrQueued+t.length;0===r||r>=o?e.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,t[0],a),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,e,0,i,n),onFailure:qq.bind(this._onValidateCallbackFailure,this,e,0,i,n),identifier:"Item '"+e[0].name+"', size: "+e[0].size}):this._itemError("noFilesError"):(s=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,o).replace(/\{itemLimit\}/g,r),this._batchError(s))},_onValidateCallbackSuccess:function(t,e,i,n){var a=e+1,s=this._getValidationDescriptor(t[e]),r=!1;this._validateFileOrBlobData(t[e],s)&&(r=!0,this._upload(t[e],i,n)),this._maybeProcessNextItemAfterOnValidateCallback(r,t,a,i,n)},_onValidateCallbackFailure:function(t,e,i,n){var a=e+1;this._fileOrBlobRejected(void 0,t[0].name),this._maybeProcessNextItemAfterOnValidateCallback(!1,t,a,i,n)},_maybeProcessNextItemAfterOnValidateCallback:function(t,e,i,n,a){var s=this;e.length>i&&(t||!this._options.validation.stopOnFirstInvalidFile)&&setTimeout(function(){var t=s._getValidationDescriptor(e[i]);s._handleCheckedCallback({name:"onValidate",callback:qq.bind(s._options.callbacks.onValidate,s,e[i]),onSuccess:qq.bind(s._onValidateCallbackSuccess,s,e,i,n,a),onFailure:qq.bind(s._onValidateCallbackFailure,s,e,i,n,a),identifier:"Item '"+t.name+"', size: "+t.size})},0)},_validateFileOrBlobData:function(t,e){var i=e.name,n=e.size,a=this._getButtonId(t),s=this._extraButtonSpecs[a],r=s?s.validation:this._options.validation,o=!0;return qq.isFileOrInput(t)&&!this._isAllowedExtension(r.allowedExtensions,i)?(this._itemError("typeError",i,t),o=!1):0===n?(this._itemError("emptyError",i,t),o=!1):n&&r.sizeLimit&&n>r.sizeLimit?(this._itemError("sizeError",i,t),o=!1):n&&n<r.minSizeLimit&&(this._itemError("minSizeError",i,t),o=!1),o||this._fileOrBlobRejected(void 0,i),o},_fileOrBlobRejected:function(t){void 0!==t&&this._uploadData.setStatus(t,qq.status.REJECTED)},_itemError:function(t,e,i){function n(t,e){r=r.replace(t,e)}var a,s,r=this._options.messages[t],o=[],l=[].concat(e),u=l[0],d=this._getButtonId(i),c=this._extraButtonSpecs[d],p=c?c.validation:this._options.validation;return qq.each(p.allowedExtensions,function(t,e){qq.isString(e)&&o.push(e)}),a=o.join(", ").toLowerCase(),n("{file}",this._options.formatFileName(u)),n("{extensions}",a),n("{sizeLimit}",this._formatSize(p.sizeLimit)),n("{minSizeLimit}",this._formatSize(p.minSizeLimit)),s=r.match(/(\{\w+\})/g),null!==s&&qq.each(s,function(t,e){n(e,l[t])}),this._options.callbacks.onError(null,u,r,void 0),r},_batchError:function(t){this._options.callbacks.onError(null,null,t,void 0)},_isAllowedExtension:function(t,e){var i=!1;return t.length?(qq.each(t,function(t,n){if(qq.isString(n)){var a=new RegExp("\\."+n+"$","i");if(null!=e.match(a))return i=!0,!1}}),i):!0},_formatSize:function(t){var e=-1;do t/=1e3,e++;while(t>999);return Math.max(t,.1).toFixed(1)+this._options.text.sizeSymbols[e]},_wrapCallbacks:function(){var t,e;t=this,e=function(e,i,n){try{return i.apply(t,n)}catch(a){t.log("Caught exception in '"+e+"' callback - "+a.message,"error")}};for(var i in this._options.callbacks)!function(){var n,a;n=i,a=t._options.callbacks[n],t._options.callbacks[n]=function(){return e(n,a,arguments)}}()},_parseFileOrBlobDataName:function(t){var e;return e=qq.isFileOrInput(t)?t.value?t.value.replace(/.*(\/|\\)/,""):null!==t.fileName&&void 0!==t.fileName?t.fileName:t.name:t.name},_parseFileOrBlobDataSize:function(t){var e;return qq.isFileOrInput(t)?t.value||(e=null!==t.fileSize&&void 0!==t.fileSize?t.fileSize:t.size):e=t.blob.size,e},_getValidationDescriptor:function(t){var e={},i=this._parseFileOrBlobDataName(t),n=this._parseFileOrBlobDataSize(t);return e.name=i,void 0!==n&&(e.size=n),e},_getValidationDescriptors:function(t){var e=this,i=[];return qq.each(t,function(t,n){i.push(e._getValidationDescriptor(n))}),i},_createParamsStore:function(t){var e={},i=this;return{setParams:function(t,i){var n={};qq.extend(n,t),e[i]=n},getParams:function(n){var a={};return null!=n&&e[n]?qq.extend(a,e[n]):qq.extend(a,i._options[t].params),a},remove:function(t){return delete e[t]},reset:function(){e={}}}},_createEndpointStore:function(t){var e={},i=this;return{setEndpoint:function(t,i){e[i]=t},getEndpoint:function(n){return null!=n&&e[n]?e[n]:i._options[t].endpoint},remove:function(t){return delete e[t]},reset:function(){e={}}}},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var t="image/*;capture=camera",e=this._options.camera.button,i=e?this._getButtonId(e):this._defaultButtonId,n=i?this._extraButtonSpecs[i]:this._options;n.multiple=!1,null===n.validation.acceptFiles?n.validation.acceptFiles=t:n.validation.acceptFiles+=","+t,qq.each(this._buttons,function(t,e){return e.getButtonId()===i?(e.setMultiple(n.multiple),e.setAcceptFiles(n.acceptFiles),!1):void 0})}}},qq.FineUploaderBasic=function(t){this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},paramsInBody:!0,customHeaders:{},forceMultipart:!0,inputName:"qqfile",uuidName:"qquuid",totalFileSizeName:"qqtotalfilesize",filenameParam:"qqfilename"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null},callbacks:{onSubmit:function(){},onSubmitted:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onResume:function(){},onProgress:function(){},onError:function(){},onAutoRetry:function(){},onManualRetry:function(){},onValidateBatch:function(){},onValidate:function(){},onSubmitDelete:function(){},onDelete:function(){},onDeleteComplete:function(){},onPasteReceived:function(){},onStatusChange:function(){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,partSize:2e6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(t){return void 0!==t&&t.length>33&&(t=t.slice(0,19)+"..."+t.slice(-14)),t},text:{defaultResponseError:"Upload failure reason unknown",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[]},qq.extend(this._options,t,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._filesInProgress=[],this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._paramsStore=this._createParamsStore("request"),this._deleteFileParamsStore=this._createParamsStore("deleteFile"),this._endpointStore=this._createEndpointStore("request"),this._deleteFileEndpointStore=this._createEndpointStore("deleteFile"),this._handler=this._createUploadHandler(),this._deleteHandler=this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(this._pasteHandler=this._createPasteHandler()),this._preventLeaveInProgress()},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi),qq.uiPublicApi={clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._listElement.innerHTML=""},addExtraDropzone:function(t){this._dnd.setupExtraDropzone(t)},removeExtraDropzone:function(t){return this._dnd.removeDropzone(t)},getItemByFileId:function(t){for(var e=this._listElement.firstChild;e;){if(e.qqFileId==t)return e;e=e.nextSibling}},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._options.button||(this._defaultButtonId=this._createUploadButton({element:this._find(this._element,"button")}).getButtonId()),this._dnd.dispose(),this._dnd=this._setupDragAndDrop(),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()}},qq.uiPrivateApi={_getButton:function(t){var e=this._parent.prototype._getButton.apply(this,arguments);return e||t===this._defaultButtonId&&(e=this._find(this._element,"button")),e},_removeFileItem:function(t){var e=this.getItemByFileId(t);qq(e).remove()},_setupClickAndEditEventHandlers:function(){this._deleteRetryOrCancelClickHandler=this._bindDeleteRetryOrCancelClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var t,e=this,i=this._find(this._element,"dropProcessing"),n=this._options.dragAndDrop.extraDropzones;return t=function(t){t.preventDefault()},this._options.dragAndDrop.disableDefaultDropzone||n.push(this._find(this._options.element,"drop")),new qq.DragAndDrop({dropZoneElements:n,hideDropZonesBeforeEnter:this._options.dragAndDrop.hideDropzones,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){qq(i).css({display:"block"})},processingDroppedFilesComplete:function(t){qq(i).hide(),t&&e.addFiles(t)},dropError:function(t,i){e._itemError(t,i)},dropLog:function(t,i){e.log(t,i)}}})},_bindDeleteRetryOrCancelClickEvent:function(){var t=this;return new qq.DeleteRetryOrCancelClickHandler({listElement:this._listElement,classes:this._classes,log:function(e,i){t.log(e,i)},onDeleteFile:function(e){t.deleteFile(e)},onCancel:function(e){t.cancel(e)},onRetry:function(e){var i=t.getItemByFileId(e);qq(i).removeClass(t._classes.retryable),t.retry(e)},onGetName:function(e){return t.getName(e)}})},_isEditFilenameEnabled:function(){return this._options.editFilename.enabled&&!this._options.autoUpload},_filenameEditHandler:function(){var t=this;return{listElement:this._listElement,classes:this._classes,log:function(e,i){t.log(e,i)},onGetUploadStatus:function(e){return t.getUploads({id:e}).status},onGetName:function(e){return t.getName(e)},onSetName:function(e,i){var n=t.getItemByFileId(e),a=qq(t._find(n,"file")),s=t._options.formatFileName(i);a.setText(s),t.setName(e,i)},onGetInput:function(e){return t._find(e,"editFilenameInput")},onEditingStatusChange:function(e,i){var n=t.getItemByFileId(e),a=qq(t._find(n,"editFilenameInput")),s=qq(t._find(n,"file")),r=qq(t._find(n,"editNameIcon")),o=t._classes.editable;i?(a.addClass("qq-editing"),s.hide(),r.removeClass(o)):(a.removeClass("qq-editing"),s.css({display:""}),r.addClass(o)),qq(n).addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(t,e,i){if(this._isEditFilenameEnabled()){var n,a,s=this.getItemByFileId(t),r=this._classes.editable;s&&i!==qq.status.SUBMITTED&&(n=qq(this._find(s,"file")),a=qq(this._find(s,"editNameIcon")),n.removeClass(r),a.removeClass(r))}},_bindFilenameInputFocusInEvent:function(){var t=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(t)},_bindFilenameInputFocusEvent:function(){var t=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(t)},_bindFilenameClickEvent:function(){var t=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(t)},_leaving_document_out:function(t){return(qq.chrome()||qq.safari()&&qq.windows())&&0==t.clientX&&0==t.clientY||qq.firefox()&&!t.relatedTarget},_storeForLater:function(t){this._parent.prototype._storeForLater.apply(this,arguments);var e=this.getItemByFileId(t);qq(this._find(e,"spinner")).hide()},_find:function(t,e){var i=qq(t).getByClass(this._options.classes[e])[0];if(!i)throw new Error("element not found "+e);return i},_onSubmit:function(t,e){this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(t,e)},_onSubmitted:function(t){if(this._isEditFilenameEnabled()){var e=this.getItemByFileId(t),i=qq(this._find(e,"file")),n=qq(this._find(e,"editNameIcon")),a=this._classes.editable;i.addClass(a),n.addClass(a),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._find(e,"editFilenameInput"))}},_onProgress:function(t,e,i,n){this._parent.prototype._onProgress.apply(this,arguments);var a,s,r,o;a=this.getItemByFileId(t),s=this._find(a,"progressBar"),r=Math.round(100*(i/n)),i===n?(o=this._find(a,"cancel"),qq(o).hide(),qq(s).hide(),qq(this._find(a,"statusText")).setText(this._options.text.waitingForResponse),this._displayFileSize(t)):(this._displayFileSize(t,i,n),qq(s).css({display:"block"})),qq(s).css({width:r+"%"})},_onComplete:function(t,e,i){function n(e){var i=s.getItemByFileId(t);qq(s._find(i,"statusText")).clearText(),qq(i).removeClass(s._classes.retrying),qq(s._find(i,"progressBar")).hide(),(!s._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading)&&qq(s._find(i,"cancel")).hide(),qq(s._find(i,"spinner")).hide(),e.success?(s._isDeletePossible()&&s._showDeleteLink(t),qq(i).addClass(s._classes.success),s._classes.successIcon&&(s._find(i,"finished").style.display="inline-block",qq(i).addClass(s._classes.successIcon))):(qq(i).addClass(s._classes.fail),s._classes.failIcon&&(s._find(i,"finished").style.display="inline-block",qq(i).addClass(s._classes.failIcon)),s._options.retry.showButton&&!s._preventRetries[t]&&qq(i).addClass(s._classes.retryable),s._controlFailureTextDisplay(i,e))}var a=this._parent.prototype._onComplete.apply(this,arguments),s=this;return qq.isPromise(a)?a.done(function(t){n(t)}):n(i),a},_onUpload:function(t){var e=this._parent.prototype._onUpload.apply(this,arguments);return this._showSpinner(t),e},_onCancel:function(t){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(t)},_onBeforeAutoRetry:function(t){var e,i,n,a,s,r;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),e=this.getItemByFileId(t),i=this._find(e,"progressBar"),this._showCancelLink(e),i.style.width=0,qq(i).hide(),this._options.retry.showAutoRetryNote&&(n=this._find(e,"statusText"),a=this._autoRetries[t]+1,s=this._options.retry.maxAutoAttempts,r=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,a),r=r.replace(/\{maxAuto\}/g,s),qq(n).setText(r),1===a&&qq(e).addClass(this._classes.retrying))},_onBeforeManualRetry:function(t){var e=this.getItemByFileId(t);return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._find(e,"progressBar").style.width=0,qq(e).removeClass(this._classes.fail),qq(this._find(e,"statusText")).clearText(),this._showSpinner(t),this._showCancelLink(e),!0):(qq(e).addClass(this._classes.retryable),!1)},_onSubmitDelete:function(t){var e=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,t,e)},_onSubmitDeleteSuccess:function(){this._options.deleteFile.forceConfirm?this._showDeleteConfirm.apply(this,arguments):this._sendDeleteRequest.apply(this,arguments)},_onDeleteComplete:function(t,e,i){this._parent.prototype._onDeleteComplete.apply(this,arguments);var n=this.getItemByFileId(t),a=this._find(n,"spinner"),s=this._find(n,"statusText");qq(a).hide(),i?(qq(s).setText(this._options.deleteFile.deletingFailedText),this._showDeleteLink(t)):this._removeFileItem(t)},_sendDeleteRequest:function(t){var e=this.getItemByFileId(t),i=this._find(e,"deleteButton"),n=this._find(e,"statusText");qq(i).hide(),this._showSpinner(t),qq(n).setText(this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(t){var e,i=this._handler.getName(t),n=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,i),a=(this.getUuid(t),arguments),s=this;e=this._options.showConfirm(n),qq.isPromise(e)?e.then(function(){s._sendDeleteRequest.apply(s,a)}):e!==!1&&s._sendDeleteRequest.apply(s,a)},_addToList:function(t,e){var i=qq.toElement(this._options.fileTemplate);if(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading){var n=this._find(i,"cancel");qq(n).remove()}i.qqFileId=t;var a=this._find(i,"file");qq(a).setText(this._options.formatFileName(e)),qq(this._find(i,"size")).hide(),this._options.multiple||(this._handler.cancelAll(),this._clearList()),this._options.display.prependFiles?this._prependItem(i):this._listElement.appendChild(i),this._filesInBatchAddedToUi+=1,this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading&&this._displayFileSize(t)},_prependItem:function(t){var e=this._listElement,i=e.firstChild;this._totalFilesInBatch>1&&this._filesInBatchAddedToUi>0&&(i=qq(e).children()[this._filesInBatchAddedToUi-1].nextSibling),e.insertBefore(t,i)},_clearList:function(){this._listElement.innerHTML="",this.clearStoredFiles()},_displayFileSize:function(t,e,i){var n=this.getItemByFileId(t),a=this.getSize(t),s=this._formatSize(a),r=this._find(n,"size");void 0!==e&&void 0!==i&&(s=this._formatProgress(e,i)),qq(r).css({display:"inline"}),qq(r).setText(s)},_formatProgress:function(t,e){function i(t,e){n=n.replace(t,e)}var n=this._options.text.formatProgress;return i("{percent}",Math.round(100*(t/e))),i("{total_size}",this._formatSize(e)),n},_controlFailureTextDisplay:function(t,e){var i,n,a,s,r;i=this._options.failedUploadTextDisplay.mode,n=this._options.failedUploadTextDisplay.maxChars,a=this._options.failedUploadTextDisplay.responseProperty,"custom"===i?(s=e[a],s?s.length>n&&(r=s.substring(0,n)+"..."):(s=this._options.text.failUpload,this.log("'"+a+"' is not a valid property on the server response.","warn")),qq(this._find(t,"statusText")).setText(r||s),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(t,s)):"default"===i?qq(this._find(t,"statusText")).setText(this._options.text.failUpload):"none"!==i&&this.log("failedUploadTextDisplay.mode value of '"+i+"' is not valid","warn")},_showTooltip:function(t,e){t.title=e},_showSpinner:function(t){var e=this.getItemByFileId(t),i=this._find(e,"spinner");i.style.display="inline-block"},_showCancelLink:function(t){if(!this._options.disableCancelForFormUploads||qq.supportedFeatures.ajaxUploading){var e=this._find(t,"cancel");qq(e).css({display:"inline"})}},_showDeleteLink:function(t){var e=this.getItemByFileId(t),i=this._find(e,"deleteButton");qq(i).css({display:"inline"})},_itemError:function(){var t=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(t)},_batchError:function(t){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(t)},_setupPastePrompt:function(){var t=this;this._options.callbacks.onPasteReceived=function(){var e=t._options.paste.namePromptMessage,i=t._options.paste.defaultName;return t._options.showPrompt(e,i)}},_fileOrBlobRejected:function(){this._totalFilesInBatch-=1,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(t){this._totalFilesInBatch=t.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)}},qq.FineUploader=function(t,e){this._parent=e?qq[e].FineUploaderBasic:qq.FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,dragAndDrop:{extraDropzones:[],hideDropzones:!0,disableDefaultDropzone:!1},text:{uploadButton:"Upload a file",cancelButton:"Cancel",retryButton:"Retry",deleteButton:"Delete",failUpload:"Upload failed",dragZone:"Drop files here to upload",dropProcessing:"Processing dropped files...",formatProgress:"{percent}% of {total_size}",waitingForResponse:"Processing..."},template:'<div class="qq-uploader">'+(this._options.dragAndDrop&&this._options.dragAndDrop.disableDefaultDropzone?"":'<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>')+(this._options.button?"":'<div class="qq-upload-button"><div>{uploadButtonText}</div></div>')+'<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>'+(this._options.listElement?"":'<ul class="qq-upload-list"></ul>')+"</div>",fileTemplate:'<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span>'+(this._options.editFilename&&this._options.editFilename.enabled?'<span class="qq-edit-filename-icon"></span>':"")+'<span class="qq-upload-file"></span>'+(this._options.editFilename&&this._options.editFilename.enabled?'<input class="qq-edit-filename" tabindex="0" type="text">':"")+'<span class="qq-upload-size"></span>'+'<a class="qq-upload-cancel" href="#">{cancelButtonText}</a>'+'<a class="qq-upload-retry" href="#">{retryButtonText}</a>'+'<a class="qq-upload-delete" href="#">{deleteButtonText}</a>'+'<span class="qq-upload-status-text">{statusText}</span>'+"</li>",classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",progressBar:"qq-progress-bar",file:"qq-upload-file",spinner:"qq-upload-spinner",finished:"qq-upload-finished",retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry",statusText:"qq-upload-status-text",editFilenameInput:"qq-edit-filename",success:"qq-upload-success",fail:"qq-upload-fail",successIcon:null,failIcon:null,editNameIcon:"qq-edit-filename-icon",editable:"qq-editable",dropProcessing:"qq-drop-processing",dropProcessingSpinner:"qq-drop-processing-spinner"},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}...",showButton:!1},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},editFilename:{enabled:!1},showMessage:function(t){setTimeout(function(){window.alert(t)},0)},showConfirm:function(t){return window.confirm(t)},showPrompt:function(t,e){return window.prompt(t,e)}},!0),qq.extend(this._options,t,!0),!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._options.element.innerHTML="<div>"+this._options.messages.unsupportedBrowser+"</div>":(this._wrapCallbacks(),this._options.template=this._options.template.replace(/\{dragZoneText\}/g,this._options.text.dragZone),this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,this._options.text.uploadButton),this._options.template=this._options.template.replace(/\{dropProcessingText\}/g,this._options.text.dropProcessing),this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.text.cancelButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{retryButtonText\}/g,this._options.text.retryButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{deleteButtonText\}/g,this._options.text.deleteButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{statusText\}/g,""),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._options.button||(this._defaultButtonId=this._createUploadButton({element:this._find(this._element,"button")}).getButtonId()),this._setupClickAndEditEventHandlers(),this._dnd=this._setupDragAndDrop(),this._options.paste.targetElement&&this._options.paste.promptForName&&this._setupPastePrompt(),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)
},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.AjaxRequestor=function(t){function e(){return k.method.toUpperCase()}function i(){return qq.indexOf(["GET","POST","HEAD"],e())>=0}function n(){var t=!1;return qq.each(t,function(e,i){return qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],i)<0?(t=!0,!1):void 0}),t}function a(t){return k.cors.expected&&void 0===t.withCredentials}function s(){var t;return(window.XMLHttpRequest||window.ActiveXObject)&&(t=qq.createXhrInstance(),void 0===t.withCredentials&&(t=new XDomainRequest)),t}function r(t,e){var i=w[t].xhr;return i||e||(i=k.cors.expected?s():qq.createXhrInstance(),w[t].xhr=i),i}function o(t){var e,i=qq.indexOf(y,t),n=k.maxConnections;delete w[t],y.splice(i,1),y.length>=n&&n>i&&(e=y[n-1],d(e))}function l(t,i){var n=r(t),s=e(),l=i===!0;o(t),l?v(s+" request for "+t+" has failed","error"):a(n)||g(n.status)||(l=!0,v(s+" request for "+t+" has failed - response code "+n.status,"error")),k.onComplete(t,n,l)}function u(t){var e,i=w[t].onDemandParams,n=k.mandatedParams;return k.paramsStore.getParams&&(e=k.paramsStore.getParams(t)),i&&qq.each(i,function(t,i){e=e||{},e[t]=i}),n&&qq.each(n,function(t,i){e=e||{},e[t]=i}),e}function d(t){var i,n=r(t),s=e(),o=u(t),l=w[t].body;k.onSend(t),i=c(t,o),a(n)?(n.onload=h(t),n.onerror=m(t),n.onprogress=function(){},n.ontimeout=function(){}):n.onreadystatechange=p(t),n.open(s,i,!0),k.cors.expected&&k.cors.sendCredentials&&!a(n)&&(n.withCredentials=!0),f(t),v("Sending "+s+" request for "+t),l?n.send(l):b||!o?n.send():o&&k.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?n.send(qq.obj2url(o,"")):o&&k.contentType.toLowerCase().indexOf("application/json")>=0?n.send(JSON.stringify(o)):n.send(o)}function c(t,e){var i=k.endpointStore.getEndpoint(t),n=w[t].addToPath;return void 0!=n&&(i+="/"+n),b&&e?qq.obj2url(e,i):i}function p(t){return function(){4===r(t).readyState&&l(t)}}function h(t){return function(){l(t)}}function m(t){return function(){l(t,!0)}}function f(t){var s=r(t),o=k.customHeaders,l=w[t].additionalHeaders||{},u=e(),d={};a(s)&&(k.cors.expected&&i()&&!n(o)||(s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Cache-Control","no-cache"))),!k.contentType||"POST"!==u&&"PUT"!==u||a(s)||s.setRequestHeader("Content-Type",k.contentType),a(s)||(qq.extend(d,o),qq.extend(d,l),qq.each(d,function(t,e){s.setRequestHeader(t,e)}))}function _(t){var i=r(t,!0),n=e();return i?(a(i)?(i.onerror=null,i.onload=null):i.onreadystatechange=null,i.abort(),o(t),v("Cancelled "+n+" for "+t),k.onCancel(t),!0):!1}function g(t){return qq.indexOf(k.successfulResponseCodes[e()],t)>=0}var v,b,y=[],w=[],k={validMethods:["POST"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},successfulResponseCodes:{DELETE:[200,202,204],POST:[200,204]},cors:{expected:!1,sendCredentials:!1},log:function(){},onSend:function(){},onComplete:function(){},onCancel:function(){}};if(qq.extend(k,t),v=k.log,qq.indexOf(k.validMethods,e())<0)throw new Error("'"+e()+"' is not a supported method for this type of request!");return b="GET"===e()||"DELETE"===e(),{send:function(t,e,i,n,a){w[t]={addToPath:e,onDemandParams:i,additionalHeaders:n,body:a};var s=y.push(t);s<=k.maxConnections&&d(t)},cancel:function(t){return _(t)},getMethod:function(){return e()}}},qq.UploadHandler=function(t,e){function i(t){var e,i=qq.indexOf(u,t),n=s.maxConnections;i>=0&&(u.splice(i,1),u.length>=n&&n>i&&(e=u[n-1],o.upload(e)))}function n(t){r("Cancelling "+t),s.paramsStore.remove(t),i(t)}function a(){var t=e?qq[e]:qq,n=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";o=new t["UploadHandler"+n](s,i,s.onUuidChanged,r)}var s,r,o,l,u=[];return s={debug:!1,forceMultipart:!0,paramsInBody:!1,paramsStore:{},endpointStore:{},filenameParam:"qqfilename",cors:{expected:!1,sendCredentials:!1},maxConnections:3,uuidParam:"qquuid",totalFileSizeParam:"qqtotalfilesize",chunking:{enabled:!1,partSize:2e6,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalParts:"qqtotalparts",filename:"qqfilename"}},resume:{enabled:!1,id:null,cookiesExpireIn:7,paramNames:{resuming:"qqresume"}},log:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},onUpload:function(){},onUploadChunk:function(){},onAutoRetry:function(){},onResume:function(){},onUuidChanged:function(){}},qq.extend(s,t),r=s.log,l={add:function(t){return o.add(t)},upload:function(t){var e=u.push(t);return e<=s.maxConnections?(o.upload(t),!0):!1},retry:function(t){var e=qq.indexOf(u,t);return e>=0?o.upload(t,!0):this.upload(t)},cancel:function(t){var e=o.cancel(t);qq.isPromise(e)?e.then(function(){n(t)}):e!==!1&&n(t)},cancelAll:function(){var t=this,e=[];qq.extend(e,u),qq.each(e,function(e,i){t.cancel(i)}),u=[]},getName:function(t){return o.getName(t)},setName:function(t,e){o.setName(t,e)},getSize:function(t){return o.getSize?o.getSize(t):void 0},getFile:function(t){return o.getFile?o.getFile(t):void 0},getInput:function(t){return o.getInput?o.getInput(t):void 0},reset:function(){r("Resetting upload handler"),l.cancelAll(),u=[],o.reset()},expunge:function(t){return o.expunge(t)},getUuid:function(t){return o.getUuid(t)},setUuid:function(t,e){return o.setUuid(t,e)},isValid:function(t){return o.isValid(t)},getResumableFilesData:function(){return o.getResumableFilesData?o.getResumableFilesData():[]},getThirdPartyFileId:function(t){return o.getThirdPartyFileId&&l.isValid(t)?o.getThirdPartyFileId(t):void 0}},a(),l},qq.UploadHandlerXhrApi=function(t,e,i,n,a,s,r){function o(t,e,i){return t.slice?t.slice(e,i):t.mozSlice?t.mozSlice(e,i):t.webkitSlice?t.webkitSlice(e,i):void 0}var l;return qq.extend(t,{createXhr:function(t){var i=qq.createXhrInstance();return e[t].xhr=i,i},getTotalChunks:function(t){if(i){var e=l.getSize(t),n=i.partSize;return Math.ceil(e/n)}},getChunkData:function(e,n){var a=i.partSize,s=l.getSize(e),r=l.getFile(e),u=a*n,d=u+a>=s?s:u+a,c=t.getTotalChunks(e);return{part:n,start:u,end:d,count:c,blob:o(r,u,d),size:d-u}},getChunkDataForCallback:function(t){return{partIndex:t.part,startByte:t.start+1,endByte:t.end,totalParts:t.count}}}),l={add:function(t){var i,n=qq.getUniqueId();if(qq.isFile(t))i=e.push({file:t})-1;else{if(!qq.isBlob(t.blob))throw new Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)");i=e.push({blobData:t})-1}return e[i].uuid=n,i},getName:function(t){if(l.isValid(t)){var i=e[t].file,n=e[t].blobData,a=e[t].newName;return void 0!==a?a:i?null!==i.fileName&&void 0!==i.fileName?i.fileName:i.name:n.name}r(t+" is not a valid item ID.","error")},setName:function(t,i){e[t].newName=i},getSize:function(t){var i=e[t].file||e[t].blobData.blob;return qq.isFileOrInput(i)?null!=i.fileSize?i.fileSize:i.size:i.size},getFile:function(t){return e[t]?e[t].file||e[t].blobData.blob:void 0},isValid:function(t){return void 0!==e[t]},reset:function(){e.length=0},expunge:function(t){var i=e[t].xhr;i&&(i.onreadystatechange=null,i.abort()),delete e[t]},getUuid:function(t){return e[t].uuid},upload:function(t,e){return n(t,e)},cancel:function(t){var e=a(t,l.getName(t));return qq.isPromise(e)?e.then(function(){l.expunge(t)}):e!==!1?(l.expunge(t),!0):!1},setUuid:function(t,i){r("Server requested UUID change from '"+e[t].uuid+"' to '"+i+"'"),e[t].uuid=i,s(t,i)}}},qq.UploadHandlerFormApi=function(t,e,i,n,a,s,r){function o(n){delete f[n],delete e[n],i&&(clearTimeout(_[n]),delete _[n],h.stopReceivingMessages(n));var a=document.getElementById(t.getIframeName(n));a&&(a.setAttribute("src","java"+String.fromCharCode(115)+"cript:false;"),qq(a).remove())}function l(i,n){var a=i.id,s=d(a),o=e[s].uuid;m[o]=n,f[s]=qq(i).attach("load",function(){e[s].input&&(r("Received iframe load event for CORS upload request (iframe name "+a+")"),_[a]=setTimeout(function(){var t="No valid message received from loaded iframe for iframe name "+a;r(t,"error"),n({error:t})},1e3))}),h.receiveMessage(a,function(e){r("Received the following window message: '"+e+"'");var i,n=d(a),s=t.parseJsonResponse(n,e),o=s.uuid;o&&m[o]?(r("Handling response for iframe name "+a),clearTimeout(_[a]),delete _[a],t.detachLoadEvent(a),i=m[o],delete m[o],h.stopReceivingMessages(a),i(s)):o||r("'"+e+"' does not contain a UUID - ignoring.")})}function u(t){var e=qq.toElement('<iframe src="javascript:false;" name="'+t+'" />');return e.setAttribute("id",t),e.style.display="none",document.body.appendChild(e),e}function d(t){return t.split("_")[0]}var c,p=qq.getUniqueId(),h=new qq.WindowReceiveMessage({log:r}),m={},f={},_={};return qq.extend(t,{getIframeName:function(t){return t+"_"+p},createIframe:function(e){var i=t.getIframeName(e);return u(i)},parseJsonResponse:function(t,e){var i;try{i=qq.parseJson(e),void 0!==i.newUuid&&c.setUuid(t,i.newUuid)}catch(n){r("Error when attempting to parse iframe upload response ("+n.message+")","error"),i={}}return i},initFormForUpload:function(t){var e=t.method,i=t.endpoint,n=t.params,a=t.paramsInBody,s=t.targetName,r=qq.toElement('<form method="'+e+'" enctype="multipart/form-data"></form>'),o=i;return a?qq.obj2Inputs(n,r):o=qq.obj2url(n,i),r.setAttribute("action",o),r.setAttribute("target",s),r.style.display="none",document.body.appendChild(r),r},attachLoadEvent:function(t,e){var n;i?l(t,e):f[t.id]=qq(t).attach("load",function(){if(r("Received response for "+t.id),t.parentNode){try{if(t.contentDocument&&t.contentDocument.body&&"false"==t.contentDocument.body.innerHTML)return}catch(i){r("Error when attempting to access iframe during handling of upload response ("+i.message+")","error"),n={success:!1}}e(n)}})},detachLoadEvent:function(t){void 0!==f[t]&&(f[t](),delete f[t])}}),c={add:function(t){var i=e.push({input:t})-1;return t.setAttribute("name",n),e[i].uuid=qq.getUniqueId(),t.parentNode&&qq(t).remove(),i},getName:function(t){return void 0!==e[t].newName?e[t].newName:c.isValid(t)?e[t].input.value.replace(/.*(\/|\\)/,""):(r(t+" is not a valid item ID.","error"),void 0)},getInput:function(t){return e[t].input},setName:function(t,i){e[t].newName=i},isValid:function(t){return void 0!==e[t]&&void 0!==e[t].input},reset:function(){e.length=0},expunge:function(t){return o(t)},getUuid:function(t){return e[t].uuid},cancel:function(t){var e=a(t,c.getName(t));return qq.isPromise(e)?e.then(function(){c.expunge(t)}):e!==!1?(c.expunge(t),!0):!1},upload:function(){},setUuid:function(t,i){r("Server requested UUID change from '"+e[t].uuid+"' to '"+i+"'"),e[t].uuid=i,s(t,i)}}},qq.s3=qq.s3||{},qq.s3.util=qq.s3.util||function(){return{AWS_PARAM_PREFIX:"x-amz-meta-",getBucket:function(t){var e,i=[/^(?:https?:\/\/)?([a-z0-9.\-]+)\.s3(?:-[a-z0-9\-]+)?\.amazonaws\.com/i,/^(?:https?:\/\/)?s3(?:-[a-z0-9\-]+)?\.amazonaws\.com\/([a-z0-9.\-]+)/i,/^(?:https?:\/\/)?([a-z0-9.\-]+)/i];return qq.each(i,function(i,n){var a=n.exec(t);return a?(e=a[1],!1):void 0}),e},getPolicy:function(t){var e={},i=[],n=qq.s3.util.getBucket(t.endpoint),a=t.key,s=t.acl,r=t.type,o=new Date,l=t.expectedStatus,u=t.params,d=qq.s3.util.getSuccessRedirectAbsoluteUrl(t.successRedirectUrl),c=t.minFileSize,p=t.maxFileSize;return e.expiration=qq.s3.util.getPolicyExpirationDate(o),i.push({acl:s}),i.push({bucket:n}),r&&i.push({"Content-Type":r}),l&&i.push({success_action_status:l.toString()}),d&&i.push({success_action_redirect:d}),i.push({key:a}),qq.each(u,function(t,e){var n=qq.s3.util.AWS_PARAM_PREFIX+t,a={};a[n]=encodeURIComponent(e),i.push(a)}),e.conditions=i,qq.s3.util.enforceSizeLimits(e,c,p),e},generateAwsParams:function(t,e){var i={},n=t.params,a=new qq.Promise,s=qq.s3.util.getPolicy(t),r=t.type,o=t.key,l=t.accessKey,u=t.acl,d=t.expectedStatus,c=qq.s3.util.getSuccessRedirectAbsoluteUrl(t.successRedirectUrl),p=t.log;return i.key=o,i.AWSAccessKeyId=l,r&&(i["Content-Type"]=r),d&&(i.success_action_status=d),c&&(i.success_action_redirect=c),i.acl=u,qq.each(n,function(t,e){var n=qq.s3.util.AWS_PARAM_PREFIX+t;i[n]=encodeURIComponent(e)}),e(s).then(function(t){i.policy=t.policy,i.signature=t.signature,a.success(i)},function(t){t=t||"Can't continue further with request to S3 as we did not receive a valid signature and policy from the server.",p("Policy signing failed.  "+t,"error"),a.failure(t)}),a},enforceSizeLimits:function(t,e,i){var n=0>e?0:e,a=0>=i?9007199254740992:i;(e>0||i>0)&&t.conditions.push(["content-length-range",n.toString(),a.toString()])},getPolicyExpirationDate:function(t){function e(t){var e=String(t);return 1===e.length&&(e="0"+e),e}return t.setMinutes(t.getMinutes()+5),Date.prototype.toISOString?t.toISOString():t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},parseIframeResponse:function(t){var e=t.contentDocument||t.contentWindow.document,i=e.location.search,n=/bucket=(.+)&key=(.+)&etag=(.+)/.exec(i);return n?{bucket:n[1],key:n[2],etag:n[3]}:void 0},getSuccessRedirectAbsoluteUrl:function(t){if(t){var e,i=document.createElement("div");return qq.ie7()?(i.innerHTML='<a href="'+t+'"></a>',e=i.firstChild,e.href):(e=document.createElement("a"),e.href=t,e.href=e.href,e.href)}},encodeQueryStringParam:function(t){var e=encodeURIComponent(t);return e=e.replace(/[!'()]/g,escape),e=e.replace(/\*/g,"%2A"),e.replace(/%20/g,"+")}}}(),qq.s3.FineUploaderBasic=function(t){var e={request:{accessKey:null,uuidName:"uuid"},objectProperties:{acl:"private",key:"uuid"},signature:{endpoint:null,params:{},customHeaders:{}},uploadSuccess:{endpoint:null,params:{},customHeaders:{}},iframeSupport:{localBlankPagePath:null},chunking:{partSize:5242880},resume:{recordsExpireIn:7},cors:{allowXdr:!0}};qq.extend(e,t,!0),this._uploadSuccessParamsStore=this._createParamsStore("uploadSuccess"),this._signatureParamsStore=this._createParamsStore("signature"),qq.FineUploaderBasic.call(this,e),this._failedSuccessRequestCallbacks=[]},qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,{getKey:function(t){return this._handler.getThirdPartyFileId(t)},reset:function(){qq.FineUploaderBasic.prototype.reset.call(this),this._failedSuccessRequestCallbacks=[]},setSignatureParams:function(t,e){this._setCustomS3Params("signature",t,e)},setUploadSuccessParams:function(t,e){this._setCustomS3Params("uploadSuccess",t,e)},_setCustomS3Params:function(t,e,i){null==i?this._options[t].params=e:this["_"+t+"ParamsStore"].setParams(e,i)},_createUploadHandler:function(){var t={objectProperties:this._options.objectProperties,signature:{endpoint:this._options.signature.endpoint,customHeaders:this._options.signature.customHeaders,paramsStore:this._signatureParamsStore},iframeSupport:this._options.iframeSupport,getKeyName:qq.bind(this._determineKeyName,this),validation:{minSizeLimit:this._options.validation.minSizeLimit,maxSizeLimit:this._options.validation.sizeLimit}};return qq.override(this._endpointStore,function(t){return{getEndpoint:function(e){var i=t.getEndpoint(e);return i.indexOf("http")<0?"http://"+i:i}}}),qq.FineUploaderBasic.prototype._createUploadHandler.call(this,t,"s3")},_determineKeyName:function(t,e){var i=new qq.Promise,n=this._options.objectProperties.key,a=qq.getExtension(e),s=i.failure,r=function(t,e){var n=t;void 0!==e&&(n+="."+e),i.success(n)};switch(n){case"uuid":r(this.getUuid(t),a);break;case"filename":r(e);break;default:qq.isFunction(n)?this._handleKeynameFunction(n,t,r,s):(this.log(n+" is not a valid value for the s3.keyname option!","error"),s())}return i},_handleKeynameFunction:function(t,e,i,n){var a=function(t){i(t)},s=function(){this.log("Failed to retrieve key name for "+e,"error"),n()},r=t(e);qq.isPromise(r)?r.then(a,s):null==r?s():a(r)},_onComplete:function(t,e,i,n){var a,s,r=i.success?!0:!1,o=this,l=arguments,u=this.getKey(t),d=this._options.uploadSuccess.endpoint,c=this._options.uploadSuccess.customHeaders,p=this._options.cors,h=this.getUuid(t),m=qq.s3.util.getBucket(this._endpointStore.getEndpoint(t)),f=new qq.Promise,_=this._uploadSuccessParamsStore.getParams(t),g=function(e){delete o._failedSuccessRequestCallbacks[t],qq.extend(i,e),qq.FineUploaderBasic.prototype._onComplete.apply(o,l),f.success(e)},v=function(s){var r=a;qq.extend(i,s),i&&i.reset&&(r=null),r?o._failedSuccessRequestCallbacks[t]=r:delete o._failedSuccessRequestCallbacks[t],o._onAutoRetry(t,e,i,n,r)||(qq.FineUploaderBasic.prototype._onComplete.apply(o,l),f.failure(s))};return r&&d?(s=new qq.s3.UploadSuccessAjaxRequester({endpoint:d,customHeaders:c,cors:p,log:qq.bind(this.log,this)}),qq.extend(_,{key:u,uuid:h,name:e,bucket:m},!0),a=qq.bind(function(){s.sendSuccessRequest(t,_).then(g,v)},o),a(),f):qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments)},_manualRetry:function(t){var e=this._failedSuccessRequestCallbacks[t];return qq.FineUploaderBasic.prototype._manualRetry.call(this,t,e)},_onSubmitDelete:function(t,e){var i={key:this.getKey(t),bucket:qq.s3.util.getBucket(this._endpointStore.getEndpoint(t))};qq.FineUploaderBasic.prototype._onSubmitDelete.call(this,t,e,i)}}),qq.s3.FineUploader=function(t){var e={failedUploadTextDisplay:{mode:"custom"}};qq.extend(e,t,!0),qq.FineUploader.call(this,e,"s3"),qq.supportedFeatures.ajaxUploading||void 0!==e.iframeSupport.localBlankPagePath||(this._options.element.innerHTML="<div>You MUST set the <code>localBlankPagePath</code> property of the <code>iframeSupport</code> option since this browser does not support the File API!</div>")},qq.extend(qq.s3.FineUploader.prototype,qq.s3.FineUploaderBasic.prototype),qq.extend(qq.s3.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.s3.FineUploader.prototype,qq.uiPrivateApi),qq.extend(qq.s3.FineUploader.prototype,{_onComplete:function(t){var e=qq.FineUploader.prototype._onComplete.apply(this,arguments),i=this.getItemByFileId(t),n=this._find(i,"progressBar");return qq.isPromise(e)&&(qq(n).hide(),qq(this._find(i,"statusText")).setText(this._options.text.waitingForResponse)),e}}),qq.s3.SignatureAjaxRequestor=function(t){function e(t,e,i){var s,r,o=e.responseText,l=n[t],u=l.expectingPolicy,d=l.promise;if(delete n[t],o)try{r=qq.parseJson(o)}catch(c){a.log("Error attempting to parse signature response: "+c,"error")}r&&r.invalid?(i=!0,s="Invalid policy document or request headers!"):r?u&&!r.policy?(i=!0,s="Response does not include the base64 encoded policy!"):r.signature||(i=!0,s="Response does not include the signature!"):(i=!0,s="Received an empty or invalid response from the server!"),i?(s&&a.log(s,"error"),d.failure(s)):d.success(r)}var i,n={},a={expectingPolicy:!1,method:"POST",signatureSpec:{endpoint:null,customHeaders:{},paramsStore:{}},maxConnections:3,cors:{expected:!1,sendCredentials:!1},log:function(){}};return qq.extend(a,t,!0),i=new qq.AjaxRequestor({method:a.method,contentType:"application/json; charset=utf-8",endpointStore:{getEndpoint:function(){return a.signatureSpec.endpoint}},paramsStore:a.signatureSpec.paramsStore,maxConnections:a.maxConnections,customHeaders:a.signatureSpec.customHeaders,log:a.log,onComplete:e,cors:a.cors,successfulResponseCodes:{POST:[200]}}),{getSignature:function(t,e){var s=e,r=new qq.Promise;return a.log("Submitting S3 signature request for "+t),i.send(t,null,s),n[t]={promise:r,expectingPolicy:a.expectingPolicy},r}}},qq.s3.UploadSuccessAjaxRequester=function(t){function e(t,e,i){var s,r=n[t],o=e.responseText,l={success:!0},u={success:!1};delete n[t],a.log(qq.format("Received the following response body to an AWS upload success request for id {}: {}",t,o));try{s=qq.parseJson(o),i||s&&(s.error||s.success===!1)?(a.log("Upload success request was rejected by the server.","error"),r.failure(qq.extend(s,u))):(a.log("Upload success was acknowledged by the server."),r.success(qq.extend(s,l)))}catch(d){i?(a.log(qq.format("Your server indicated failure in its AWS upload success request response for id {}!",t),"error"),r.failure(u)):(a.log("Upload success was acknowledged by the server."),r.success(l))}}var i,n=[],a={method:"POST",endpoint:null,maxConnections:3,customHeaders:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(){}};return qq.extend(a,t),i=new qq.AjaxRequestor({method:a.method,endpointStore:{getEndpoint:function(){return a.endpoint}},paramsStore:a.paramsStore,maxConnections:a.maxConnections,customHeaders:a.customHeaders,log:a.log,onComplete:e,cors:a.cors,successfulResponseCodes:{POST:[200]}}),{sendSuccessRequest:function(t,e){var s=new qq.Promise;return a.log("Submitting upload success request/notification for "+t),i.send(t,null,e),n[t]=s,s}}},qq.s3.InitiateMultipartAjaxRequester=function(t){function e(t){var e,n=qq.s3.util.getBucket(o.endpointStore.getEndpoint(t)),a={},r=new qq.Promise,l=o.getKey(t);return a["x-amz-date"]=(new Date).toUTCString(),a["Content-Type"]=o.getContentType(t),a["x-amz-acl"]=o.acl,a[qq.s3.util.AWS_PARAM_PREFIX+o.filenameParam]=encodeURIComponent(o.getName(t)),qq.each(o.paramsStore.getParams(t),function(t,e){a[qq.s3.util.AWS_PARAM_PREFIX+t]=encodeURIComponent(e)}),e={headers:i(a,n,l)},s.getSignature(t,e).then(function(t){a.Authorization="AWS "+o.accessKey+":"+t.signature,r.success(a)},r.failure),r}function i(t,e,i){var n=[],a="";return qq.each(t,function(t){"Content-Type"!==t&&n.push(t)}),n.sort(),qq.each(n,function(e,i){a+=i+":"+t[i]+"\n"}),"POST\n\n"+t["Content-Type"]+"\n\n"+a+"/"+e+"/"+i+"?uploads"}function n(t,e,i){var n,a,s,l,u,d=r[t],c=new DOMParser,p=c.parseFromString(e.responseText,"application/xml");delete r[t],i?(u=e.status,a=p.getElementsByTagName("Message"),a.length>0&&(l=a[0].textContent)):(n=p.getElementsByTagName("UploadId"),n.length>0?s=n[0].textContent:l="Upload ID missing from request"),void 0===s?(l?o.log(qq.format("Specific problem detected initiating multipart upload request for {}: '{}'.",t,l),"error"):o.log(qq.format("Unexplained error with initiate multipart upload request for {}.  Status code {}.",t,u),"error"),d.failure("Problem initiating upload request with Amazon.",e)):(o.log(qq.format("Initiate multipart upload request successful for {}.  Upload ID is {}",t,s)),d.success(s,e))}var a,s,r={},o={filenameParam:"qqfilename",method:"POST",endpointStore:null,paramsStore:null,signatureSpec:null,accessKey:null,acl:"private",maxConnections:3,getContentType:function(){},getKey:function(){},getName:function(){},log:function(){}};return qq.extend(o,t),s=new qq.s3.SignatureAjaxRequestor({signatureSpec:o.signatureSpec,cors:o.cors,log:o.log}),a=new qq.AjaxRequestor({method:o.method,contentType:null,endpointStore:o.endpointStore,maxConnections:o.maxConnections,log:o.log,onComplete:n,successfulResponseCodes:{POST:[200]}}),{send:function(t){var i=new qq.Promise,n=o.getKey(t)+"?uploads";return e(t).then(function(e){o.log("Submitting S3 initiate multipart upload request for "+t),r[t]=i,a.send(t,n,null,e)},i.failure),i}}},qq.s3.CompleteMultipartAjaxRequester=function(t){function e(t,e){var n,a={},s=new qq.Promise;return a["x-amz-date"]=(new Date).toUTCString(),n={headers:i(t,e,a["x-amz-date"])},o.getSignature(t,n).then(function(t){a.Authorization="AWS "+u.accessKey+":"+t.signature,s.success(a)},s.failure),s}function i(t,e,i){var n=u.endpointStore.getEndpoint(t),s=qq.s3.util.getBucket(n),r=a(t,e);return"POST\n\napplication/xml; charset=UTF-8\n\nx-amz-date:"+i+"\n"+"/"+s+"/"+r}function n(t,e,i){var n=l[t],a=new DOMParser,s=u.endpointStore.getEndpoint(t),r=qq.s3.util.getBucket(s),o=(u.getKey(t),a.parseFromString(e.responseText,"application/xml")),d=o.getElementsByTagName("Bucket"),c=o.getElementsByTagName("Key");delete l[t],u.log(qq.format("Complete response status {}, body = {}",e.status,e.responseText)),i?u.log(qq.format("Complete Multipart Upload request for {} failed with status {}.",t,e.status),"error"):d.length&&c.length?d[0].textContent!==r&&(i=!0,u.log(qq.format("Wrong bucket in response to Complete Multipart Upload request for {}.",t),"error")):(i=!0,u.log(qq.format("Missing bucket and/or key in response to Complete Multipart Upload request for {}.",t),"error")),i?n.failure("Problem asking Amazon to combine the parts!",e):n.success(e)}function a(t,e){return qq.format("{}?uploadId={}",u.getKey(t),e)}function s(t){var e=document.implementation.createDocument(null,"CompleteMultipartUpload",null);return qq.each(t,function(t,i){var n=i.part,a=i.etag,s=e.createElement("Part"),r=e.createElement("PartNumber"),o=e.createTextNode(n),l=e.createTextNode(a),u=e.createElement("ETag");u.appendChild(l),r.appendChild(o),s.appendChild(r),s.appendChild(u),qq(e).children()[0].appendChild(s)}),(new XMLSerializer).serializeToString(e)}var r,o,l={},u={method:"POST",endpointStore:null,signatureSpec:null,accessKey:null,maxConnections:3,getKey:function(){},log:function(){}};return qq.extend(u,t),o=new qq.s3.SignatureAjaxRequestor({signatureSpec:u.signatureSpec,cors:u.cors,log:u.log}),r=new qq.AjaxRequestor({method:u.method,contentType:"application/xml; charset=UTF-8",endpointStore:u.endpointStore,maxConnections:u.maxConnections,log:u.log,onComplete:n,successfulResponseCodes:{POST:[200]}}),{send:function(t,i,n){var o=new qq.Promise;return e(t,i).then(function(e){var d=s(n);u.log("Submitting S3 complete multipart upload request for "+t),l[t]=o,r.send(t,a(t,i),null,e,d)},o.failure),o}}},qq.s3.AbortMultipartAjaxRequester=function(t){function e(t,e){var n,a={},s=new qq.Promise;return a["x-amz-date"]=(new Date).toUTCString(),n={headers:i(t,e,a["x-amz-date"])},r.getSignature(t,n).then(function(t){a.Authorization="AWS "+o.accessKey+":"+t.signature,s.success(a)},s.failure),s}function i(t,e,i){var n=o.endpointStore.getEndpoint(t),s=qq.s3.util.getBucket(n),r=a(t,e);return"DELETE\n\n\n\nx-amz-date:"+i+"\n"+"/"+s+"/"+r}function n(t,e,i){var n,a=new DOMParser,s=a.parseFromString(e.responseText,"application/xml"),r=s.getElementsByTagName("Error");o.log(qq.format("Abort response status {}, body = {}",e.status,e.responseText)),i?o.log(qq.format("Abort Multipart Upload request for {} failed with status {}.",t,e.status),"error"):r.length?(i=!0,n=s.getElementsByTagName("Message")[0].textContent,o.log(qq.format("Failed to Abort Multipart Upload request for {}.  Error: {}",t,n),"error")):o.log(qq.format("Abort MPU request succeeded for file ID {}.",t))}function a(t,e){return qq.format("{}?uploadId={}",o.getKey(t),e)}var s,r,o={method:"DELETE",endpointStore:null,signatureSpec:null,accessKey:null,maxConnections:3,getKey:function(){},log:function(){}};return qq.extend(o,t),r=new qq.s3.SignatureAjaxRequestor({signatureSpec:o.signatureSpec,cors:o.cors,log:o.log}),s=new qq.AjaxRequestor({validMethods:["DELETE"],method:o.method,contentType:null,endpointStore:o.endpointStore,maxConnections:o.maxConnections,log:o.log,onComplete:n,successfulResponseCodes:{DELETE:[204]}}),{send:function(t,i){var n=a(t,i);e(t,i).then(function(e){o.log("Submitting S3 Abort multipart upload request for "+t),s.send(t,n,null,e)})}}},qq.s3.UploadHandlerXhr=function(t,e,i,n){function a(t){return encodeURIComponent(s(t))}function s(t){return R[t].key}function r(t,e){R[t].key=e}function o(t){var e=F.getFile(t);R[t].type=e.type,Z.createXhr(t),q(t)?(void 0===R[t].loaded&&(R[t].loaded=0),T(t)):(R[t].loaded=0,m(t))}function l(t){var e=R[t].xhr;return function(){4===e.readyState&&(R[t].chunking.enabled?j(t):d(t))}}function u(t){return"EntityTooSmall"===t||"InvalidPart"===t||"InvalidPartOrder"===t||"NoSuchUpload"===t}function d(i,a,s){var r=s||R[i].xhr,o=F.getName(i),l=F.getSize(i),d=c(i,s),p=a||c(i),h=null!=a||d.success!==!0;h&&u(d.code)&&(n("This is an unrecoverable error, we must restart the upload entirely on the next retry attempt.","error"),b(i),delete R[i].loaded,delete R[i].chunking),h&&t.onAutoRetry(i,o,p,r)||(n(qq.format("Upload attempt for file ID {} to S3 is complete",i)),h||(p.success=!0),L(i,o,l,l),O(i,o,p,r),R[i]&&delete R[i].xhr,d.success&&b(i),delete R[i].loaded,delete R[i].chunking,e(i))}function c(t,e){var i,a=e||R[t].xhr,s={};try{n(qq.format("Received response status {} with body: {}",a.status,a.responseText)),a.status===U?s.success=!0:(i=p(a.responseText),i&&(s.error=i.message,s.code=i.code))}catch(r){n("Error when attempting to parse xhr response text ("+r.message+")","error")}return s}function p(t){var e,i,n=new DOMParser,a=n.parseFromString(t,"application/xml"),s=a.getElementsByTagName("Error"),r={};return s.length?(e=a.getElementsByTagName("Code"),i=a.getElementsByTagName("Message"),i.length&&(r.message=i[0].textContent),e.length&&(r.code=e[0].textContent),r):void 0}function h(t){var e=F.getName(t);F.isValid(t)&&(g(t),void 0!==s(t)?(z(t,e),o(t)):$(t,e).then(function(i){r(t,i),z(t,e),o(t)}))}function m(t){var e=R[t].xhr,i=F.getName(t),a=F.getFile(t);e.upload.onprogress=function(e){e.lengthComputable&&(R[t].loaded=e.loaded,L(t,i,e.loaded,e.total))},e.onreadystatechange=l(t),_(t,a).then(function(i){n("Sending upload request for "+t),e.send(i)})}function f(t){var e=B.getParams(t);return e[N]=F.getName(t),qq.s3.util.generateAwsParams({endpoint:V.getEndpoint(t),params:e,type:R[t].type,key:s(t),accessKey:H,acl:Y,expectedStatus:U,minFileSize:W.minSizeLimit,maxFileSize:W.maxSizeLimit,log:n},qq.bind(J.getSignature,this,t))}function _(t,e){var i=new FormData,n=V.getEndpoint(t),a=n,s=R[t].xhr,r=new qq.Promise;return f(t).then(function(t){s.open("POST",a,!0),qq.obj2FormData(t,i),i.append("file",e),r.success(i)},function(e){r.failure(e),d(t,{error:e})}),r}function g(t){var e,i;K&&void 0===s(t)&&(e=x(t),i=localStorage.getItem(e),i&&(n(qq.format("Identified file with ID {} and name of {} as resumable.",t,F.getName(t))),i=JSON.parse(i),R[t].uuid=i.uuid,r(t,i.key),R[t].loaded=i.loaded,R[t].chunking=i.chunking))}function v(t){var e,i;K&&(e=x(t),i={name:F.getName(t),size:F.getSize(t),uuid:F.getUuid(t),key:s(t),loaded:R[t].loaded,chunking:R[t].chunking,lastUpdated:Date.now()},localStorage.setItem(e,JSON.stringify(i)))}function b(t){var e;return K&&(e=x(t),e&&localStorage.getItem(e))?(localStorage.removeItem(e),!0):!1}function y(t){K&&qq.each(localStorage,function(e,i){if(0===e.indexOf("qqs3resume-")){var n=JSON.parse(i);t(e,n)}})}function w(){var t=[];return y(function(e,i){t.push({name:i.name,size:i.size,uuid:i.uuid,partIdx:i.chunking.lastSent+1,key:i.key})}),t}function k(){var e=t.resume.recordsExpireIn;y(function(t,i){var a=new Date(i.lastUpdated);a.setDate(a.getDate()+e),a.getTime()<=Date.now()&&(n("Removing expired resume record with key "+t),localStorage.removeItem(t))})}function x(e){var i=F.getName(e),n=F.getSize(e),a=t.chunking.partSize,s=t.endpointStore.getEndpoint(e),r=qq.s3.util.getBucket(s);return qq.format("qqs3resume-{}-{}-{}-{}",i,n,a,r)}function q(t){var e;return R[t].chunking||(R[t].chunking={},e=Z.getTotalChunks(t),e>1?(R[t].chunking.enabled=!0,R[t].chunking.parts=e):R[t].chunking.enabled=!1),R[t].chunking.enabled}function T(t){A(t).then(function(){P(t)},function(e,i){d(t,{error:e},i)})}function S(t){return R[t].chunking.lastSent>=0?R[t].chunking.lastSent+1:0}function C(t){var e=S(t)+1,i=R[t].chunking.uploadId;return qq.format("?partNumber={}&uploadId={}",e,i)}function M(e){var i=t.endpointStore.getEndpoint(e),n=C(e),s=a(e);return qq.format("{}/{}{}",i,s,n)}function P(t){var e=R[t].chunking.parts,i=S(t);e>i?D(t):E(t)}function E(t){var e=R[t].chunking.uploadId,i=R[t].chunking.etags;ee.send(t,e,i).then(function(e){d(t,null,e)},function(e,i){d(t,{error:e},i)})}function D(e){var i=S(e),a=F.getName(e),s=R[e].xhr,r=M(e),o=F.getSize(e),u=Z.getChunkData(e,i);I(e).then(function(i){t.onUploadChunk(e,a,Z.getChunkDataForCallback(u)),s.upload.onprogress=function(i){if(i.lengthComputable){var n=i.loaded+R[e].loaded;t.onProgress(e,a,n,o)}},s.onreadystatechange=l(e),s.open("PUT",r,!0),qq.each(i,function(t,e){s.setRequestHeader(t,e)}),n(qq.format("Sending part {} of {} for file ID {} - {} ({} bytes)",u.part+1,u.count,e,a,u.size)),s.send(u.blob)},function(){d(e,{error:"Problem signing the chunk!"},s)})}function I(e){var i,n={},s=t.endpointStore.getEndpoint(e),r=qq.s3.util.getBucket(s),o=a(e),l=(new Date).toUTCString(),u=C(e),d=new qq.Promise;
return n["x-amz-date"]=l,i={headers:"PUT\n\n\n\nx-amz-date:"+l+"\n"+"/"+r+"/"+o+u},Q.getSignature(e,i).then(function(e){n.Authorization="AWS "+t.accessKey+":"+e.signature,d.success(n)},d.failure),d}function A(t){return R[t].chunking.uploadId?(new qq.Promise).success(R[t].chunking.uploadId):te.send(t).then(function(e){R[t].chunking.uploadId=e})}function j(t){var e,i=S(t),a=R[t].xhr,s=c(t),r=Z.getChunkData(t,i);s.success?(R[t].chunking.lastSent=i,e=a.getResponseHeader("ETag"),R[t].chunking.etags||(R[t].chunking.etags=[]),R[t].chunking.etags.push({part:i+1,etag:e}),R[t].loaded+=r.size,v(t),P(t)):(s.error&&n(s.error,"error"),d(t))}var F,R=[],U=200,L=t.onProgress,O=t.onComplete,z=t.onUpload,$=t.getKeyName,N=t.filenameParam,B=t.paramsStore,V=t.endpointStore,H=t.accessKey,Y=t.objectProperties.acl,W=t.validation,G=t.signature,X=t.chunking.enabled&&qq.supportedFeatures.chunking,K=t.resume.enabled&&X&&qq.supportedFeatures.resume&&void 0!==window.localStorage,Z={},J=new qq.s3.SignatureAjaxRequestor({expectingPolicy:!0,signatureSpec:G,cors:t.cors,log:n}),Q=new qq.s3.SignatureAjaxRequestor({signatureSpec:G,cors:t.cors,log:n}),te=new qq.s3.InitiateMultipartAjaxRequester({filenameParam:N,endpointStore:V,paramsStore:B,signatureSpec:G,accessKey:t.accessKey,acl:Y,cors:t.cors,log:n,getContentType:function(t){return F.getFile(t).type},getKey:function(t){return a(t)},getName:function(t){return F.getName(t)}}),ee=new qq.s3.CompleteMultipartAjaxRequester({endpointStore:V,signatureSpec:G,accessKey:t.accessKey,cors:t.cors,log:n,getKey:function(t){return a(t)}}),ie=new qq.s3.AbortMultipartAjaxRequester({endpointStore:V,signatureSpec:G,accessKey:t.accessKey,cors:t.cors,log:n,getKey:function(t){return a(t)}});return F=new qq.UploadHandlerXhrApi(Z,R,X?t.chunking:null,h,t.onCancel,i,n),k(),qq.override(F,function(t){return{add:function(e){var i=t.add(e);return K&&g(i),i},getResumableFilesData:function(){return w()},expunge:function(e){var i=R[e].chunking&&R[e].chunking.uploadId,n=b(e);void 0!==i&&n&&ie.send(e,i),t.expunge(e)},getThirdPartyFileId:function(t){return s(t)}}})},qq.s3.UploadHandlerForm=function(t,e,i,n){function a(e,i){var n=t.endpointStore.getEndpoint(e),a=qq.s3.util.getBucket(n);try{var s=i.contentDocument||i.contentWindow.document;s.body.innerHTML;var r=qq.s3.util.parseIframeResponse(i);if(r.bucket===a&&r.key===qq.s3.util.encodeQueryStringParam(d[e].key))return!0;c("Response from AWS included an unexpected bucket or key name.","error")}catch(o){c("Error when attempting to parse form upload response ("+o.message+")","error")}return!1}function s(t){var e=_.getParams(t);return e[f]=u.getName(t),qq.s3.util.generateAwsParams({endpoint:g.getEndpoint(t),params:e,key:d[t].key,accessKey:v,acl:b,minFileSize:y.minSizeLimit,maxFileSize:y.maxSizeLimit,successRedirectUrl:k,log:c},qq.bind(x.getSignature,this,t))}function r(e,i){var n=new qq.Promise,a=t.demoMode?"GET":"POST",r=t.endpointStore.getEndpoint(e),o=u.getName(e);return s(e).then(function(t){var e=q.initFormForUpload({method:a,endpoint:r,params:t,paramsInBody:!0,targetName:i.name});n.success(e)},function(t){n.failure(t),l(e,i,o,{error:t})}),n}function o(t){var e=u.getName(t),i=q.createIframe(t),n=d[t].input;r(t,i).then(function(s){h(t,e),s.appendChild(n),q.attachLoadEvent(i,function(n){c("iframe loaded"),n?n.success===!1&&c("Amazon likely rejected the upload request","error"):(n={},n.success=a(t,i),n.success===!1&&c("A success response was received by Amazon, but it was invalid in some way.","error")),l(t,i,e,n)}),c("Sending upload request for "+t),s.submit(),qq(s).remove()})}function l(i,n,a,s){q.detachLoadEvent(i),qq(n).remove(),(s.success||!t.onAutoRetry(i,a,s))&&(p(i,a,s),e(i))}var u,d=[],e=e,c=n,p=t.onComplete,h=t.onUpload,m=t.getKeyName,f=t.filenameParam,_=t.paramsStore,g=t.endpointStore,v=t.accessKey,b=t.objectProperties.acl,y=t.validation,w=t.signature,k=t.iframeSupport.localBlankPagePath,x=new qq.s3.SignatureAjaxRequestor({signatureSpec:w,cors:t.cors,log:c}),q={};if(void 0===k)throw new Error("successRedirectEndpoint MUST be defined if you intend to use browsers that do not support the File API!");return u=new qq.UploadHandlerFormApi(q,d,!1,"file",t.onCancel,i,c),qq.extend(u,{upload:function(t){var e=d[t].input,i=u.getName(t);if(!e)throw new Error("file with passed id was not added, or already uploaded or cancelled");u.isValid(t)&&(d[t].key?o(t):m(t,i).then(function(e){d[t].key=e,o(t)}))},getThirdPartyFileId:function(t){return d[t].key}}),u},function(t){t.fn.fineUploaderS3=function(e){return"object"==typeof e&&(e.endpointType="s3"),t.fn.fineUploader.apply(this,arguments)}}(jQuery),qq.PasteSupport=function(t){function e(t){return t.type&&0===t.type.indexOf("image/")}function i(){qq(a.targetElement).attach("paste",function(t){var i=t.clipboardData;i&&qq.each(i.items,function(t,i){if(e(i)){var n=i.getAsFile();a.callbacks.pasteReceived(n)}})})}function n(){s&&s()}var a,s;return a={targetElement:null,callbacks:{log:function(){},pasteReceived:function(){}}},qq.extend(a,t),i(),{reset:function(){n()}}},qq.DragAndDrop=function(t){function e(t,e){o.callbacks.dropLog("Grabbed "+t.length+" dropped files."),e.dropDisabled(!1),o.callbacks.processingDroppedFilesComplete(t)}function i(t){var e,n=new qq.Promise;return t.isFile?t.file(function(t){u.push(t),n.success()},function(e){o.callbacks.dropLog("Problem parsing '"+t.fullPath+"'.  FileError code "+e.code+".","error"),n.failure()}):t.isDirectory&&(e=t.createReader(),e.readEntries(function(t){var e=t.length;qq.each(t,function(t,a){i(a).done(function(){e-=1,0===e&&n.success()})}),t.length||n.success()},function(e){o.callbacks.dropLog("Problem parsing '"+t.fullPath+"'.  FileError code "+e.code+".","error"),n.failure()})),n}function n(t,e){var n=[],a=new qq.Promise;return o.callbacks.processingDroppedFiles(),e.dropDisabled(!0),t.files.length>1&&!o.allowMultipleItems?(o.callbacks.processingDroppedFilesComplete([]),o.callbacks.dropError("tooManyFilesError",""),e.dropDisabled(!1),a.failure()):(u=[],qq.isFolderDropSupported(t)?qq.each(t.items,function(t,e){var s=e.webkitGetAsEntry();s&&(s.isFile?u.push(e.getAsFile()):n.push(i(s).done(function(){n.pop(),0===n.length&&a.success()})))}):u=t.files,0===n.length&&a.success()),a}function a(t){var i=new qq.UploadDropZone({element:t,onEnter:function(e){qq(t).addClass(o.classes.dropActive),e.stopPropagation()},onLeaveNotDescendants:function(){qq(t).removeClass(o.classes.dropActive)},onDrop:function(a){o.hideDropZonesBeforeEnter&&qq(t).hide(),qq(t).removeClass(o.classes.dropActive),n(a.dataTransfer,i).done(function(){e(u,i)})}});return d.addDisposer(function(){i.dispose()}),o.hideDropZonesBeforeEnter&&qq(t).hide(),l.push(i),i}function s(t){var e;return qq.each(t.dataTransfer.types,function(t,i){return"Files"===i?(e=!0,!1):void 0}),e}function r(){var t=o.dropZoneElements;qq.each(t,function(e,i){var n=a(i);!t.length||qq.ie()&&!qq.ie10()||d.attach(document,"dragenter",function(e){!n.dropDisabled()&&s(e)&&qq.each(t,function(t,e){qq(e).css({display:"block"})})})}),d.attach(document,"dragleave",function(e){o.hideDropZonesBeforeEnter&&qq.FineUploader.prototype._leaving_document_out(e)&&qq.each(t,function(t,e){qq(e).hide()})}),d.attach(document,"drop",function(e){o.hideDropZonesBeforeEnter&&qq.each(t,function(t,e){qq(e).hide()}),e.preventDefault()})}var o,l=[],u=[],d=new qq.DisposeSupport;return o={dropZoneElements:[],hideDropZonesBeforeEnter:!1,allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(o,t,!0),r(),{setupExtraDropzone:function(t){o.dropZoneElements.push(t),a(t)},removeDropzone:function(t){var e,i=o.dropZoneElements;for(e in i)if(i[e]===t)return i.splice(e,1)},dispose:function(){d.dispose(),qq.each(l,function(t,e){e.dispose()})}}},qq.DragAndDrop.callbacks=function(){return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(){},dropError:function(t,e){qq.log("Drag & drop error code '"+t+" with these specifics: '"+e+"'","error")},dropLog:function(t,e){qq.log(t,e)}}},qq.UploadDropZone=function(t){function e(){return qq.safari()||qq.firefox()&&qq.windows()}function i(){u||(e?d.attach(document,"dragover",function(t){t.preventDefault()}):d.attach(document,"dragover",function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none",t.preventDefault())}),u=!0)}function n(t){if(qq.ie()&&!qq.ie10())return!1;var e,i=t.dataTransfer,n=qq.safari();return e=qq.ie10()||qq.ie11()?!0:"none"!==i.effectAllowed,i&&e&&(i.files||!n&&i.types.contains&&i.types.contains("Files"))}function a(t){return void 0!==t&&(l=t),l}function s(){d.attach(o,"dragover",function(t){if(n(t)){var e=qq.ie()||qq.ie11()?null:t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy",t.stopPropagation(),t.preventDefault()}}),d.attach(o,"dragenter",function(t){if(!a()){if(!n(t))return;r.onEnter(t)}}),d.attach(o,"dragleave",function(t){if(n(t)){r.onLeave(t);var e=document.elementFromPoint(t.clientX,t.clientY);qq(this).contains(e)||r.onLeaveNotDescendants(t)}}),d.attach(o,"drop",function(t){if(!a()){if(!n(t))return;t.preventDefault(),r.onDrop(t)}})}var r,o,l,u,d=new qq.DisposeSupport;return r={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}},qq.extend(r,t),o=r.element,i(),s(),{dropDisabled:function(t){return a(t)},dispose:function(){d.dispose()}}},qq.DeleteFileAjaxRequestor=function(t){function e(){return"POST"===n.method.toUpperCase()?{_method:"DELETE"}:{}}var i,n={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:{},paramsStore:{},demoMode:!1,cors:{expected:!1,sendCredentials:!1},log:function(){},onDelete:function(){},onDeleteComplete:function(){}};return qq.extend(n,t),i=new qq.AjaxRequestor({validMethods:["POST","DELETE"],method:n.method,endpointStore:n.endpointStore,paramsStore:n.paramsStore,mandatedParams:e(),maxConnections:n.maxConnections,customHeaders:n.customHeaders,demoMode:n.demoMode,log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete,cors:n.cors}),{sendDelete:function(t,e,a){var s=a||{};n.log("Submitting delete file request for "+t),"DELETE"===i.getMethod()?i.send(t,e,s):(s[n.uuidParamName]=e,i.send(t,null,s))}}},qq.WindowReceiveMessage=function(t){var e={log:function(){}},i={};return qq.extend(e,t),{receiveMessage:function(t,e){var n=function(t){e(t.data)};window.postMessage?i[t]=qq(window).attach("message",n):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(t){if(window.postMessage){var e=i[t];e&&e()}}}},qq.UiEventHandler=function(t,e){function i(t){n.attach(t,a.eventType,function(t){t=t||window.event;var e=t.target||t.srcElement;a.onHandled(e,t)})}var n=new qq.DisposeSupport,a={eventType:"click",attachTo:null,onHandled:function(){}},s={addHandler:function(t){i(t)},dispose:function(){n.dispose()}};return qq.extend(e,{getItemFromEventTarget:function(t){for(var e=t.parentNode;void 0===e.qqFileId;)e=e.parentNode;return e},getFileIdFromItem:function(t){return t.qqFileId},getDisposeSupport:function(){return n}}),qq.extend(a,t),a.attachTo&&i(a.attachTo),s},qq.DeleteRetryOrCancelClickHandler=function(t){function e(t,e){if(qq(t).hasClass(a.classes.cancel)||qq(t).hasClass(a.classes.retry)||qq(t).hasClass(a.classes.deleteButton)){var s=n.getItemFromEventTarget(t),r=n.getFileIdFromItem(s);qq.preventDefault(e),a.log(qq.format("Detected valid cancel, retry, or delete click event on file '{}', ID: {}.",a.onGetName(r),r)),i(t,r)}}function i(t,e){qq(t).hasClass(a.classes.deleteButton)?a.onDeleteFile(e):qq(t).hasClass(a.classes.cancel)?a.onCancel(e):a.onRetry(e)}var n={},a={listElement:document,log:function(){},classes:{cancel:"qq-upload-cancel",deleteButton:"qq-upload-delete",retry:"qq-upload-retry"},onDeleteFile:function(){},onCancel:function(){},onRetry:function(){},onGetName:function(){}};qq.extend(a,t),a.eventType="click",a.onHandled=e,a.attachTo=a.listElement,qq.extend(this,new qq.UiEventHandler(a,n))},qq.FilenameEditHandler=function(t,e){function i(t){var e=l.onGetName(t),i=e.lastIndexOf(".");return i>0&&(e=e.substr(0,i)),e}function n(t){var e=l.onGetName(t);return qq.getExtension(e)}function a(t,e){var i,a=t.value;void 0!==a&&qq.trimStr(a).length>0&&(i=n(e),void 0!==i&&(a=a+"."+i),l.onSetName(e,a)),l.onEditingStatusChange(e,!1)}function s(t,i){e.getDisposeSupport().attach(t,"blur",function(){a(t,i)})}function r(t,i){e.getDisposeSupport().attach(t,"keyup",function(e){var n=e.keyCode||e.which;13===n&&a(t,i)})}var o,l={listElement:null,log:function(){},classes:{file:"qq-upload-file"},onGetUploadStatus:function(){},onGetName:function(){},onSetName:function(){},onGetInput:function(){},onEditingStatusChange:function(){}};return qq.extend(l,t),l.attachTo=l.listElement,o=qq.extend(this,new qq.UiEventHandler(l,e)),qq.extend(e,{handleFilenameEdit:function(t,e,n,a){var o=l.onGetInput(n);l.onEditingStatusChange(t,!0),o.value=i(t),a&&o.focus(),s(o,t),r(o,t)}}),o},qq.FilenameClickHandler=function(t){function e(t,e){if(qq(t).hasClass(n.classes.file)||qq(t).hasClass(n.classes.editNameIcon)){var a=i.getItemFromEventTarget(t),s=i.getFileIdFromItem(a),r=n.onGetUploadStatus(s);r===qq.status.SUBMITTED&&(n.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",n.onGetName(s),s)),qq.preventDefault(e),i.handleFilenameEdit(s,t,a,!0))}}var i={},n={log:function(){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(){},onGetName:function(){}};return qq.extend(n,t),n.eventType="click",n.onHandled=e,qq.extend(this,new qq.FilenameEditHandler(n,i))},qq.FilenameInputFocusInHandler=function(t,e){function i(t){if(qq(t).hasClass(n.classes.editFilenameInput)){var i=e.getItemFromEventTarget(t),a=e.getFileIdFromItem(i),s=n.onGetUploadStatus(a);s===qq.status.SUBMITTED&&(n.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",n.onGetName(a),a)),e.handleFilenameEdit(a,t,i))}}var n={listElement:null,classes:{editFilenameInput:"qq-edit-filename"},onGetUploadStatus:function(){},log:function(){}};return e||(e={}),n.eventType="focusin",n.onHandled=i,qq.extend(n,t),qq.extend(this,new qq.FilenameEditHandler(n,e))},qq.FilenameInputFocusHandler=function(t){return t.eventType="focus",t.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(t,{}))},qq}),define("fine-uploader",["fine-uploader/s3.fineuploader"],function(t){return t}),function(t){function e(t){if(t in c.style)return t;var e=["Moz","Webkit","O","ms"],i=t.charAt(0).toUpperCase()+t.substr(1);if(t in c.style)return t;for(var n=0;n<e.length;++n){var a=e[n]+i;if(a in c.style)return a}}function i(){return c.style[p.transform]="",c.style[p.transform]="rotateY(90deg)",""!==c.style[p.transform]}function n(t){return"string"==typeof t&&this.parse(t),this}function a(t,e,i){e===!0?t.queue(i):e?t.queue(e,i):i()}function s(e){var i=[];return t.each(e,function(e){e=t.camelCase(e),e=t.transit.propertyMap[e]||t.cssProps[e]||e,e=l(e),-1===t.inArray(e,i)&&i.push(e)}),i}function r(e,i,n,a){var r=s(e);t.cssEase[n]&&(n=t.cssEase[n]);var o=""+d(i)+" "+n;parseInt(a,10)>0&&(o+=" "+d(a));var l=[];return t.each(r,function(t,e){l.push(e+" "+o)}),l.join(", ")}function o(e,i){i||(t.cssNumber[e]=!0),t.transit.propertyMap[e]=p.transform,t.cssHooks[e]={get:function(i){var n=t(i).css("transit:transform");return n.get(e)},set:function(i,n){var a=t(i).css("transit:transform");a.setFromString(e,n),t(i).css({"transit:transform":a})}}}function l(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function u(t,e){return"string"!=typeof t||t.match(/^[\-0-9\.]+$/)?""+t+e:t}function d(e){var i=e;return t.fx.speeds[i]&&(i=t.fx.speeds[i]),u(i,"ms")}t.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var c=document.createElement("div"),p={},h=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;p.transition=e("transition"),p.transitionDelay=e("transitionDelay"),p.transform=e("transform"),p.transformOrigin=e("transformOrigin"),p.transform3d=i();var m={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},f=p.transitionEnd=m[p.transition]||null;for(var _ in p)p.hasOwnProperty(_)&&"undefined"==typeof t.support[_]&&(t.support[_]=p[_]);c=null,t.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},t.cssHooks["transit:transform"]={get:function(e){return t(e).data("transform")||new n},set:function(e,i){var a=i;a instanceof n||(a=new n(a)),e.style[p.transform]="WebkitTransform"!==p.transform||h?a.toString():a.toString(!0),t(e).data("transform",a)}},t.cssHooks.transform={set:t.cssHooks["transit:transform"].set},t.fn.jquery<"1.8"&&(t.cssHooks.transformOrigin={get:function(t){return t.style[p.transformOrigin]},set:function(t,e){t.style[p.transformOrigin]=e}},t.cssHooks.transition={get:function(t){return t.style[p.transition]},set:function(t,e){t.style[p.transition]=e}}),o("scale"),o("translate"),o("rotate"),o("rotateX"),o("rotateY"),o("rotate3d"),o("perspective"),o("skewX"),o("skewY"),o("x",!0),o("y",!0),n.prototype={setFromString:function(t,e){var i="string"==typeof e?e.split(","):e.constructor===Array?e:[e];i.unshift(t),n.prototype.set.apply(this,i)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);this.setter[t]?this.setter[t].apply(this,e):this[t]=e.join(",")},get:function(t){return this.getter[t]?this.getter[t].apply(this):this[t]||0},setter:{rotate:function(t){this.rotate=u(t,"deg")},rotateX:function(t){this.rotateX=u(t,"deg")},rotateY:function(t){this.rotateY=u(t,"deg")},scale:function(t,e){void 0===e&&(e=t),this.scale=t+","+e},skewX:function(t){this.skewX=u(t,"deg")},skewY:function(t){this.skewY=u(t,"deg")},perspective:function(t){this.perspective=u(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==t&&void 0!==t&&(this._translateX=u(t,"px")),null!==e&&void 0!==e&&(this._translateY=u(e,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");return t[0]&&(t[0]=parseFloat(t[0])),t[1]&&(t[1]=parseFloat(t[1])),t[0]===t[1]?t[0]:t},rotate3d:function(){for(var t=(this.rotate3d||"0,0,0,0deg").split(","),e=0;3>=e;++e)t[e]&&(t[e]=parseFloat(t[e]));return t[3]&&(t[3]=u(t[3],"deg")),t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,i,n){e.setFromString(i,n)})},toString:function(t){var e=[];for(var i in this)if(this.hasOwnProperty(i)){if(!p.transform3d&&("rotateX"===i||"rotateY"===i||"perspective"===i||"transformOrigin"===i))continue;"_"!==i[0]&&(t&&"scale"===i?e.push(i+"3d("+this[i]+",1)"):t&&"translate"===i?e.push(i+"3d("+this[i]+",0)"):e.push(i+"("+this[i]+")"))}return e.join(" ")}},t.fn.transition=t.fn.transit=function(e,i,n,s){var o=this,l=0,u=!0;"function"==typeof i&&(s=i,i=void 0),"function"==typeof n&&(s=n,n=void 0),"undefined"!=typeof e.easing&&(n=e.easing,delete e.easing),"undefined"!=typeof e.duration&&(i=e.duration,delete e.duration),"undefined"!=typeof e.complete&&(s=e.complete,delete e.complete),"undefined"!=typeof e.queue&&(u=e.queue,delete e.queue),"undefined"!=typeof e.delay&&(l=e.delay,delete e.delay),"undefined"==typeof i&&(i=t.fx.speeds._default),"undefined"==typeof n&&(n=t.cssEase._default),i=d(i);var c=r(e,i,n,l),h=t.transit.enabled&&p.transition,m=h?parseInt(i,10)+parseInt(l,10):0;if(0===m){var _=function(t){o.css(e),s&&s.apply(o),t&&t()};return a(o,u,_),o}var g={},v=function(i){var n=!1,a=function(){n&&o.unbind(f,a),m>0&&o.each(function(){this.style[p.transition]=g[this]||null}),"function"==typeof s&&s.apply(o),"function"==typeof i&&i()};m>0&&f&&t.transit.useTransitionEnd?(n=!0,o.bind(f,a)):window.setTimeout(a,m),o.each(function(){m>0&&(this.style[p.transition]=c),t(this).css(e)})},b=function(t){this.offsetWidth,v(t)};return a(o,u,b),this},t.transit.getTransitionValue=r}(jQuery),define("jquery.transit",["jquery.transit/jquery.transit"],function(t){return t}),define("jquery.transit/jquery.transit",function(){}),define("components/photo-share-button-6/js/photo-share",["require","lodash","jquery","./utils","lib/facebookApi","tmpl!photo-share-upload-zone-6","fine-uploader","jquery.transit"],function(t){function e(t){var e=this;e.options=n.extend(!0,{},f,l,t),s.init(i.bind(e.onFacebookInit,e))}var i=t("lodash"),n=t("jquery"),a=t("./utils"),s=t("lib/facebookApi"),r=t("tmpl!photo-share-upload-zone-6"),o=t("fine-uploader");t("jquery.transit");var l,u="withCredentials"in new XMLHttpRequest?"https:":window.location.protocol,d="share.massrelevance.com",c=u+"//"+d,p="https://"+d,h=p+"/twitter/auth",m=MR.spacePath(),f={twitterAuthRedirectURI:m+"/mr/photo-share-redirect.html",uploaderOpts:{chunking:{enabled:!0},cors:{allowXdr:!0,allowCors:!0,expected:!0},iframeSupport:{localBlankPagePath:u+m+"/mr/photo-share-blank-page.html"},request:{endpoint:"https://share-massrelevance-com.s3.amazonaws.com",accessKey:"AKIAI3SIW5OJMK7OMNZA"},retry:{enableAuto:!0},signature:{endpoint:c+"/s3/signature"},template:r(),uploadSuccess:{endpoint:c+"/s3/success"},multiple:!1,validation:{acceptFiles:"image/*",allowedExtensions:["jpeg","jpg","gif","png"]}}},_={twitterAuthRedirectURI:"//localhost:9000/lib/static/photo-share-redirect.html",uploaderOpts:{iframeSupport:{localBlankPagePath:u+"//"+window.location.host+"/lib/static/photo-share-blank-page.html"}}},g={twitterAuthRedirectURI:"//up.massrelevance.com/massrel-products/photo-upload/redirect.html",uploaderOpts:{iframeSupport:{localBlankPagePath:u+"//"+window.location.host+"/massrel-products/photo-upload/blankPage.html"}}},v=MR.spaceConfig&&MR.spaceConfig.env;return"dev"===v?l=_:"preview"===v&&(l=g),e.prototype.getRequestParams=function(t){var e=this,n={},a=e.model.get(t+"_message"),s=e[t+"User"],r=e.options[t]&&e.options[t].destination;return s&&(n.user=s,n.message=a,n.destination=r),i.pick(n,function(t){return"undefined"!=typeof t&&null!==t})},e.prototype.share=function(t){var e,i=this,a=n.Deferred();return i.getUploadPromise().then(function(a){return e=i.getRequestParams(t),e.image=a,n.getJSON(p+"/"+t+"/share?callback=?",e)}).done(function(t){t&&t.success&&a.resolve(t.id)}),a.promise()},e.prototype.setupUploader=function(t,e){var i=this,a=n.extend({},i.options.uploaderOpts,{showConfirm:function(){},showMessage:function(t){i.showMessage(t)},showPrompt:function(){}});return i.$modal=t,i.model=e,a.element=t.find(".upload-target").get(0),a.callbacks=i.callbacks(),i.uploader=new o.s3.FineUploader(a),i.uploader},e.prototype.callbacks=function(){var t=this;return{onComplete:function(){t.complete.apply(t,arguments)},onSubmit:function(){t.fileAdded.apply(t,arguments)},onSubmitted:function(){t.validated.apply(t,arguments)}}},e.prototype.complete=function(t,e,i){var n,a=this,s=/(?:.*)(\.[^.]+)/,r=a.uploader.getUuid(t),o=e.match(s);o&&2===o.length&&(n=r+o[1],a.uploadDeferred&&a.uploadDeferred.resolve(n),a.showS3Preview(t,i&&i.url))},e.prototype.uploadError=function(t,e,n){var a=this;/^XHR/.test(n)&&i.delay(function(){},500),a.complete()},e.prototype.fileAdded=function(){var t=this;t.$modal.find(".errors").empty()},e.prototype.validated=function(t){var e=this;e.uploadDeferred=n.Deferred(),e.model.set("step","share"),e.showPreview(t)},e.prototype.getUploadPromise=function(){var t=this,e=t.uploadDeferred;return e&&e.promise()||a.emptyPromise()},e.prototype.showPreview=function(t){var e=this,i=e.uploader.getFile(t),n=window.FileReader&&new FileReader;i&&n&&(n.onload=a.minDelayedExecutor(function(t){e.model.get("imagePreviews").push({url:t.target.result})},1500),n.readAsDataURL(i))},e.prototype.showS3Preview=function(t,e){var i=this,n=i.uploader.getFile(t);n&&window.FileReader||!e||i.model.set("imagePreviewUrl",e)},e.prototype.twitterAuth=function(){var t,e,i,s=this,r="resizable=yes,toolbar=no,location=yes",o=550,l=480,u=screen.width,d=Math.round(u/2-o/2),c=0,p=n.Deferred();return s.twitterUser?p.resolve(s.twitterUser):(t=function(){var t=a.getCookie("mr_pauth_t");t?(s.twitterUser=t,p.resolve(t)):p.reject("Twitter authentication failed")},i=function(){s.twitterAuthWindow&&s.twitterAuthWindow.closed&&(s.hackInterval=window.setTimeout(t,500),window.clearInterval(s.twitterCloseInterval))},s.twitterCloseInterval=window.setInterval(i,500),e=h+"?redirect_url="+encodeURIComponent(window.location.protocol+s.options.twitterAuthRedirectURI),s.twitterAuthWindow=window.open(e,"mr_twitter_auth",r+",width="+o+",height="+l+",left="+d+",top="+c)),p.promise()},e.prototype.facebookAuth=function(){var t=this,e=n.Deferred();return t.facebookUser?e.resolve(t.facebookUser):s.getClient().login(null,["publish_actions"]).then(function(i){t.facebookUser=i&&i.accessToken,e.resolve(t.facebookUser)}).fail(function(){e.reject("Facebook authentication failed")}),e.promise()},e.prototype.onFacebookInit=function(){this.facebookUser=s.getClient().currentUser()},e.prototype.showMessage=function(t){this.model.get("errors").add({message:t})},e.prototype.reset=function(){this.uploader&&(this.uploader.reset(),this.uploader=void 0),window.clearInterval(this.hackInterval)},e.fileApi=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),e}),define("components/photo-share-button-6/js/views/MyDeviceView",["require","lib/views/BaseView","tmpl!photo-share-my-device-6","../photo-share","../utils","lodash","jquery"],function(t){var e=t("lib/views/BaseView"),i=t("tmpl!photo-share-my-device-6"),n=t("../photo-share"),a=t("../utils"),s=t("lodash"),r=t("jquery");return e.extend({tagName:"div",className:function(){var t=["my-device"];return n.fileApi&&t.push("file-api"),t.join(" ")},template:i,initialize:function(t){return this.photoShare=new n({facebook:{destination:this.model.get("upload_settings").facebook_destination}}),this.model=t.model,this.model.get("imagePreviews").reset(),this.model.get("imagePreviews").on("add",s.bind(this.updateImagePreviews,this)),this.model.get("imagePreviews").on("remove",s.bind(this.updateImagePreviews,this)),this.model.get("errors").on("add",function(){}),this.model.set("message",this.model.get("upload_settings").hashtags),this.dispatcher=t.dispatcher,this},handlers:{back:function(){this.$el.hasClass("confirm")?(this.dispatcher.trigger("update-breadcrumb",{breadcrumb:"select"}),this.$el.removeClass("confirm").addClass("preview-mode")):this.dispatcher.trigger("show-start",this),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"back"})},next:function(){this.$el.find(".next-button").hasClass("inactive")||(this.dispatcher.trigger("update-breadcrumb",{breadcrumb:"confirm"}),this.$el.addClass("confirm").removeClass("preview-mode"),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"next"}))},"share-twitter":function(){this.model.set("twitter_message",this.$el.find("textarea").val()),this.share("twitter")},"share-facebook":function(){this.model.set("facebook_message",this.$el.find("textarea").val()),this.share("facebook")},"remove-image":function(){this.model.get("imagePreviews").pop(),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"removeimage"})}},updateImagePreviews:function(){var t=this.$el.find(".image-previews");t.empty(),this.model.get("imagePreviews").each(function(e){var i=r('<div class="image-preview"><img src="'+e.get("url")+'"></div>');i.append(r('<i class="icon-close-x mr-action-click" data-action="remove-image">')),t.append(i)});var e=this.model.get("imagePreviews").length;this.$el.find(".next-button").removeClass("inactive"),this.$el.addClass("preview-mode"),1===e?this.$el.find(".selected-label").text(e+" photo selected"):e>0?this.$el.find(".selected-label").text(e+" photos selected"):(this.$el.removeClass("preview-mode"),this.$el.find(".next-button").addClass("inactive"),this.$el.find(".selected-label").text(""))},render:function(){e.prototype.render.apply(this,arguments);var t=this;return t.uploader=t.photoShare.setupUploader(this.$el,this.model),t.$el.find(".qq-upload-button input").attr("id","qq-upload-button-input"),t.updateImagePreviews(),this},share:function(t){var e=this,i=this.$el;if("twitter"===t){var n=a.tweetCharacterCount(this.model.get("twitter_message"));if(0>n)return r(".error").children().length||this.photoShare.showMessage("Oh no! Your tweet is too long!"),void 0}var s=e.photoShare[t+"Auth"]||a.emptyPromise;s.call(e.photoShare).then(function(){a.minDelayedExecutor(function(){i.removeClass("auth-in-progress"),e.handleShare(i,t)},1e3)()}).fail(function(t){i.removeClass("share-in-progress auth-in-progress"),e.photoShare.showMessage(t)})},handleShare:function(t,e){var i,n=this;t.addClass("upload-in-progress"),i=function(){var t="uploadcomplete";"twitter"===e?t="tweetuploadcomplete":"facebook"===e&&(t="fbpostuploadcomplete"),n.analytics().trackEvent({category:"viz:upload",action:t}),n.dispatcher.trigger("close",this)},n.photoShare.share(e).then(function(){a.minDelayedExecutor(function(){i()},1e3)()})}})}),define("components/photo-share-button-6/js/models/MyDeviceModel",["require","backbone-amd"],function(t){var e=t("backbone-amd");return e.Model.extend({defaults:{imagePreviews:new e.Collection,errors:new e.Collection,type:"mydevice"}})}),define("tmpl!photo-share-instagram-6",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="";with(_.escape,obj)__p+='<div class="photo-chooser">\n  <i class="icon-instagram-logo"/>\n  <h3 class="chooser-header">Which photos do you want to add?</h3>\n  <h3 class="confirm-header">Add these photos?</h3>\n</div>\n\n<div class="image-previews">\n</div>\n<div class="status-previews">\n</div>\n\n<div class="terms-of-service">\n  <div class="terms-section">\n    <h3>Terms Of Service</h3>\n    <div class="terms-text">'+(null==(__t=terms_text)?"":__t)+'</div>\n  </div>\n  <div class="checkbox mr-action-click" data-action="agree">\n    <i class="icon-vote-check"></i>\n  </div><span class="checkbox-label">I agree to the Terms of Service</span><span class="terms-link mr-action-click" data-action="show-terms">READ TERMS</span>\n</div>\n\n<div class="select-footer">\n  <div class="back-button mr-action-click" data-action="back">&lt; BACK</div>\n  <div class="selected-label"></div>\n  <div class="next-button button inactive mr-action-click" data-action="next">NEXT</div>\n  <div class="add-photos-button button mr-action-click inactive" data-action="add-photos">ADD PHOTOS</div>\n</div>';return __p},metadata:{},name:"photo-share-instagram-6"})}),define("tmpl!photo-share-native-status-6",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});
var __t,__p="";with(_.escape,obj)__p+='<div class="native-status" data-status-id="'+(null==(__t=id)?"":__t)+'">\n  <i class="icon-close-x mr-action-click" data-action="remove-image"/>\n  <div class="native-image" style="background-image:url(\''+(null==(__t=image)?"":__t)+'\')">\n  </div>\n  <div class="native-right">\n    <div class="native-content-header">\n      <div class="native-avatar"><img src="'+(null==(__t=avatar)?"":__t)+'"/></div>\n      <div class="native-username">'+(null==(__t=username)?"":__t)+'</div>\n      <div class="native-date">'+(null==(__t=formattedDate)?"":__t)+'</div>\n      <i class="icon-'+(null==(__t=network)?"":__t)+'-logo"/>\n    </div>\n    <div class="native-text">\n      '+(null==(__t=text)?"":__t)+"\n    </div>\n  </div>\n</div>";return __p},metadata:{},name:"photo-share-native-status-6"})}),define("lib/sourcedEntities",["require","jquery","lodash","q","massrel-js"],function(t){function e(t){return this.config=n.extend({},c,t),this}var i=t("jquery"),n=t("lodash"),a=t("q"),s=t("massrel-js"),r="https://spredfast.com/v2/visualizations/",o="https://spredfast.com/platform/visualizations/",l=MR.spacePath(),u=MR.spaceConfig&&MR.spaceConfig.env,d=l+"/mr/photo-share-redirect.html";"dev"===u?d="http://local.massrel.io:9000/lib/static/photo-share-redirect.html":"preview"===u&&(d="//up.massrelevance.com/massrel-products/photo-upload/redirect.html");var c={encoded_id:null,stream_name:null,provider:null},p=function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null};return e.prototype.setToken=function(t){this.token=t},e.prototype.list=function(t,e){var n=i.Deferred(),a=r+this.config.encoded_id+"/streams/"+this.config.stream_name+"/list.json",o=[["token",this.token]];return t&&o.push(["type",t]),e&&o.push(["parent_entity_id",e]),s.helpers.request_factory(a,o,"_",this,function(t){n.resolve(t)},function(){n.reject()}),n.promise()},e.prototype.getTermsOfUse=function(){var t=i.Deferred(),e=o+this.config.encoded_id+"/terms_of_service.json";return s.helpers.request_factory(e,null,"_",this,function(e){t.resolve(e)},function(){t.reject()}),t.promise()},e.prototype.more=function(t,e,n){var a=i.Deferred(),o=r+this.config.encoded_id+"/streams/"+this.config.stream_name+"/list.json",l=[["token",this.token],["older_entities_cursor",t]];return e&&l.push(["type",e]),n&&l.push(["parent_entity_id",n]),s.helpers.request_factory(o,l,"_",this,function(t){a.resolve(t)},function(){a.reject()}),a.promise()},e.prototype.insert=function(t){var e=r+this.config.encoded_id+"/streams/"+this.config.stream_name+"/insert.json";return a(i.ajax({method:"POST",dataType:"json",contentType:"application/json",url:e,data:JSON.stringify({entity_id:t,token:this.token})}))},e.prototype.getAuth=function(){var t,e=i.Deferred(),n=window.open(r+this.config.encoded_id+"/streams/"+this.config.stream_name+"/auth/"+this.config.provider+"?redirect_token_key=user&redirect_url="+encodeURIComponent(d),"_blank","width=700,height=600,scrollbars=1"),a=function(){var t=p("mr_pauth_t");t?e.resolve({token:t}):e.reject()},s=function(){n&&n.closed&&(window.setTimeout(a,500),window.clearInterval(t))};return t=window.setInterval(s,500),e.promise()},e}),function(t){function e(t,e,i){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:i;default:throw new Error("Implement me")}}function i(t,e){return Te.call(t,e)}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(t){be.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function s(t,e){var i=!0;return p(function(){return i&&(a(t),i=!1),e.apply(this,arguments)},e)}function r(t,e){_i[t]||(a(e),_i[t]=!0)}function o(t,e){return function(i){return f(t.call(this,i),e)}}function l(t,e){return function(i){return this.localeData().ordinal(t.call(this,i),e)}}function u(){}function d(t,e){e!==!1&&D(t),h(this,t),this._d=new Date(+t._d)}function c(t){var e=q(t),i=e.year||0,n=e.quarter||0,a=e.month||0,s=e.week||0,r=e.day||0,o=e.hour||0,l=e.minute||0,u=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*u+6e4*l+36e5*o,this._days=+r+7*s,this._months=+a+3*n+12*i,this._data={},this._locale=be.localeData(),this._bubble()}function p(t,e){for(var n in e)i(e,n)&&(t[n]=e[n]);return i(e,"toString")&&(t.toString=e.toString),i(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e){var i,n,a;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),je.length>0)for(i in je)n=je[i],a=e[n],"undefined"!=typeof a&&(t[n]=a);return t}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function f(t,e,i){for(var n=""+Math.abs(t),a=t>=0;n.length<e;)n="0"+n;return(a?i?"+":"":"-")+n}function _(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function g(t,e){var i;return e=R(e,t),t.isBefore(e)?i=_(t,e):(i=_(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function v(t,e){return function(i,n){var a,s;return null===n||isNaN(+n)||(r(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,a=be.duration(i,n),b(this,a,t),this}}function b(t,e,i,n){var a=e._milliseconds,s=e._days,r=e._months;n=null==n?!0:n,a&&t._d.setTime(+t._d+a*i),s&&he(t,"Date",pe(t,"Date")+s*i),r&&ce(t,pe(t,"Month")+r*i),n&&be.updateOffset(t,s||r)}function y(t){return"[object Array]"===Object.prototype.toString.call(t)}function w(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function k(t,e,i){var n,a=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(n=0;a>n;n++)(i&&t[n]!==e[n]||!i&&S(t[n])!==S(e[n]))&&r++;return r+s}function x(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ui[t]||di[e]||e}return t}function q(t){var e,n,a={};for(n in t)i(t,n)&&(e=x(n),e&&(a[e]=t[n]));return a}function T(e){var i,n;if(0===e.indexOf("week"))i=7,n="day";else{if(0!==e.indexOf("month"))return;i=12,n="month"}be[e]=function(a,s){var r,o,l=be._locale[e],u=[];if("number"==typeof a&&(s=a,a=t),o=function(t){var e=be().utc().set(n,t);return l.call(be._locale,e,a||"")},null!=s)return o(s);for(r=0;i>r;r++)u.push(o(r));return u}}function S(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function C(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function M(t,e,i){return oe(be([t,11,31+e-i]),e,i).week}function P(t){return E(t)?366:365}function E(t){return 0===t%4&&0!==t%100||0===t%400}function D(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Ce]<0||t._a[Ce]>11?Ce:t._a[Me]<1||t._a[Me]>C(t._a[Se],t._a[Ce])?Me:t._a[Pe]<0||t._a[Pe]>24||24===t._a[Pe]&&(0!==t._a[Ee]||0!==t._a[De]||0!==t._a[Ie])?Pe:t._a[Ee]<0||t._a[Ee]>59?Ee:t._a[De]<0||t._a[De]>59?De:t._a[Ie]<0||t._a[Ie]>999?Ie:-1,t._pf._overflowDayOfYear&&(Se>e||e>Me)&&(e=Me),t._pf.overflow=e)}function I(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function A(t){return t?t.toLowerCase().replace("_","-"):t}function j(t){for(var e,i,n,a,s=0;s<t.length;){for(a=A(t[s]).split("-"),e=a.length,i=A(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=F(a.slice(0,e).join("-")))return n;if(i&&i.length>=e&&k(a,i,!0)>=e-1)break;e--}s++}return null}function F(t){var e=null;if(!Ae[t]&&Fe)try{e=be.locale(),require("./locale/"+t),be.locale(e)}catch(i){}return Ae[t]}function R(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(be.isMoment(t)||w(t)?+t:+be(t))-+i,i._d.setTime(+i._d+n),be.updateOffset(i,!1),i):be(t).local()}function U(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function L(t){var e,i,n=t.match(Oe);for(e=0,i=n.length;i>e;e++)n[e]=fi[n[e]]?fi[n[e]]:U(n[e]);return function(a){var s="";for(e=0;i>e;e++)s+=n[e]instanceof Function?n[e].call(a,t):n[e];return s}}function O(t,e){return t.isValid()?(e=z(e,t.localeData()),ci[e]||(ci[e]=L(e)),ci[e](t)):t.localeData().invalidDate()}function z(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(ze.lastIndex=0;n>=0&&ze.test(t);)t=t.replace(ze,i),ze.lastIndex=0,n-=1;return t}function $(t,e){var i,n=e._strict;switch(t){case"Q":return Ze;case"DDDD":return Qe;case"YYYY":case"GGGG":case"gggg":return n?ti:Be;case"Y":case"G":case"g":return ii;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?ei:Ve;case"S":if(n)return Ze;case"SS":if(n)return Je;case"SSS":if(n)return Qe;case"DDD":return Ne;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ye;case"a":case"A":return e._locale._meridiemParse;case"x":return Xe;case"X":return Ke;case"Z":case"ZZ":return We;case"T":return Ge;case"SSSS":return He;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Je:$e;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return $e;case"Do":return n?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return i=new RegExp(K(X(t.replace("\\","")),"i"))}}function N(t){t=t||"";var e=t.match(We)||[],i=e[e.length-1]||[],n=(i+"").match(oi)||["-",0,0],a=+(60*n[1])+S(n[2]);return"+"===n[0]?-a:a}function B(t,e,i){var n,a=i._a;switch(t){case"Q":null!=e&&(a[Ce]=3*(S(e)-1));break;case"M":case"MM":null!=e&&(a[Ce]=S(e)-1);break;case"MMM":case"MMMM":n=i._locale.monthsParse(e,t,i._strict),null!=n?a[Ce]=n:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(a[Me]=S(e));break;case"Do":null!=e&&(a[Me]=S(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(i._dayOfYear=S(e));break;case"YY":a[Se]=be.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":a[Se]=S(e);break;case"a":case"A":i._isPm=i._locale.isPM(e);break;case"h":case"hh":i._pf.bigHour=!0;case"H":case"HH":a[Pe]=S(e);break;case"m":case"mm":a[Ee]=S(e);break;case"s":case"ss":a[De]=S(e);break;case"S":case"SS":case"SSS":case"SSSS":a[Ie]=S(1e3*("0."+e));break;case"x":i._d=new Date(S(e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=N(e);break;case"dd":case"ddd":case"dddd":n=i._locale.weekdaysParse(e),null!=n?(i._w=i._w||{},i._w.d=n):i._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(i._w=i._w||{},i._w[t]=S(e));break;case"gg":case"GG":i._w=i._w||{},i._w[t]=be.parseTwoDigitYear(e)}}function V(t){var i,n,a,s,r,o,l;i=t._w,null!=i.GG||null!=i.W||null!=i.E?(r=1,o=4,n=e(i.GG,t._a[Se],oe(be(),1,4).year),a=e(i.W,1),s=e(i.E,1)):(r=t._locale._week.dow,o=t._locale._week.doy,n=e(i.gg,t._a[Se],oe(be(),r,o).year),a=e(i.w,1),null!=i.d?(s=i.d,r>s&&++a):s=null!=i.e?i.e+r:r),l=le(n,a,s,o,r),t._a[Se]=l.year,t._dayOfYear=l.dayOfYear}function H(t){var i,n,a,s,r=[];if(!t._d){for(a=W(t),t._w&&null==t._a[Me]&&null==t._a[Ce]&&V(t),t._dayOfYear&&(s=e(t._a[Se],a[Se]),t._dayOfYear>P(s)&&(t._pf._overflowDayOfYear=!0),n=ne(s,0,t._dayOfYear),t._a[Ce]=n.getUTCMonth(),t._a[Me]=n.getUTCDate()),i=0;3>i&&null==t._a[i];++i)t._a[i]=r[i]=a[i];for(;7>i;i++)t._a[i]=r[i]=null==t._a[i]?2===i?1:0:t._a[i];24===t._a[Pe]&&0===t._a[Ee]&&0===t._a[De]&&0===t._a[Ie]&&(t._nextDay=!0,t._a[Pe]=0),t._d=(t._useUTC?ne:ie).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm),t._nextDay&&(t._a[Pe]=24)}}function Y(t){var e;t._d||(e=q(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],H(t))}function W(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function G(e){if(e._f===be.ISO_8601)return J(e),void 0;e._a=[],e._pf.empty=!0;var i,n,a,s,r,o=""+e._i,l=o.length,u=0;for(a=z(e._f,e._locale).match(Oe)||[],i=0;i<a.length;i++)s=a[i],n=(o.match($(s,e))||[])[0],n&&(r=o.substr(0,o.indexOf(n)),r.length>0&&e._pf.unusedInput.push(r),o=o.slice(o.indexOf(n)+n.length),u+=n.length),fi[s]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(s),B(s,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=l-u,o.length>0&&e._pf.unusedInput.push(o),e._pf.bigHour===!0&&e._a[Pe]<=12&&(e._pf.bigHour=t),e._isPm&&e._a[Pe]<12&&(e._a[Pe]+=12),e._isPm===!1&&12===e._a[Pe]&&(e._a[Pe]=0),H(e),D(e)}function X(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,a){return e||i||n||a})}function K(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(t){var e,i,a,s,r;if(0===t._f.length)return t._pf.invalidFormat=!0,t._d=new Date(0/0),void 0;for(s=0;s<t._f.length;s++)r=0,e=h({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=n(),e._f=t._f[s],G(e),I(e)&&(r+=e._pf.charsLeftOver,r+=10*e._pf.unusedTokens.length,e._pf.score=r,(null==a||a>r)&&(a=r,i=e));p(t,i||e)}function J(t){var e,i,n=t._i,a=ni.exec(n);if(a){for(t._pf.iso=!0,e=0,i=si.length;i>e;e++)if(si[e][1].exec(n)){t._f=si[e][0]+(a[6]||" ");break}for(e=0,i=ri.length;i>e;e++)if(ri[e][1].exec(n)){t._f+=ri[e][0];break}n.match(We)&&(t._f+="Z"),G(t)}else t._isValid=!1}function Q(t){J(t),t._isValid===!1&&(delete t._isValid,be.createFromInputFallback(t))}function te(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function ee(e){var i,n=e._i;n===t?e._d=new Date:w(n)?e._d=new Date(+n):null!==(i=Re.exec(n))?e._d=new Date(+i[1]):"string"==typeof n?Q(e):y(n)?(e._a=te(n.slice(0),function(t){return parseInt(t,10)}),H(e)):"object"==typeof n?Y(e):"number"==typeof n?e._d=new Date(n):be.createFromInputFallback(e)}function ie(t,e,i,n,a,s,r){var o=new Date(t,e,i,n,a,s,r);return 1970>t&&o.setFullYear(t),o}function ne(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function ae(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function se(t,e,i,n,a){return a.relativeTime(e||1,!!i,t,n)}function re(t,e,i){var n=be.duration(t).abs(),a=qe(n.as("s")),s=qe(n.as("m")),r=qe(n.as("h")),o=qe(n.as("d")),l=qe(n.as("M")),u=qe(n.as("y")),d=a<pi.s&&["s",a]||1===s&&["m"]||s<pi.m&&["mm",s]||1===r&&["h"]||r<pi.h&&["hh",r]||1===o&&["d"]||o<pi.d&&["dd",o]||1===l&&["M"]||l<pi.M&&["MM",l]||1===u&&["y"]||["yy",u];return d[2]=e,d[3]=+t>0,d[4]=i,se.apply({},d)}function oe(t,e,i){var n,a=i-e,s=i-t.day();return s>a&&(s-=7),a-7>s&&(s+=7),n=be(t).add(s,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function le(t,e,i,n,a){var s,r,o=ne(t,0,1).getUTCDay();return o=0===o?7:o,i=null!=i?i:a,s=a-o+(o>n?7:0)-(a>o?7:0),r=7*(e-1)+(i-a)+s+1,{year:r>0?t:t-1,dayOfYear:r>0?r:P(t-1)+r}}function ue(e){var i,n=e._i,a=e._f;return e._locale=e._locale||be.localeData(e._l),null===n||a===t&&""===n?be.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),be.isMoment(n)?new d(n,!0):(a?y(a)?Z(e):G(e):ee(e),i=new d(e),i._nextDay&&(i.add(1,"d"),i._nextDay=t),i))}function de(t,e){var i,n;if(1===e.length&&y(e[0])&&(e=e[0]),!e.length)return be();for(i=e[0],n=1;n<e.length;++n)e[n][t](i)&&(i=e[n]);return i}function ce(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),C(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function pe(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function he(t,e,i){return"Month"===e?ce(t,i):t._d["set"+(t._isUTC?"UTC":"")+e](i)}function me(t,e){return function(i){return null!=i?(he(this,t,i),be.updateOffset(this,e),this):pe(this,t)}}function fe(t){return 400*t/146097}function _e(t){return 146097*t/400}function ge(t){be.duration.fn[t]=function(){return this._data[t]}}function ve(t){"undefined"==typeof ender&&(ye=xe.moment,xe.moment=t?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",be):be)}for(var be,ye,we,ke="2.8.4",xe="undefined"!=typeof global?global:this,qe=Math.round,Te=Object.prototype.hasOwnProperty,Se=0,Ce=1,Me=2,Pe=3,Ee=4,De=5,Ie=6,Ae={},je=[],Fe="undefined"!=typeof module&&module&&module.exports,Re=/^\/?Date\((\-?\d+)/i,Ue=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Le=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Oe=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,ze=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$e=/\d\d?/,Ne=/\d{1,3}/,Be=/\d{1,4}/,Ve=/[+\-]?\d{1,6}/,He=/\d+/,Ye=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,We=/Z|[\+\-]\d\d:?\d\d/gi,Ge=/T/i,Xe=/[\+\-]?\d+/,Ke=/[\+\-]?\d+(\.\d{1,3})?/,Ze=/\d/,Je=/\d\d/,Qe=/\d{3}/,ti=/\d{4}/,ei=/[+-]?\d{6}/,ii=/[+-]?\d+/,ni=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ai="YYYY-MM-DDTHH:mm:ssZ",si=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ri=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],oi=/([\+\-]|\d\d)/gi,li=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ui={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},di={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ci={},pi={s:45,m:45,h:22,d:26,M:11},hi="DDD w W M D d".split(" "),mi="M D H h m s w W".split(" "),fi={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},YYYYY:function(){return f(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+f(Math.abs(t),6)},gg:function(){return f(this.weekYear()%100,2)},gggg:function(){return f(this.weekYear(),4)},ggggg:function(){return f(this.weekYear(),5)},GG:function(){return f(this.isoWeekYear()%100,2)},GGGG:function(){return f(this.isoWeekYear(),4)},GGGGG:function(){return f(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return f(S(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},SSSS:function(){return f(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+f(S(t/60),2)+":"+f(S(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+f(S(t/60),2)+f(S(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},_i={},gi=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];hi.length;)we=hi.pop(),fi[we+"o"]=l(fi[we],we);for(;mi.length;)we=mi.pop(),fi[we+we]=o(fi[we],2);fi.DDDD=o(fi.DDD,3),p(u.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,i){var n,a,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(a=be.utc([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=be([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.apply(e,[i]):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var a=this._relativeTime[i];return"function"==typeof a?a(t,e,i,n):a.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return oe(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),be=function(e,i,a,s){var r;return"boolean"==typeof a&&(s=a,a=t),r={},r._isAMomentObject=!0,r._i=e,r._f=i,r._l=a,r._strict=s,r._isUTC=!1,r._pf=n(),ue(r)},be.suppressDeprecationWarnings=!1,be.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),be.min=function(){var t=[].slice.call(arguments,0);return de("isBefore",t)},be.max=function(){var t=[].slice.call(arguments,0);return de("isAfter",t)},be.utc=function(e,i,a,s){var r;return"boolean"==typeof a&&(s=a,a=t),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=a,r._i=e,r._f=i,r._strict=s,r._pf=n(),ue(r).utc()},be.unix=function(t){return be(1e3*t)},be.duration=function(t,e){var n,a,s,r,o=t,l=null;return be.isDuration(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(l=Ue.exec(t))?(n="-"===l[1]?-1:1,o={y:0,d:S(l[Me])*n,h:S(l[Pe])*n,m:S(l[Ee])*n,s:S(l[De])*n,ms:S(l[Ie])*n}):(l=Le.exec(t))?(n="-"===l[1]?-1:1,s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},o={y:s(l[2]),M:s(l[3]),d:s(l[4]),h:s(l[5]),m:s(l[6]),s:s(l[7]),w:s(l[8])}):"object"==typeof o&&("from"in o||"to"in o)&&(r=g(be(o.from),be(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),a=new c(o),be.isDuration(t)&&i(t,"_locale")&&(a._locale=t._locale),a},be.version=ke,be.defaultFormat=ai,be.ISO_8601=function(){},be.momentProperties=je,be.updateOffset=function(){},be.relativeTimeThreshold=function(e,i){return pi[e]===t?!1:i===t?pi[e]:(pi[e]=i,!0)},be.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return be.locale(t,e)}),be.locale=function(t,e){var i;return t&&(i="undefined"!=typeof e?be.defineLocale(t,e):be.localeData(t),i&&(be.duration._locale=be._locale=i)),be._locale._abbr},be.defineLocale=function(t,e){return null!==e?(e.abbr=t,Ae[t]||(Ae[t]=new u),Ae[t].set(e),be.locale(t),Ae[t]):(delete Ae[t],null)},be.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(t){return be.localeData(t)}),be.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return be._locale;if(!y(t)){if(e=F(t))return e;t=[t]}return j(t)},be.isMoment=function(t){return t instanceof d||null!=t&&i(t,"_isAMomentObject")},be.isDuration=function(t){return t instanceof c};for(we=gi.length-1;we>=0;--we)T(gi[we]);be.normalizeUnits=function(t){return x(t)},be.invalid=function(t){var e=be.utc(0/0);return null!=t?p(e._pf,t):e._pf.userInvalidated=!0,e},be.parseZone=function(){return be.apply(null,arguments).parseZone()},be.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)},p(be.fn=d.prototype,{clone:function(){return be(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=be(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():O(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&k(this._a,(this._isUTC?be.utc(this._a):be(this._a)).toArray())>0:!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=O(this,t||be.defaultFormat);return this.localeData().postformat(e)},add:v(1,"add"),subtract:v(-1,"subtract"),diff:function(t,e,i){var n,a,s,r=R(t,this),o=6e4*(this.zone()-r.zone());return e=x(e),"year"===e||"month"===e?(n=432e5*(this.daysInMonth()+r.daysInMonth()),a=12*(this.year()-r.year())+(this.month()-r.month()),s=this-be(this).startOf("month")-(r-be(r).startOf("month")),s-=6e4*(this.zone()-be(this).startOf("month").zone()-(r.zone()-be(r).startOf("month").zone())),a+=s/n,"year"===e&&(a/=12)):(n=this-r,a="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-o)/864e5:"week"===e?(n-o)/6048e5:n),i?a:m(a)},from:function(t,e){return be.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(be(),t)},calendar:function(t){var e=t||be(),i=R(e,this).startOf("day"),n=this.diff(i,"days",!0),a=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,be(e)))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ae(t,this.localeData()),this.add(t-e,"d")):e},month:me("Month",!0),startOf:function(t){switch(t=x(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=x(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var i;return e=x("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=be.isMoment(t)?t:be(t),+this>+t):(i=be.isMoment(t)?+t:+be(t),i<+this.clone().startOf(e))},isBefore:function(t,e){var i;return e=x("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=be.isMoment(t)?t:be(t),+t>+this):(i=be.isMoment(t)?+t:+be(t),+this.clone().endOf(e)<i)},isSame:function(t,e){var i;return e=x(e||"millisecond"),"millisecond"===e?(t=be.isMoment(t)?t:be(t),+this===+t):(i=+be(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=be.apply(null,arguments),this>t?this:t}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=be.apply(null,arguments),t>this?this:t}),zone:function(t,e){var i,n=this._offset||0;return null==t?this._isUTC?n:this._dateTzOffset():("string"==typeof t&&(t=N(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=i&&this.subtract(i,"m"),n!==t&&(!e||this._changeInProgress?b(this,be.duration(n-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,be.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?be(t).zone():0,0===(this.zone()-t)%60},daysInMonth:function(){return C(this.year(),this.month())},dayOfYear:function(t){var e=qe((be(this).startOf("day")-be(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=oe(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=oe(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=oe(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")
},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return M(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return M(this.year(),t.dow,t.doy)},get:function(t){return t=x(t),this[t]()},set:function(t,e){return t=x(t),"function"==typeof this[t]&&this[t](e),this},locale:function(e){var i;return e===t?this._locale._abbr:(i=be.localeData(e),null!=i&&(this._locale=i),this)},lang:s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),be.fn.millisecond=be.fn.milliseconds=me("Milliseconds",!1),be.fn.second=be.fn.seconds=me("Seconds",!1),be.fn.minute=be.fn.minutes=me("Minutes",!1),be.fn.hour=be.fn.hours=me("Hours",!0),be.fn.date=me("Date",!0),be.fn.dates=s("dates accessor is deprecated. Use date instead.",me("Date",!0)),be.fn.year=me("FullYear",!0),be.fn.years=s("years accessor is deprecated. Use year instead.",me("FullYear",!0)),be.fn.days=be.fn.day,be.fn.months=be.fn.month,be.fn.weeks=be.fn.week,be.fn.isoWeeks=be.fn.isoWeek,be.fn.quarters=be.fn.quarter,be.fn.toJSON=be.fn.toISOString,p(be.duration.fn=c.prototype,{_bubble:function(){var t,e,i,n=this._milliseconds,a=this._days,s=this._months,r=this._data,o=0;r.milliseconds=n%1e3,t=m(n/1e3),r.seconds=t%60,e=m(t/60),r.minutes=e%60,i=m(e/60),r.hours=i%24,a+=m(i/24),o=m(fe(a)),a-=m(_e(o)),s+=m(a/30),a%=30,o+=m(s/12),s%=12,r.days=a,r.months=s,r.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return m(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*S(this._months/12)},humanize:function(t){var e=re(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var i=be.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=be.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=x(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,i;if(t=x(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,i=this._months+12*fe(e),"month"===t?i:i/12;switch(e=this._days+Math.round(_e(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 60*24*e+this._milliseconds/6e4;case"second":return 60*60*24*e+this._milliseconds/1e3;case"millisecond":return Math.floor(1e3*60*60*24*e)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:be.fn.lang,locale:be.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),a=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||a||s?"T":"")+(n?n+"H":"")+(a?a+"M":"")+(s?s+"S":""):"P0D"},localeData:function(){return this._locale}}),be.duration.fn.toString=be.duration.fn.toISOString;for(we in li)i(li,we)&&ge(we.toLowerCase());be.duration.fn.asMilliseconds=function(){return this.as("ms")},be.duration.fn.asSeconds=function(){return this.as("s")},be.duration.fn.asMinutes=function(){return this.as("m")},be.duration.fn.asHours=function(){return this.as("h")},be.duration.fn.asDays=function(){return this.as("d")},be.duration.fn.asWeeks=function(){return this.as("weeks")},be.duration.fn.asMonths=function(){return this.as("M")},be.duration.fn.asYears=function(){return this.as("y")},be.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),Fe?module.exports=be:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(t,e,i){return i.config&&i.config()&&i.config().noGlobal===!0&&(xe.moment=ye),be}),ve(!0)):ve()}.call(this),define("components/photo-share-button-6/js/views/InstagramView",["require","lib/views/BaseView","tmpl!photo-share-instagram-6","tmpl!photo-share-native-status-6","lib/sourcedEntities","moment","q","lodash","jquery"],function(t){var e=t("lib/views/BaseView"),i=t("tmpl!photo-share-instagram-6"),n=t("tmpl!photo-share-native-status-6"),a=t("lib/sourcedEntities"),s=t("moment"),r=t("q"),o=t("lodash"),l=t("jquery");return e.extend({tagName:"div",className:"instagram-device",template:i,initialize:function(t){var e=this;return this.model=t.model,this.model.get("statuses").each(function(t){t.set("selected",!1)}),this.sourcedEntitiesApi=new a({provider:"instagram_oauth",encoded_id:MR.templateConfig.settings.visualization_encoded_id,stream_name:this.model.get("stream_name")}),this.sourcedEntitiesApi.getAuth().then(function(t){t.token&&(e.sourcedEntitiesApi.setToken(t.token),e.getInitialStatuses())}),this.sourcedEntitiesApi.getTermsOfUse().then(function(t){t.terms_of_service&&(e.model.set("terms_text",t.terms_of_service.tos_text),e.updateTermsText())}),this.dispatcher=t.dispatcher,this},handlers:{back:function(){this.$el.hasClass("confirm")?(this.dispatcher.trigger("update-breadcrumb",{breadcrumb:"select"}),this.$el.removeClass("confirm").addClass("preview-mode")):this.dispatcher.trigger("show-start",this),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"back"})},next:function(){this.$el.find(".next-button").hasClass("inactive")||(this.dispatcher.trigger("update-breadcrumb",{breadcrumb:"confirm"}),this.$el.addClass("confirm").removeClass("preview-mode"),this.updateStatusPreviews(),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"next"}))},"add-photos":function(){this.$el.find(".terms-of-service .checkbox").hasClass("checked")&&this.uploadSelectedImages(),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"add-photos"})},"select-image":function(t){var e=l(t.currentTarget).closest(".image-preview");e.toggleClass("selected");var i=e.attr("data-status-id"),n=this.model.get("statuses").find({id:i});n.set("selected",!n.get("selected")),this.updateSelectedCount(),this.analytics().trackEvent({category:"viz:upload",action:"select",label:"facebookimage"})},"remove-image":function(t){var e=l(t.currentTarget).closest(".native-status"),i=e.attr("data-status-id"),n=this.model.get("statuses").find({id:i});n.set("selected",!1),this.$el.find('.image-preview[data-status-id="'+i+'"]').removeClass("selected"),e.remove(),this.updateSelectedCount(),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"removeimage"})},"show-terms":function(){this.$el.toggleClass("show-terms"),this.$el.hasClass("show-terms")?this.$el.find(".terms-link").text("HIDE TERMS"):this.$el.find(".terms-link").text("READ TERMS"),this.analytics().trackEvent({category:"viz:upload",action:"toggle",label:"terms"})},agree:function(){this.$el.find(".terms-of-service .checkbox").toggleClass("checked"),this.$el.find(".add-photos-button").toggleClass("inactive"),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"agree"})}},render:function(){return e.prototype.render.apply(this,arguments),this.$el.find(".image-previews").on("scroll",o.bind(this.scrollHandler,this)),this},handleBatch:function(t){this.model.set("older_cursor",t.data.meta.older_entities_cursor),this.model.set("is_more",t.data.meta.more),this.model.get("statuses").add(t.data.data),this.updateImagePreviews()},getInitialStatuses:function(){this.sourcedEntitiesApi.list().then(o.bind(this.handleBatch,this))},uploadSelectedImages:function(){var t=this,e=this.model.get("statuses").filter(function(t){return t.get("selected")}),i=[];o.each(e,function(e){i.push(t.sourcedEntitiesApi.insert(e.get("id")))}),r.all(i).then(function(){t.dispatcher.trigger("show-success",this)})},getMoreStatuses:function(){this.model.get("is_more")&&this.sourcedEntitiesApi.more(this.model.get("older_cursor")).then(o.bind(this.handleBatch,this))},scrollHandler:function(t){var e=l(t.currentTarget);e[0].scrollHeight-e.scrollTop()===e.outerHeight()&&this.getMoreStatuses()},updateSelectedCount:function(){var t=this.model.get("statuses").filter(function(t){return t.get("selected")}).length;this.$el.find(".next-button").removeClass("inactive"),this.$el.addClass("preview-mode"),1===t?this.$el.find(".selected-label").text(t+" photo selected"):t>0?this.$el.find(".selected-label").text(t+" photos selected"):(this.$el.removeClass("preview-mode"),this.$el.find(".next-button").addClass("inactive"),this.$el.find(".selected-label").text(""))},updateTermsText:function(){this.$el.find(".terms-text").text(this.model.get("terms_text"))},updateStatusPreviews:function(){var t=this.model.get("statuses").filter(function(t){return t.get("selected")}),e=this.$el.find(".status-previews");e.empty(),o.each(t,function(t){var i=l(n({id:t.get("id"),image:t.get("images").low_resolution.url,avatar:t.get("user").profile_picture,username:t.get("user").username,network:"instagram",text:t.get("caption")?t.get("caption").text:"",formattedDate:s.unix(t.get("created_time")).format("MM/DD/YYYY")}));e.append(i)})},updateImagePreviews:function(){var t=this.$el.find(".image-previews");t.empty(),this.model.get("statuses").each(function(e){var i=l('<div class="image-preview mr-action-click" data-action="select-image" data-status-id="'+e.get("id")+'"><img src="'+e.get("images").low_resolution.url+'"></div>');i.append('<div class="check-box mr-action-click" data-action="select-image"><i class="icon-vote-check"></i></div>'),t.append(i)})}})}),define("components/photo-share-button-6/js/models/InstagramModel",["require","backbone-amd"],function(t){var e=t("backbone-amd");return e.Model.extend({defaults:{imagePreviews:new e.Collection,statuses:new e.Collection,errors:new e.Collection,type:"instagram"}})}),define("tmpl!photo-share-facebook-6",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="";with(_.escape,obj)__p+='<div class="photo-chooser">\n  <i class="icon-facebook-logo"/>\n  <h3 class="album-chooser-header">Which album do you want to browse?</h3>\n  <h3 class="chooser-header">Which photos do you want to add?</h3>\n  <h3 class="confirm-header">Add these photos?</h3>\n</div>\n\n<div class="error">\nWe weren\'t able to return any results from your Facebook account. Please check your albums on Facebook and try again.\n</div>\n<div class="album-list">\n</div>\n\n<div class="album-selector">\n  <span class="album-dropdown-label">ALBUM:</span> <div class="current-album mr-action-click" data-action="toggle-album-dropdown">\n    <div class="selected-album-label"></div>\n    <i class="icon-arrow-down"></i>\n    <div class="dropdown">\n    </div>\n  </div>\n</div>\n\n<div class="image-previews">\n</div>\n<div class="status-previews">\n</div>\n\n<div class="terms-of-service">\n  <div class="terms-section">\n    <h3>Terms Of Service</h3>\n    <div class="terms-text">'+(null==(__t=terms_text)?"":__t)+'</div>\n  </div>\n  <div class="checkbox mr-action-click" data-action="agree">\n    <i class="icon-vote-check"></i>\n  </div><span class="checkbox-label">I agree to the Terms of Service</span><span class="terms-link mr-action-click" data-action="toggle-terms">READ TERMS</span>\n\n</div>\n\n<div class="select-footer">\n  <div class="back-button mr-action-click" data-action="back">&lt; BACK</div>\n  <div class="selected-label"></div>\n  <div class="next-button button inactive mr-action-click" data-action="next">NEXT</div>\n  <div class="add-photos-button button mr-action-click inactive" data-action="add-photos">ADD PHOTOS</div>\n</div>';return __p},metadata:{},name:"photo-share-facebook-6"})}),define("components/photo-share-button-6/js/views/FacebookView",["require","lib/views/BaseView","tmpl!photo-share-facebook-6","tmpl!photo-share-native-status-6","lib/sourcedEntities","moment","q","lodash","jquery"],function(t){var e=t("lib/views/BaseView"),i=t("tmpl!photo-share-facebook-6"),n=t("tmpl!photo-share-native-status-6"),a=t("lib/sourcedEntities"),s=t("moment"),r=t("q"),o=t("lodash"),l=t("jquery");return e.extend({tagName:"div",className:"facebook-device browse-albums",template:i,initialize:function(t){var e=this;return this.model=t.model,this.model.get("statuses").each(function(t){t.set("selected",!1)}),this.model.get("selectedStatuses").reset(),this.sourcedEntitiesApi=new a({provider:"facebook_oauth",encoded_id:MR.templateConfig.settings.visualization_encoded_id,stream_name:this.model.get("stream_name")}),this.sourcedEntitiesApi.getAuth().then(function(t){t.token&&(e.sourcedEntitiesApi.setToken(t.token),e.getInitialAlbums())}),this.sourcedEntitiesApi.getTermsOfUse().then(function(t){t.terms_of_service&&(e.model.set("terms_text",t.terms_of_service.tos_text),e.updateTermsText())}),this.dispatcher=t.dispatcher,this},handlers:{back:function(){this.$el.hasClass("confirm")?(this.dispatcher.trigger("update-breadcrumb",{breadcrumb:"select"}),this.$el.removeClass("confirm").addClass("preview-mode")):this.$el.hasClass("browse-albums")?this.dispatcher.trigger("show-start",this):(this.dispatcher.trigger("update-breadcrumb",{breadcrumb:"select"}),this.$el.removeClass("preview-mode").addClass("browse-albums")),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"back"})},next:function(){this.$el.find(".next-button").hasClass("inactive")||(this.dispatcher.trigger("update-breadcrumb",{breadcrumb:"confirm"}),this.$el.addClass("confirm").removeClass("preview-mode"),this.updateStatusPreviews(),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"next"}))},"add-photos":function(){this.$el.find(".terms-of-service .checkbox").hasClass("checked")&&this.uploadSelectedImages(),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"add-photos"})},"toggle-album-dropdown":function(){this.$el.find(".album-selector").toggleClass("open")},"select-album":function(t){var e=l(t.currentTarget);this.$el.find(".album-selector .selected-album-label").text(e.text()),this.$el.find(".album-selector").removeClass("open");var i=e.attr("data-album-id");this.model.set("albumId",i),this.getPhotosForCurrentAlbum(),this.$el.removeClass("browse-albums"),this.analytics().trackEvent({category:"viz:upload",action:"select",label:"facebookalbum"})},"select-image":function(t){var e=l(t.currentTarget).closest(".image-preview");e.toggleClass("selected");var i=e.attr("data-status-id"),n=this.model.get("statuses").find({id:i});n.get("selected")?this.model.get("selectedStatuses").remove(n):this.model.get("selectedStatuses").add(n),n.set("selected",!n.get("selected")),this.updateSelectedCount(),this.analytics().trackEvent({category:"viz:upload",action:"select",label:"facebookimage"})},"remove-image":function(t){var e=l(t.currentTarget).closest(".native-status"),i=e.attr("data-status-id");this.model.get("selectedStatuses").remove(i),e.remove(),this.updateSelectedCount(),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"removeimage"})},"toggle-terms":function(){this.$el.toggleClass("show-terms"),this.$el.hasClass("show-terms")?this.$el.find(".terms-link").text("HIDE TERMS"):this.$el.find(".terms-link").text("READ TERMS"),this.analytics().trackEvent({category:"viz:upload",action:"toggle",label:"terms"})},agree:function(){this.$el.find(".terms-of-service .checkbox").toggleClass("checked"),this.$el.find(".add-photos-button").toggleClass("inactive"),this.analytics().trackEvent({category:"viz:upload",action:"click",label:"agree"})}},render:function(){return e.prototype.render.apply(this,arguments),this.$el.find(".image-previews").on("scroll",o.bind(this.scrollHandler,this)),this},handleAlbums:function(t){"success"===t.data.status?(this.$el.find("error").hide(),this.model.set("album_meta",t.data.meta),this.model.get("albums").add(t.data.data),this.updateAlbumList()):this.$el.find("error").show()},handleBatch:function(t){this.model.set("older_cursor",t.data.meta.older_entities_cursor),this.model.set("is_more",t.data.meta.more);var e=this.model.get("selectedStatuses");o.each(t.data.data,function(t){e.find({id:t.id})&&(t.selected=!0)}),this.model.get("statuses").add(t.data.data),this.updateImagePreviews()},getInitialAlbums:function(){this.sourcedEntitiesApi.list("albums").then(o.bind(this.handleAlbums,this))},getPhotosForCurrentAlbum:function(){this.model.get("statuses").reset(),this.sourcedEntitiesApi.list("photos",this.model.get("albumId")).then(o.bind(this.handleBatch,this))},uploadSelectedImages:function(){var t=this,e=this.model.get("selectedStatuses"),i=[];e.each(function(e){i.push(t.sourcedEntitiesApi.insert(e.get("id")))}),r.all(i).then(function(){t.dispatcher.trigger("show-success",this)})},getMoreStatuses:function(){this.model.get("is_more")&&this.sourcedEntitiesApi.more(this.model.get("older_cursor"),"photos",this.model.get("albumId")).then(o.bind(this.handleBatch,this))},scrollHandler:function(t){var e=l(t.currentTarget);e[0].scrollHeight-e.scrollTop()===e.outerHeight()&&this.getMoreStatuses()},updateTermsText:function(){this.$el.find(".terms-text").text(this.model.get("terms_text"))},updateSelectedCount:function(){var t=this.model.get("selectedStatuses").length;this.$el.find(".next-button").removeClass("inactive"),this.$el.addClass("preview-mode"),1===t?this.$el.find(".selected-label").text(t+" photo selected"):t>0?this.$el.find(".selected-label").text(t+" photos selected"):(this.$el.removeClass("preview-mode"),this.$el.find(".next-button").addClass("inactive"),this.$el.find(".selected-label").text(""))},updateAlbumList:function(){var t=this.$el.find(".album-list"),e=this.$el.find(".album-selector .dropdown");t.empty(),this.model.get("albums").each(function(i){var n=l('<div class="album mr-action-click" data-action="select-album"></div>');n.text(i.get("name")),n.attr("data-album-id",i.get("id")),e.append(n.clone()),t.append(n)})},updateStatusPreviews:function(){var t=this.model.get("selectedStatuses"),e=this.$el.find(".status-previews");e.empty(),t.each(function(t){var i=l(n({id:t.get("id"),image:t.get("images")[0].source,avatar:"https://api.massrelevance.com/avatar/facebook?width=200&height=200&user_id="+t.get("from").id,username:t.get("from").name,text:t.get("name")||"",network:"facebook",formattedDate:s(t.get("created_time")).format("MM/DD/YYYY")}));e.append(i)})},updateImagePreviews:function(){var t=this.$el.find(".image-previews");t.empty(),this.model.get("statuses").each(function(e){var i=l('<div class="image-preview mr-action-click" data-status-id="'+e.get("id")+'" data-action="select-image"><img src="'+e.get("images")[0].source+'"></div>');i.append('<div class="check-box mr-action-click" data-action="select-image"><i class="icon-vote-check"></i></div>'),e.get("selected")&&i.addClass("selected"),t.append(i)})}})}),define("components/photo-share-button-6/js/models/FacebookModel",["require","backbone-amd"],function(t){var e=t("backbone-amd");return e.Model.extend({defaults:{selectedStatuses:new e.Collection,albums:new e.Collection,statuses:new e.Collection,type:"facebook"}})}),define("components/photo-share-button-6/js/views/PhotoShareDialogView",["require","jquery","lodash","lib/views/BaseView","tmpl!photo-share-dialog-6","./PhotoSourceOptionView","./MyDeviceView","../models/MyDeviceModel","./InstagramView","../models/InstagramModel","./FacebookView","../models/FacebookModel"],function(t){var e=t("jquery"),i=t("lodash"),n=t("lib/views/BaseView"),a=t("tmpl!photo-share-dialog-6"),s=t("./PhotoSourceOptionView"),r=t("./MyDeviceView"),o=t("../models/MyDeviceModel"),l=t("./InstagramView"),u=t("../models/InstagramModel"),d=t("./FacebookView"),c=t("../models/FacebookModel"),p={my_device:r,instagram:l,facebook:d},h={my_device:o,instagram:u,facebook:c},m=n.extend({template:a,subviews:{"source-option":s},className:function(){var t=["photo-share-modal-content","step-"+this.model.get("step")];return t.join(" ")},events:{"click .close-button":"close","click .share-action":"share","click .change-image":"changeImage","click input[type=file]":"changeImageIE","change .message-area":"changeMessage","keyup .message-area":"changeMessage","cut .message-area":"changeMessage","paste .message-area":"pasteMessage","click .error":"hideError"},initialize:function(t){n.prototype.initialize.call(this,t),this.listenTo(this.model,"change:step",this.changeStep),this.listenTo(this.model,"change:imagePreviewUrl",this.showPreview),this.listenTo(this.model,"change:twitter_message",this.updateTweetCharacterCount),this.listenTo(this.dispatcher().scopedToId,{"source-selected":i.bind(this.handleSelectedSource,this),"show-start":i.bind(this.showStart,this),"update-breadcrumb":i.bind(this.updateBreadcrumb,this),"show-success":i.bind(this.showSuccess,this),close:i.bind(this.close,this)})},showSuccess:function(){this.$el.find(".tab.active").removeClass("active"),this.$el.find(".tab.success").addClass("active")},handleSelectedSource:function(t){var e=t.payload.model,i=e.title.toLowerCase().replace(" ","_"),n=p[i],a=h[i],s=new n({parent:this,model:new a(this.model.attributes),dispatcher:this.dispatcher()});this.$el.find(".tab.select-images").empty().append(s.render().$el),this.$el.find(".tab.active").removeClass("active"),this.$el.find(".tab.select-images").addClass("active"),this.updateBreadcrumb({payload:{breadcrumb:"select"}}),this.analytics().trackEvent({category:"viz:upload",action:"select",label:i})},showStart:function(){var t=this.$el.find(".tab.active").prev();this.$el.find(".tab.active").removeClass("active"),t.addClass("active"),this.updateBreadcrumb({payload:{breadcrumb:"start"}})},updateBreadcrumb:function(t){"confirm"===t.payload.breadcrumb?(this.$el.find("li").removeClass("active"),this.$el.find("li").eq(2).addClass("active")):"select"===t.payload.breadcrumb?(this.$el.find("li").removeClass("active"),this.$el.find("li").eq(1).addClass("active")):(this.$el.find("li").removeClass("active"),this.$el.find("li").eq(0).addClass("active"))},close:function(){this.options.parent.model.hide()},changeMessage:function(t){var i=e(t.target),n=i.data("network");this.model.set(n+"_message",i.val())},pasteMessage:function(t){var e=this;setTimeout(function(){e.changeMessage(t)},0)},changeStep:function(t,e){var i=this;i.$el.removeClass("step-"+i.model.previous("step")).addClass("step-"+e),"share"===e&&i.$el.find(".image-preview-wrapper").addClass("loading")},showError:function(t){var i,n=this,a=t.get("message");a&&(i=e('<p class="error"><span class="dismiss-error"></span>'+a+"</p>"),n.$el.find(".errors").append(i),i.fadeIn())},hideError:function(t){t.preventDefault();var i=e(t.target);i.fadeOut({complete:function(){i.remove()}})}});return m}),define("components/action-bar-2/views/ButtonView",["require","jquery","lodash","lib/views/BaseView","tmpl!action-bar-button","lib/facebookApi","components/photo-share-button-6/js/models/PhotoShareDialogModel","components/photo-share-button-6/js/views/PhotoShareDialogView","components/modal-2/views/ModalView","components/modal-2/models/ModalModel"],function(t){var e=t("jquery"),i=t("lodash"),n=t("lib/views/BaseView"),a=t("tmpl!action-bar-button"),s=t("lib/facebookApi"),r=t("components/photo-share-button-6/js/models/PhotoShareDialogModel"),o=t("components/photo-share-button-6/js/views/PhotoShareDialogView"),l=t("components/modal-2/views/ModalView"),u=t("components/modal-2/models/ModalModel");return n.extend({tagName:function(){return this.model.get("link")?"a":"div"},template:a,handlers:{"fb-post":function(){this.fbPost()},"share-photo":function(){this.sharePhoto()}},className:function(){var t=["action-bar-link","type-"+this.model.get("type"),"size-"+this.model.get("size")];return this.model.get("classes")&&t.push(this.model.get("classes")),this.model.get("handler")&&t.push("mr-action-click"),t.join(" ")},attributes:function(){var t={href:this.model.get("link"),tabindex:0};return this.model.get("handler")&&(t["data-action"]=this.model.get("handler")),t},render:function(){return n.prototype.render.apply(this,arguments),this.$el.on("click",i.bind(this.onClick,this)),this},onClick:function(){this.model.get("link")&&"fb_like"===this.model.get("type")&&this.analytics().trackEvent({category:"fbintent",action:"profilelink",label:this.model.get("value")}),this.model.get("link")&&"insta_follow"===this.model.get("type")&&this.analytics().trackEvent({category:"instaintent",action:"profilelink",label:this.model.get("value")})},fbPost:function(){s.init();var t=i.pick(this.model.get("data"),["link","feed","name","picture","caption","description"]);s.getClient().shareDialog({method:"share",href:t.link,quote:t.caption})},sharePhoto:function(){var t=this,i=new r(this.model.get("data"));MR.modal.open({data:{View:o,model:i,type:"photo-share",options:{closeButtonAdaText:"Close Photo Upload Window",styleComponentId:t.componentId(),additionalClasses:"action-bar-photo-upload-modal photo-share-modal"}},fallback:function(){var n=new u({config:{open:!0,model:i,View:o}}),a=new l({additionalClasses:["photo-share-modal"],componentId:t.componentId(),componentType:t.componentType(),dispatcher:t.dispatcher(),model:n,analytics:t.analytics()});n.set("closeButtonAdaText","Close Photo Upload Window"),n.set("additionalClasses","action-bar-photo-upload-modal"),n.set("styleComponentId",t.componentId()),a.toggleOpen(),e("body").append(a.render().$el.addClass("photo-share-modal"))}}),t.analytics().trackEvent({category:"viz:upload",action:"uploadintent"})}})}),define("tmpl!action-bar",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)0===links.length?__p+="\n":show_button?(__p+='\n  <div class="action-bar-container container-closed">\n    <div class="action-bar-btn mr-action-click" data-action="show" tabindex="0">'+__e(label)+'<span class="ada-text">'+__e(ada_label)+'</span></div>\n  </div>\n\n  <div class="action-bar-container container-open">\n    <div class="action-bar-btn-arrow mr-action-click" data-action="hide"><i class="icon-arrow-bold-left"></i></div>\n    ',_.forEach(links,function(t){__p+="\n      "+(null==(__t=subview("link",t))?"":__t)+"\n    "}),__p+="\n  </div>\n"):(__p+="\n  ",_.forEach(links,function(t){__p+="\n      "+(null==(__t=subview("link",t))?"":__t)+"\n    "}),__p+="\n"),__p+="\n";return __p},metadata:{},name:"action-bar"})}),define("components/action-bar-2/views/BarView",["require","lodash","backbone-amd","lib/views/BaseView","./ButtonView","tmpl!action-bar"],function(t){var e=t("lodash"),i=t("backbone-amd"),n=t("lib/views/BaseView"),a=t("./ButtonView"),s=t("tmpl!action-bar");return n.extend({template:s,className:"action-bar-section",subviews:{link:a},handlers:{show:function(){this.show()},hide:function(){this.hide()}},initialize:function(t){this.opts=t},prepareModel:function(){var t=this,a=n.prototype.prepareModel.apply(this,arguments);return a.show_button=this.model.get("single_"+this.opts.type+"_button"),a.label=this.model.get("single_"+this.opts.type+"_text"),a.ada_label=this.model.get("single_"+this.opts.type+"_ada_text"),a.links=e.compact(e.map(this.opts.layout,function(e){if(!t.model.get("enable_"+e.type))return!1;if(e.ada_text=t.model.get(e.type+"_ada_text"),e.dataSource&&"link"===e.dataSource)e.link=t.model[e.type+"Link"](),e.value=t.model.get(e.type+"_link");else{if(!e.dataSource)return!1;e.data=t.model.get(e.dataSource)||{}}return"follow"===t.opts.type&&a.show_button&&(e.text=""),new i.Model(e)})),e.forEach(a.links,function(t){1===a.links.length&&a.show_button?t.set("size","xlarge"):a.links.length>=3?t.set("size","small"):t.set("size","large")}),this.$el.toggleClass("empty",0===a.links.length),a},openPhotoShareModal:function(){e.each(e.values(this.renderedSubviews),function(t){"share_photo"===t.model.get("dataSource")&&t.sharePhoto()})},show:function(){this.$el.addClass("show"),this.analytics().trackEvent({category:"viz:toggle",action:"action-bar",label:"show"})},hide:function(){this.$el.removeClass("show"),this.analytics().trackEvent({category:"viz:toggle",action:"action-bar",label:"hide"})}})}),define("components/action-bar-2/main",["require","lodash","lib/BaseComponent","componentStyle!action-bar-2?includeModal","./models/ActionBarModel","./views/BarView"],function(t){var e=t("lodash"),i=t("lib/BaseComponent"),n=t("componentStyle!action-bar-2?includeModal"),a=t("./models/ActionBarModel"),s=t("./views/BarView");return i.extend({styles:n,create:function(){var t=new a({config:this.get("config").settings});this.set("model",t),this.set("followBarView",new s({model:t,componentId:this.get("id"),componentType:this.get("config").type,dispatcher:this.get("dispatcher"),analytics:this.get("analytics"),type:"follow",layout:[{type:"follow",icon:"icon-twitter-logo",text:"Follow",dataSource:"link"},{type:"fb_like",icon:"icon-facebook-logo",text:"Like",dataSource:"link"},{type:"insta_follow",icon:"icon-instagram-logo",text:"Follow",dataSource:"link"}]}));var i=new s({model:t,componentId:this.get("id"),componentType:this.get("config").type,dispatcher:this.get("dispatcher"),analytics:this.get("analytics"),type:"conversation",layout:[{type:"tweet",icon:"icon-twitter-logo",text:"Tweet",classes:"small",dataSource:"link"},{type:"fb_post",icon:"icon-facebook-logo",text:"Post",classes:"small",handler:"fb-post",dataSource:"fb_post"},{type:"share_photo",icon:"icon-camera",text:"+ Photo",classes:"small",handler:"share-photo",dataSource:"share_photo"}]});return this.set("conversationBarView",i),{model:t,View:s,openPhotoShareModal:e.bind(i.openPhotoShareModal,i)}},render:function(){if(this.hasElement()){var t=this.get("followBarView"),e=this.get("conversationBarView");this.get("config").$el.append(t.render().$el).append(e.render().$el),this.get("config").$el.toggleClass("empty",t.$el.hasClass("empty")&&e.$el.hasClass("empty"))}}}).exports()}),define("componentStyle!status-2",{render:function(){}}),define("massrel-js-backbone/lib/backbone",["require","backbone-amd"],function(t){var e=t("backbone-amd");return(window["massrel-js-backbone"]||window).Backbone||e}),function(){function t(t,e){return e=e||"","string"!=typeof t&&(t.global&&e.indexOf("g")<0&&(e+="g"),t.ignoreCase&&e.indexOf("i")<0&&(e+="i"),t.multiline&&e.indexOf("m")<0&&(e+="m"),t=t.source),new RegExp(t.replace(/#\{(\w+)\}/g,function(t,e){var i=a.txt.regexen[e]||"";return"string"!=typeof i&&(i=i.source),i}),e)}function e(t,e){return t.replace(/#\{(\w+)\}/g,function(t,i){return e[i]||""})}function i(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function n(t,e,i){return i?!t||t.match(e)&&RegExp["$&"]===t:"string"==typeof t&&t.match(e)&&RegExp["$&"]===t}if("undefined"==typeof a||null===a)var a={};a.txt={},a.txt.regexen={};var s={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};a.txt.htmlEscape=function(t){return t&&t.replace(/[&"'><]/g,function(t){return s[t]})},a.txt.regexSupplant=t,a.txt.stringSupplant=e,a.txt.regexen.spaces_group=/\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000/,a.txt.regexen.spaces=t(/[#{spaces_group}]/),a.txt.regexen.invalid_chars_group=/\uFFFE\uFEFF\uFFFF\u202A-\u202E/,a.txt.regexen.invalid_chars=t(/[#{invalid_chars_group}]/),a.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,a.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,a.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm,a.txt.regexen.latinAccentChars=/\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253\u0254\u0256\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF/,a.txt.regexen.bmpLetterAndMarks=/A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u052f\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07ca-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0-\u08b2\u08e4-\u0963\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09f0\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a70-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u103f\u1050-\u108f\u109a-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u180b-\u180d\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f\u1aa7\u1ab0-\u1abe\u1b00-\u1b4b\u1b6b-\u1b73\u1b80-\u1baf\u1bba-\u1bf3\u1c00-\u1c37\u1c4d-\u1c4f\u1c5a-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1cf8\u1cf9\u1d00-\u1df5\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u20d0-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005\u3006\u302a-\u302f\u3031-\u3035\u303b\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua672\ua674-\ua67d\ua67f-\ua69d\ua69f-\ua6e5\ua6f0\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c4\ua8e0-\ua8f7\ua8fb\ua90a-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf\ua9e0-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabea\uabec\uabed\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf870-\uf87f\uf882\uf884-\uf89f\uf8b8\uf8c1-\uf8d6\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2d\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc/,a.txt.regexen.astralLetterAndMarks=/\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf30-\udf40\udf42-\udf49\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude33\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48]|\ud804[\udc00-\udc46\udc7f-\udcba\udcd0-\udce8\udd00-\udd34\udd50-\udd73\udd76\udd80-\uddc4\uddda\ude00-\ude11\ude13-\ude37\udeb0-\udeea\udf01-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc80-\udcc5\udcc7\udd80-\uddb5\uddb8-\uddc0\ude00-\ude40\ude44\ude80-\udeb7]|\ud806[\udca0-\udcdf\udcff\udec0-\udef8]|\ud808[\udc00-\udf98]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50-\udf7e\udf8f-\udf9f]|\ud82c[\udc00\udc01]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udc00-\udcc4\udcd0-\udcd6]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef]/,a.txt.regexen.bmpNumerals=/0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19/,a.txt.regexen.astralNumerals=/\ud801[\udca0-\udca9]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udcd0-\udcd9\ude50-\ude59\udec0-\udec9]|\ud806[\udce0-\udce9]|\ud81a[\ude60-\ude69\udf50-\udf59]|\ud835[\udfce-\udfff]/,a.txt.regexen.hashtagSpecialChars=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\xb7/,a.txt.regexen.hashSigns=/[#＃]/,a.txt.regexen.hashtagAlpha=t(/(?:[#{bmpLetterAndMarks}]|(?=#{non_bmp_code_pairs})(?:#{astralLetterAndMarks}))/),a.txt.regexen.hashtagAlphaNumeric=t(/(?:[#{bmpLetterAndMarks}#{bmpNumerals}#{hashtagSpecialChars}]|(?=#{non_bmp_code_pairs})(?:#{astralLetterAndMarks}|#{astralNumerals}))/),a.txt.regexen.endHashtagMatch=t(/^(?:#{hashSigns}|:\/\/)/),a.txt.regexen.codePoint=/(?:[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF])/,a.txt.regexen.hashtagBoundary=t(/(?:^|\uFE0E|\uFE0F|$|(?!#{hashtagAlphaNumeric}|&)#{codePoint})/),a.txt.regexen.validHashtag=t(/(#{hashtagBoundary})(#{hashSigns})(?!\uFE0F|\u20E3)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),a.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/,a.txt.regexen.atSigns=/[@＠]/,a.txt.regexen.validMentionOrList=t("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),a.txt.regexen.validReply=t(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),a.txt.regexen.endMentionMatch=t(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),a.txt.regexen.validUrlPrecedingChars=t(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),a.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,a.txt.regexen.invalidDomainChars=e("#{punct}#{spaces_group}#{invalid_chars_group}",a.txt.regexen),a.txt.regexen.validDomainChars=t(/[^#{invalidDomainChars}]/),a.txt.regexen.validSubdomain=t(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),a.txt.regexen.validDomainName=t(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),a.txt.regexen.validGTLD=t(RegExp("(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|عرب|شبكة|بيتك|بازار|العليان|ارامكو|اتصالات|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@]|$))")),a.txt.regexen.validCCTLD=t(RegExp("(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@]|$))")),a.txt.regexen.validPunycode=/(?:xn--[0-9a-z]+)/,a.txt.regexen.validSpecialCCTLD=/(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))/,a.txt.regexen.validDomain=t(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),a.txt.regexen.validAsciiDomain=t(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),a.txt.regexen.invalidShortDomain=t(/^#{validDomainName}#{validCCTLD}$/i),a.txt.regexen.validSpecialShortDomain=t(/^#{validDomainName}#{validSpecialCCTLD}$/i),a.txt.regexen.validPortNumber=/[0-9]+/,a.txt.regexen.cyrillicLettersAndMarks=/\u0400-\u04FF/,a.txt.regexen.validGeneralUrlPathChars=t(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-_~@\|&#{latinAccentChars}]/i),a.txt.regexen.validUrlBalancedParens=t("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),a.txt.regexen.validUrlPathEndingChars=t(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),a.txt.regexen.validUrlPath=t("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),a.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,a.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,a.txt.regexen.extractUrl=t("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),a.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,a.txt.regexen.urlHasProtocol=/^https?:\/\//i,a.txt.regexen.urlHasHttps=/^https:\/\//i,a.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,a.txt.regexen.validCashtag=t("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),a.txt.regexen.validateUrlUnreserved=/[a-z\u0400-\u04FF0-9\-._~]/i,a.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,a.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,a.txt.regexen.validateUrlPchar=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),a.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,a.txt.regexen.validateUrlUserinfo=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),a.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,a.txt.regexen.validateUrlIpv4=t(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),a.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,a.txt.regexen.validateUrlIp=t("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),a.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,a.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,a.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,a.txt.regexen.validateUrlDomain=t(/(?:(?:#{validateUrlSubDomainSegment}\.)*(?:#{validateUrlDomainSegment}\.)#{validateUrlDomainTld})/i),a.txt.regexen.validateUrlHost=t("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),a.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,a.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,a.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,a.txt.regexen.validateUrlUnicodeDomain=t(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),a.txt.regexen.validateUrlUnicodeHost=t("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),a.txt.regexen.validateUrlPort=/[0-9]{1,5}/,a.txt.regexen.validateUrlUnicodeAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),a.txt.regexen.validateUrlAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),a.txt.regexen.validateUrlPath=t(/(\/#{validateUrlPchar}*)*/i),a.txt.regexen.validateUrlQuery=t(/(#{validateUrlPchar}|\/|\?)*/i),a.txt.regexen.validateUrlFragment=t(/(#{validateUrlPchar}|\/|\?)*/i),a.txt.regexen.validateUrlUnencoded=t("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");
var r="tweet-url list-slug",o="tweet-url username",l="tweet-url hashtag",u="tweet-url cashtag",d={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},c={disabled:!0,readonly:!0,multiple:!0,checked:!0};a.txt.tagAttrs=function(t){var e="";for(var i in t){var n=t[i];c[i]&&(n=n?i:null),null!=n&&(e+=" "+a.txt.htmlEscape(i)+'="'+a.txt.htmlEscape(n.toString())+'"')}return e},a.txt.linkToText=function(t,i,n,s){s.suppressNoFollow||(n.rel="nofollow"),s.linkAttributeBlock&&s.linkAttributeBlock(t,n),s.linkTextBlock&&(i=s.linkTextBlock(t,i));var r={text:i,attr:a.txt.tagAttrs(n)};return e("<a#{attr}>#{text}</a>",r)},a.txt.linkToTextWithSymbol=function(t,e,i,n,s){var r=s.symbolTag?"<"+s.symbolTag+">"+e+"</"+s.symbolTag+">":e;i=a.txt.htmlEscape(i);var o=s.textWithSymbolTag?"<"+s.textWithSymbolTag+">"+i+"</"+s.textWithSymbolTag+">":i;return s.usernameIncludeSymbol||!e.match(a.txt.regexen.atSigns)?a.txt.linkToText(t,r+o,n,s):r+a.txt.linkToText(t,o,n,s)},a.txt.linkToHashtag=function(t,e,n){var s=e.substring(t.indices[0],t.indices[0]+1),r=a.txt.htmlEscape(t.hashtag),o=i(n.htmlAttrs||{});return o.href=n.hashtagUrlBase+r,o.title="#"+r,o["class"]=n.hashtagClass,r.charAt(0).match(a.txt.regexen.rtl_chars)&&(o["class"]+=" rtl"),n.targetBlank&&(o.target="_blank"),a.txt.linkToTextWithSymbol(t,s,r,o,n)},a.txt.linkToCashtag=function(t,e,n){var s=a.txt.htmlEscape(t.cashtag),r=i(n.htmlAttrs||{});return r.href=n.cashtagUrlBase+s,r.title="$"+s,r["class"]=n.cashtagClass,n.targetBlank&&(r.target="_blank"),a.txt.linkToTextWithSymbol(t,"$",s,r,n)},a.txt.linkToMentionAndList=function(t,e,n){var s=e.substring(t.indices[0],t.indices[0]+1),r=a.txt.htmlEscape(t.screenName),o=a.txt.htmlEscape(t.listSlug),l=t.listSlug&&!n.suppressLists,u=i(n.htmlAttrs||{});return u["class"]=l?n.listClass:n.usernameClass,u.href=l?n.listUrlBase+r+o:n.usernameUrlBase+r,l||n.suppressDataScreenName||(u["data-screen-name"]=r),n.targetBlank&&(u.target="_blank"),a.txt.linkToTextWithSymbol(t,s,l?r+o:r,u,n)},a.txt.linkToUrl=function(t,e,n){var s=t.url,r=s,o=a.txt.htmlEscape(r),l=n.urlEntities&&n.urlEntities[s]||t;l.display_url&&(o=a.txt.linkTextWithEntity(l,n));var u=i(n.htmlAttrs||{});return s.match(a.txt.regexen.urlHasProtocol)||(s="http://"+s),u.href=s,n.targetBlank&&(u.target="_blank"),n.urlClass&&(u["class"]=n.urlClass),n.urlTarget&&(u.target=n.urlTarget),!n.title&&l.display_url&&(u.title=l.expanded_url),a.txt.linkToText(t,o,u,n)},a.txt.linkTextWithEntity=function(t,i){var n=t.display_url,s=t.expanded_url,r=n.replace(/…/g,"");if(-1!=s.indexOf(r)){var o=s.indexOf(r),l={displayUrlSansEllipses:r,beforeDisplayUrl:s.substr(0,o),afterDisplayUrl:s.substr(o+r.length),precedingEllipsis:n.match(/^…/)?"…":"",followingEllipsis:n.match(/…$/)?"…":""};for(var u in l)l.hasOwnProperty(u)&&(l[u]=a.txt.htmlEscape(l[u]));return l.invisible=i.invisibleTagAttrs,e("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",l)}return n},a.txt.autoLinkEntities=function(t,e,n){n=i(n||{}),n.hashtagClass=n.hashtagClass||l,n.hashtagUrlBase=n.hashtagUrlBase||"https://twitter.com/#!/search?q=%23",n.cashtagClass=n.cashtagClass||u,n.cashtagUrlBase=n.cashtagUrlBase||"https://twitter.com/#!/search?q=%24",n.listClass=n.listClass||r,n.usernameClass=n.usernameClass||o,n.usernameUrlBase=n.usernameUrlBase||"https://twitter.com/",n.listUrlBase=n.listUrlBase||"https://twitter.com/",n.htmlAttrs=a.txt.extractHtmlAttrsFromOptions(n),n.invisibleTagAttrs=n.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var s,d,c;if(n.urlEntities){for(s={},d=0,c=n.urlEntities.length;c>d;d++)s[n.urlEntities[d].url]=n.urlEntities[d];n.urlEntities=s}var p="",h=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var m=n.htmlEscapeNonEntities?a.txt.htmlEscape:function(t){return t},d=0;d<e.length;d++){var f=e[d];p+=m(t.substring(h,f.indices[0])),f.url?p+=a.txt.linkToUrl(f,t,n):f.hashtag?p+=a.txt.linkToHashtag(f,t,n):f.screenName?p+=a.txt.linkToMentionAndList(f,t,n):f.cashtag&&(p+=a.txt.linkToCashtag(f,t,n)),h=f.indices[1]}return p+=m(t.substring(h,t.length))},a.txt.autoLinkWithJSON=function(t,e,i){if(e.user_mentions)for(var n=0;n<e.user_mentions.length;n++)e.user_mentions[n].screenName=e.user_mentions[n].screen_name;if(e.hashtags)for(var n=0;n<e.hashtags.length;n++)e.hashtags[n].hashtag=e.hashtags[n].text;if(e.symbols)for(var n=0;n<e.symbols.length;n++)e.symbols[n].cashtag=e.symbols[n].text;var s=[];for(var r in e)s=s.concat(e[r]);return a.txt.modifyIndicesFromUnicodeToUTF16(t,s),a.txt.autoLinkEntities(t,s,i)},a.txt.extractHtmlAttrsFromOptions=function(t){var e={};for(var i in t){var n=t[i];d[i]||(c[i]&&(n=n?i:null),null!=n&&(e[i]=n))}return e},a.txt.autoLink=function(t,e){var i=a.txt.extractEntitiesWithIndices(t,{extractUrlsWithoutProtocol:!1});return a.txt.autoLinkEntities(t,i,e)},a.txt.autoLinkUsernamesOrLists=function(t,e){var i=a.txt.extractMentionsOrListsWithIndices(t);return a.txt.autoLinkEntities(t,i,e)},a.txt.autoLinkHashtags=function(t,e){var i=a.txt.extractHashtagsWithIndices(t);return a.txt.autoLinkEntities(t,i,e)},a.txt.autoLinkCashtags=function(t,e){var i=a.txt.extractCashtagsWithIndices(t);return a.txt.autoLinkEntities(t,i,e)},a.txt.autoLinkUrlsCustom=function(t,e){var i=a.txt.extractUrlsWithIndices(t,{extractUrlsWithoutProtocol:!1});return a.txt.autoLinkEntities(t,i,e)},a.txt.removeOverlappingEntities=function(t){t.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var e=t[0],i=1;i<t.length;i++)e.indices[1]>t[i].indices[0]?(t.splice(i,1),i--):e=t[i]},a.txt.extractEntitiesWithIndices=function(t,e){var i=a.txt.extractUrlsWithIndices(t,e).concat(a.txt.extractMentionsOrListsWithIndices(t)).concat(a.txt.extractHashtagsWithIndices(t,{checkUrlOverlap:!1})).concat(a.txt.extractCashtagsWithIndices(t));return 0==i.length?[]:(a.txt.removeOverlappingEntities(i),i)},a.txt.extractMentions=function(t){for(var e=[],i=a.txt.extractMentionsWithIndices(t),n=0;n<i.length;n++){var s=i[n].screenName;e.push(s)}return e},a.txt.extractMentionsWithIndices=function(t){for(var e,i=[],n=a.txt.extractMentionsOrListsWithIndices(t),s=0;s<n.length;s++)e=n[s],""==e.listSlug&&i.push({screenName:e.screenName,indices:e.indices});return i},a.txt.extractMentionsOrListsWithIndices=function(t){if(!t||!t.match(a.txt.regexen.atSigns))return[];var e=[];return t.replace(a.txt.regexen.validMentionOrList,function(t,i,n,s,r,o,l){var u=l.slice(o+t.length);if(!u.match(a.txt.regexen.endMentionMatch)){r=r||"";var d=o+i.length,c=d+s.length+r.length+1;e.push({screenName:s,listSlug:r,indices:[d,c]})}}),e},a.txt.extractReplies=function(t){if(!t)return null;var e=t.match(a.txt.regexen.validReply);return!e||RegExp.rightContext.match(a.txt.regexen.endMentionMatch)?null:e[1]},a.txt.extractUrls=function(t,e){for(var i=[],n=a.txt.extractUrlsWithIndices(t,e),s=0;s<n.length;s++)i.push(n[s].url);return i},a.txt.extractUrlsWithIndices=function(t,e){if(e||(e={extractUrlsWithoutProtocol:!0}),!t||(e.extractUrlsWithoutProtocol?!t.match(/\./):!t.match(/:/)))return[];for(var i=[];a.txt.regexen.extractUrl.exec(t);){var n=RegExp.$2,s=RegExp.$3,r=RegExp.$4,o=RegExp.$5,l=RegExp.$7,u=a.txt.regexen.extractUrl.lastIndex,d=u-s.length;if(r)s.match(a.txt.regexen.validTcoUrl)&&(s=RegExp.lastMatch,u=d+s.length),i.push({url:s,indices:[d,u]});else{if(!e.extractUrlsWithoutProtocol||n.match(a.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var c=null,p=0;if(o.replace(a.txt.regexen.validAsciiDomain,function(t){var e=o.indexOf(t,p);p=e+t.length,c={url:t,indices:[d+e,d+p]},(l||t.match(a.txt.regexen.validSpecialShortDomain)||!t.match(a.txt.regexen.invalidShortDomain))&&i.push(c)}),null==c)continue;l&&(c.url=s.replace(o,c.url),c.indices[1]=u)}}return i},a.txt.extractHashtags=function(t){for(var e=[],i=a.txt.extractHashtagsWithIndices(t),n=0;n<i.length;n++)e.push(i[n].hashtag);return e},a.txt.extractHashtagsWithIndices=function(t,e){if(e||(e={checkUrlOverlap:!0}),!t||!t.match(a.txt.regexen.hashSigns))return[];var i=[];if(t.replace(a.txt.regexen.validHashtag,function(t,e,n,s,r,o){var l=o.slice(r+t.length);if(!l.match(a.txt.regexen.endHashtagMatch)){var u=r+e.length,d=u+s.length+1;i.push({hashtag:s,indices:[u,d]})}}),e.checkUrlOverlap){var n=a.txt.extractUrlsWithIndices(t);if(n.length>0){var s=i.concat(n);a.txt.removeOverlappingEntities(s),i=[];for(var r=0;r<s.length;r++)s[r].hashtag&&i.push(s[r])}}return i},a.txt.extractCashtags=function(t){for(var e=[],i=a.txt.extractCashtagsWithIndices(t),n=0;n<i.length;n++)e.push(i[n].cashtag);return e},a.txt.extractCashtagsWithIndices=function(t){if(!t||-1==t.indexOf("$"))return[];var e=[];return t.replace(a.txt.regexen.validCashtag,function(t,i,n,a,s){var r=s+i.length,o=r+a.length+1;e.push({cashtag:a,indices:[r,o]})}),e},a.txt.modifyIndicesFromUnicodeToUTF16=function(t,e){a.txt.convertUnicodeIndices(t,e,!1)},a.txt.modifyIndicesFromUTF16ToUnicode=function(t,e){a.txt.convertUnicodeIndices(t,e,!0)},a.txt.getUnicodeTextLength=function(t){return t.replace(a.txt.regexen.non_bmp_code_pairs," ").length},a.txt.convertUnicodeIndices=function(t,e,i){if(0!=e.length){var n=0,a=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var s=0,r=e[0];n<t.length;){if(r.indices[0]==(i?n:a)){var o=r.indices[1]-r.indices[0];if(r.indices[0]=i?a:n,r.indices[1]=r.indices[0]+o,s++,s==e.length)break;r=e[s]}var l=t.charCodeAt(n);l>=55296&&56319>=l&&n<t.length-1&&(l=t.charCodeAt(n+1),l>=56320&&57343>=l&&n++),a++,n++}}},a.txt.splitTags=function(t){for(var e,i,n=t.split("<"),a=[],s=0;s<n.length;s+=1)if(i=n[s]){e=i.split(">");for(var r=0;r<e.length;r+=1)a.push(e[r])}else a.push("");return a},a.txt.hitHighlight=function(t,e,i){var n="em";if(e=e||[],i=i||{},0===e.length)return t;var s,r,o,l,u,d,c,p=i.tag||n,h=["<"+p+">","</"+p+">"],m=a.txt.splitTags(t),f="",_=0,g=m[0],v=0,b=0,y=!1,w=g,k=[];for(s=0;s<e.length;s+=1)for(r=0;r<e[s].length;r+=1)k.push(e[s][r]);for(o=0;o<k.length;o+=1){for(l=k[o],u=h[o%2],d=!1;null!=g&&l>=v+g.length;)f+=w.slice(b),y&&l===v+w.length&&(f+=u,d=!0),m[_+1]&&(f+="<"+m[_+1]+">"),v+=w.length,b=0,_+=2,g=m[_],w=g,y=!1;d||null==g?d||(d=!0,f+=u):(c=l-v,f+=w.slice(b,c)+u,b=c,y=0===o%2?!0:!1)}if(null!=g)for(b<w.length&&(f+=w.slice(b)),o=_+1;o<m.length;o+=1)f+=0===o%2?m[o]:"<"+m[o]+">";return f};var p=140;a.txt.getTweetLength=function(t,e){e||(e={short_url_length:23,short_url_length_https:23});var i=a.txt.getUnicodeTextLength(t),n=a.txt.extractUrlsWithIndices(t);a.txt.modifyIndicesFromUTF16ToUnicode(t,n);for(var s=0;s<n.length;s++)i+=n[s].indices[0]-n[s].indices[1],i+=n[s].url.toLowerCase().match(a.txt.regexen.urlHasHttps)?e.short_url_length_https:e.short_url_length;return i},a.txt.isInvalidTweet=function(t){return t?a.txt.getTweetLength(t)>p?"too_long":a.txt.hasInvalidCharacters(t)?"invalid_characters":!1:"empty"},a.txt.hasInvalidCharacters=function(t){return a.txt.regexen.invalid_chars.test(t)},a.txt.isValidTweetText=function(t){return!a.txt.isInvalidTweet(t)},a.txt.isValidUsername=function(t){if(!t)return!1;var e=a.txt.extractMentions(t);return 1===e.length&&e[0]===t.slice(1)};var h=t(/^#{validMentionOrList}$/);if(a.txt.isValidList=function(t){var e=t.match(h);return!(!e||""!=e[1]||!e[4])},a.txt.isValidHashtag=function(t){if(!t)return!1;var e=a.txt.extractHashtags(t);return 1===e.length&&e[0]===t.slice(1)},a.txt.isValidUrl=function(t,e,i){if(null==e&&(e=!0),null==i&&(i=!0),!t)return!1;var s=t.match(a.txt.regexen.validateUrlUnencoded);if(!s||s[0]!==t)return!1;var r=s[1],o=s[2],l=s[3],u=s[4],d=s[5];return(!i||n(r,a.txt.regexen.validateUrlScheme)&&r.match(/^https?$/i))&&n(l,a.txt.regexen.validateUrlPath)&&n(u,a.txt.regexen.validateUrlQuery,!0)&&n(d,a.txt.regexen.validateUrlFragment,!0)?e&&n(o,a.txt.regexen.validateUrlUnicodeAuthority)||!e&&n(o,a.txt.regexen.validateUrlAuthority):!1},"undefined"!=typeof module&&module.exports&&(module.exports=a.txt),"function"==typeof define&&define.amd&&define("twitter-text/twitter-text",[],a.txt),"undefined"!=typeof window)if(window.twttr)for(var m in a)window.twttr[m]=a[m];else window.twttr=a}(),define("twitter-text",["twitter-text/twitter-text"],function(t){return t}),define("massrel-js-backbone/lib/util",["require","q","lodash","moment"],function(t){var e=t("q"),i=t("lodash"),n=t("moment"),a=function(t){return t.toISOString()},s=function(t){return t.format("LLL")},r=function(t){return t.fromNow()},o=function(t){var e,i=function(e,i){return n().subtract(e,i).isBefore(t)},a=function(e,i){return n().diff(t,e)+i};return e=i(1,"second")?"now":i(1,"minute")?a("seconds","s"):i(1,"hour")?a("minutes","m"):i(1,"day")?a("hours","h"):i(1,"week")?a("days","d"):i(1,"month")?a("weeks","w"):t.format("M/D/YY")},l=function(t,e){if(!i.isPlainObject(t))return t;var n={};return i.each(t,function(t,a){var s=l(t,e);i.isPlainObject(s)&&0!==i.size(s)?(e=i.isUndefined(e)?"_":""+e,i.each(s,function(t,s){var r=a+e+s;i.has(n,r)||(n[r]=t)})):n[a]=s}),n},u=function(t){return i.isFunction(Object.freeze)&&Object.freeze(t),t},d={facebook:!0,twitter:!0},c=function(t,e,n){if(!i.has(d,t))throw new TypeError("Unsupported avatar network: "+t);return n=i.isNumber(n)?Math.max(0,n):73,"//api.massrelevance.com/avatar/"+t+"?"+"screen_name="+encodeURIComponent(e)+"&"+"width="+n+"&"+"height="+n},p=function(t){return t?t.textContent||t.innerText||"":""},h=function(t,n){if(!i.isString(t))throw new TypeError("`url` must be a string");if(!/^(?:https?:)?\/\//.test(t))throw new TypeError("`url` must be a HTTP(S)/protocol-relative URL");var a=e.defer(),s=n||new Image;return s.onload=function(){a.resolve(s)},s.onerror=function(){a.reject(new Error("Image failed to load"))},s.src=t,a.promise},m=function(t,e,n){var a=(t||"").replace(/\r\n|\r/g,"\n");if(i.isNumber(e)){if(!i.isFinite(e))throw new TypeError("`condenseTo` must be finite");if(Math.round(e)!==e)throw new TypeError("`condenseTo` must be an integer");if(0>e)throw new TypeError("`condenseTo` must be >= 0");for(var s="",r=0;e>r;r++)s+="\n";a=a.replace(new RegExp("\\n{"+(e+1)+",}","g"),s)}return i.isString(n)&&(a=a.replace(/\n/g,n)),a},f=function(t){return((t||"")+"").replace(/^https?:/i,"")},_=function(t,e){for(var i=0,n=0,a=t.length;a>n;n++){var s=t[n];if(i+s.length>e)break;i+=s.length}return n},g=Array.from||function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,a=function(t){var e=i(t);return Math.min(Math.max(e,0),n)};return function(t){var i=this,n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var s,r=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof r){if(!e(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(s=arguments[2])}for(var o,l=a(n.length),u=e(i)?Object(new i(l)):new Array(l),d=0;l>d;)o=n[d],u[d]=r?"undefined"==typeof s?r(o,d):r.call(s,o,d):o,d+=1;return u.length=l,u}}(),v=/(\s+)/g,b=function(t,e){t=t||"";var n=g(t);if(!i.isNumber(e)||0>e)throw new TypeError("`maxLength` must be a positive number");if(n.length<=e)return[t,""];var a=(t||"").split(v),s=_(a,e);return[Array.prototype.slice.call(a,0,s).join(""),Array.prototype.slice.call(a,s).join("")]},y=function(t,e){if(t=t||"",!i.isNumber(e)||0>e)throw new TypeError("`maxLength` must be a positive number");var n=document.createElement("div");if(n.innerHTML=t,p(n).length<=e)return[t,""];for(var a=[],s=[],r=0,o=n.childNodes.length;o>r;r++){var l=n.childNodes[r];if(l.nodeType===Node.TEXT_NODE){var u=l.nodeValue.split(v);Array.prototype.push.apply(a,u),Array.prototype.push.apply(s,u)}else a.push(p(l)),s.push(l.outerHTML)}var d=_(a,e);return[Array.prototype.slice.call(s,0,d).join(""),Array.prototype.slice.call(s,d).join("")]},w=function(t,e,i){if(t=""+t,t.length>=e)return t;for(i=i||"0";t.length<e;)t=i+t;return t.slice(-e)},k=function(t){return t=t||{},i(t).pick(function(t){return i.isString(t)||i.isNumber(t)}).mapValues(encodeURIComponent).map(function(t,e){return e+"="+t}).join("&")},x=function(t,e){return e||!String.prototype.trim?t.replace(/^\s+|\s+$/g,""):t.trim()},q=function(t,e){return t=t.replace(/^(&nbsp;|<\s*br\s*\/?>|\s)+|(&nbsp;|<\s*br\s*\/?>|\s)+$/gi,""),x(t,e)};return{arrayFrom:g,calculateISODate:a,calculateFullDate:s,calculateShortDate:o,calculateDisplayDate:r,flattenObject:l,freeze:u,getAvatarProxyURL:c,getNodeText:p,loadImage:h,normalizeLineBreaks:m,protocolRelativize:f,splitTextToLength:b,splitHTMLToLength:y,padLeft:w,paramaterize:k,trim:x,trimHTML:q}}),define("massrel-js-backbone/lib/MediaModel",["require","./backbone","lodash","./util"],function(t){var e=t("./backbone"),i=t("lodash"),n=t("./util"),a={vine:!1,twitter:!1,facebook:!1,google:!1,getglue:!1,youtube:!1,instagram:!1,vimeo:!1,tumblr:!1},s={YouTube:"youtube",Vine:"vine",Twitter:"twitter",Facebook:"facebook",GetGlue:"getglue","Google+":"google",Instagram:"instagram",Vimeo:"vimeo",Tumblr:"tumblr"},r={youtube:"icon-youtube-logo",facebook:"icon-facebook-logo",twitter:"icon-twitter-logo",vine:"icon-vine-logo",instagram:"icon-instagram-logo",tumblr:"icon-tumblr-logo",google:"icon-google-plus-logo"},o=e.Model.extend({defaults:function(){return{type:"",html:"",url:"",link:"",width:0,height:0,provider_name:"",provider_url:"",provider:{},title:"",description:"",thumbnail_url:"",thumbnail_width:0,thumbnail_height:0,author_name:"",author_url:"",formatted_author_name:"",provider_icon_class:"",load_video_html:!1,loop_video:!1,load_gif:!1,autoplay:!1,sizes:n.freeze([])}},constructor:function(t,n){var a=i.extend({},n,{parse:!0});e.Model.call(this,t,a)},initialize:function(){this.set("provider_name",this._getProviderName(this.get("provider_name"))),this.set("provider",this._getProviderObject(this.get("provider_name"))),this.on({"change:provider change:provider_name change:author_name":this._updateFormattedAuthorName,"change:provider":this._updateProviderIconClass}),this._updateFormattedAuthorName(),this._updateProviderIconClass()},size:function(){return o.calculateSize(this.attributes)},resize:function(){var t={width:0,height:0};if(1===arguments.length)t.width=t.height=arguments[0];else{if(2!==arguments.length)throw new Error("Either both `width`, `height` arguments, or a single `size` argument, are required!");t.width=arguments[0],t.height=arguments[1]}var e=o.calculateSize(t),n=null,a=i.findLast(this.get("sizes"),function(t){return n=t,o.calculateSize(t)>=e})||n;return this.set(a),i.clone(a)},validate:function(t){var e={error:this._validateError,link:this._validateLink,photo:this._validatePhoto,rich:this._validateRich,video:this._validateVideo};if(!i.isString(t.type))return new Error("`type` must be a string (got: "+t.type+")");if(!i.has(e,t.type))return new Error("Invalid `type` value: "+t.type);var n;return t.provider_url&&(n=this._validateURL("provider_url",t))?n:t.author_url&&(n=this._validateURL("author_url",t))?n:t.thumbnail_url&&(n=this._validateURL("thumbnail_url",t))?n:this._validateIntegers(["width","height","thumbnail_width","thumbnail_height"],t)||e[t.type].call(this,t)},_validateIntegers:function(t,e){for(var n=t.length-1;n>=0;n--){var a=t[n],s=e[a];if(!i.isNumber(s)||0>s||!i.isFinite(s)||Math.round(s)!==s)return new Error("`"+a+"` must be an integer (got: "+s+")")}},_validateURL:function(t,e){return i.isString(e[t])?e[t]?/^(?:https?:)?\/\//i.test(e[t])?void 0:new Error("`"+t+"` must be a HTTP(S) or protocol-relative URL"):new Error("`"+t+"` must not be empty"):new Error("`"+t+"` must be a string")},_validateError:i.noop,_validateLink:i.noop,_validatePhoto:function(t){return this._validateURL("url",t)},_validateRich:function(t){return i.isString(t.html)?t.html?void 0:new Error("`html` must not be empty"):new Error("`html` must be a string")},_validateVideo:function(t){return i.isString(t.html)?t.html?this._validateURL("url",t):new Error("`html` must not be empty"):new Error("`html` must be a string")},parse:function(t){var e=n.flattenObject(i.omit(t,["version","cache_age"])),a=i.map(e.sizes||[],function(t){return o.pickSizeAttributes(t)});return a.push(o.pickSizeAttributes(e)),a=i(a).sortBy(function(t){return-o.calculateSize(t)}).map(n.freeze).value(),e.sizes=n.freeze(a),"Vine"===e.provider_name&&e.html&&(e.html=e.html.replace("2Fembed%2Fsimple","2Fembed%2Fsimple%3Fautoplay%3Dno")),e},_getProviderName:function(t){return s[t]||t},_getProviderObject:function(t){t=s[t]||t;var e=i.extend({},a);return i.has(e,t)&&(e[t]=!0),e},_getProviderIconClass:function(){return r[this.get("provider_name")]||""},_updateFormattedAuthorName:function(){var t="",e=this.get("provider");(e.twitter||e.instagram||e.tumblr)&&(t="@"),this.set("formatted_author_name",this.get("author_name")?t+this.get("author_name"):"")},_updateProviderIconClass:function(){this.set("provider_icon_class",this._getProviderIconClass())}},{calculateSize:function(t){return t.width&&t.height?t.width*t.height:t.thumbnail_url?t.thumbnail_width*t.thumbnail_height:0},pickSizeAttributes:i.partialRight(i.pick,["html","url","width","height","thumbnail_url","thumbnail_width","thumbnail_height"])});return o}),define("twemoji/twemoji.amd",[],function(){var t=function(){function t(t,e){return document.createTextNode(e?t.replace(v,""):t)}function e(t){return t.replace(y,o)}function i(t,e){return"".concat(e.base,e.size,"/",t,e.ext)}function n(t,e){for(var i,a,s=t.childNodes,r=s.length;r--;)i=s[r],a=i.nodeType,3===a?e.push(i):1!==a||"ownerSVGElement"in i||w.test(i.nodeName.toLowerCase())||n(i,e);return e}function a(t){return m(t.indexOf(b)<0?t.replace(v,""):t)}function s(e,i){for(var s,r,o,l,u,d,c,p,h,m,f,_,v,b=n(e,[]),y=b.length;y--;){for(o=!1,l=document.createDocumentFragment(),u=b[y],d=u.nodeValue,p=0;c=g.exec(d);){if(h=c.index,h!==p&&l.appendChild(t(d.slice(p,h),!0)),f=c[0],_=a(f),p=h+f.length,v=i.callback(_,i)){m=new Image,m.onerror=i.onerror,m.setAttribute("draggable","false"),s=i.attributes(f,_);for(r in s)s.hasOwnProperty(r)&&0!==r.indexOf("on")&&!m.hasAttribute(r)&&m.setAttribute(r,s[r]);m.className=i.className,m.alt=f,m.src=v,o=!0,l.appendChild(m)}m||l.appendChild(t(f,!1)),m=null}o&&(p<d.length&&l.appendChild(t(d.slice(p),!0)),u.parentNode.replaceChild(l,u))}return e}function r(t,i){return p(t,function(t){var n,s,r=t,o=a(t),l=i.callback(o,i);if(l){r="<img ".concat('class="',i.className,'" ','draggable="false" ','alt="',t,'"',' src="',l,'"'),n=i.attributes(t,o);for(s in n)n.hasOwnProperty(s)&&0!==s.indexOf("on")&&-1===r.indexOf(" "+s+"=")&&(r=r.concat(" ",s,'="',e(n[s]),'"'));r=r.concat("/>")}return r})}function o(t){return _[t]}function l(){return null}function u(t){return"number"==typeof t?t+"x"+t:t}function d(t){var e="string"==typeof t?parseInt(t,16):t;return 65536>e?k(e):(e-=65536,k(55296+(e>>10),56320+(1023&e)))}function c(t,e){return e&&"function"!=typeof e||(e={callback:e}),("string"==typeof t?r:s)(t,{callback:e.callback||i,attributes:"function"==typeof e.attributes?e.attributes:l,base:"string"==typeof e.base?e.base:f.base,ext:e.ext||f.ext,size:e.folder||u(e.size||f.size),className:e.className||f.className,onerror:e.onerror||f.onerror})}function p(t,e){return String(t).replace(g,e)}function h(t){g.lastIndex=0;var e=g.test(t);return g.lastIndex=0,e}function m(t,e){for(var i=[],n=0,a=0,s=0;s<t.length;)n=t.charCodeAt(s++),a?(i.push((65536+(a-55296<<10)+(n-56320)).toString(16)),a=0):n>=55296&&56319>=n?a=n:i.push(n.toString(16));return i.join(e||"-")}var f={base:"https://twemoji.maxcdn.com/2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:d,toCodePoint:m},onerror:function(){this.parentNode&&this.parentNode.replaceChild(t(this.alt,!1),this)},parse:c,replace:p,test:h},_={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},g=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,v=/\uFE0F/g,b=String.fromCharCode(8205),y=/[&<>'"]/g,w=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,k=String.fromCharCode;return f}();return t}),define("twemoji",["twemoji/twemoji.amd"],function(t){return t}),define("placeholder-image-generator/templates/base",["require","lodash"],function(t){var e=t("lodash");return e.template('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="<%= width %>" height="<%= height %>"><rect width="100%" height="100%" fill="<%= color %>"></rect><%= template %></svg>')}),define("placeholder-image-generator/templates/youtube",["require","lodash"],function(t){var e=t("lodash");return e.template('<svg version="1.1" x="<%= (19 / 32) * width %>" y="<%= (5 / 8) * height %>" width="<%= width / 2 %>" height="<%= height / 2%>"      viewBox="0 0 792 1224" enable-background="new 0 0 792 1224"><path fill="#FFFFFF" d="M599.3,594.6c-4.6,0-9.9,2.4-14.6,7.1l0,93.8c4.7,4.7,10,7.1,14.6,7.1c8.1,0,11.7-5.9,11.7-21.4v-66.5    C611,599.2,607.4,594.6,599.3,594.6z"/><path fill="#FFFFFF" d="M297,726h-29.4v-17c-11.1,12.8-20.6,19.2-30.9,19.2c-9,0-15.3-4.3-18.4-12c-1.9-4.7-3.3-12-3.3-22.7V569.8    h29.4v116c0,6.6,0,9.3,0,10.8c0.7,4.3,2.5,5.9,6.3,5.9c5.6,0,10.7-4.9,16.9-13.7V569.8H297L297,726L297,726z"/><path fill="#FFFFFF" d="M164,679.6c1.5,15.5-3.3,23.1-12.4,23.1s-13.9-7.7-12.4-23.1v-61.9c-1.5-15.5,3.2-22.7,12.4-22.7    c9.1,0,13.9,7.3,12.4,22.7L164,679.6L164,679.6z M193.3,620.8c0-16.7-3.4-29.2-9.3-37.1c-7.8-10.7-20.1-15.1-32.5-15.1    c-14,0-24.7,4.4-32.5,15.1c-6,7.9-9.3,20.6-9.3,37.3l0,55.6c0,16.6,2.9,28.1,8.9,35.9c7.8,10.7,20.5,16.3,32.9,16.3    s25.3-5.6,33.1-16.3c5.9-7.8,8.7-19.3,8.7-35.9V620.8L193.3,620.8z"/><path fill="#FFFFFF" d="M77.3,640.9V726H46.4v-85.1c0,0-32.1-104.3-38.7-123.8h32.5l21.7,81.5l21.6-81.5H116L77.3,640.9L77.3,640.9z    "/><g>    <path fill="#FFFFFF" d="M778.1,534c0,0-4.5-31.7-18.4-45.6c-17.6-18.3-37.3-18.4-46.3-19.5c-64.6-4.7-161.6-4.7-161.6-4.7h-0.2        c0,0-97,0-161.6,4.7c-9,1.1-28.7,1.2-46.3,19.5c-13.9,14-18.4,45.6-18.4,45.6s-4.6,37.2-4.6,74.4v34.9c0,37.2,4.6,74.4,4.6,74.4        s4.5,31.7,18.4,45.6c17.6,18.3,40.7,17.7,50.9,19.7c37,3.5,157,4.6,157,4.6s97.1-0.1,161.7-4.8c9-1.1,28.7-1.2,46.3-19.5        c13.8-14,18.4-45.6,18.4-45.6s4.6-37.2,4.6-74.4v-34.9C782.7,571.3,778.1,534,778.1,534z M422.3,726h-30.9V548.1h-32.5v-29.4        l97.5,0v29.4h-34V726z M533.7,726h-29.4v-17c-11.1,12.8-20.6,19.2-30.9,19.2c-9,0-15.3-4.3-18.4-12c-1.9-4.7-3.3-12-3.3-22.7V571.3        h29.4v114.5c0,6.6,0,9.3,0,10.8c0.7,4.3,2.5,5.9,6.3,5.9c5.6,0,10.7-4.9,16.9-13.7V571.3h29.4V726z M640.4,679.6        c0,14.3-1.2,24.4-3.1,30.9c-3.7,11.5-11.9,17.5-23,17.5c-10,0-20.2-6-29.5-17.6l0,15.6h-27.8V518.7h27.8l0,67.6        c9-11.1,19.3-17.5,29.6-17.5c11.2,0,18.6,6.4,22.4,18c1.9,6.2,3.7,16.2,3.7,30.9V679.6z M701.9,702.5c6.9,0,10.9-3.7,12.5-11.2        c0.3-1.5,0.2-8.2,0.2-19.4H744v4.4c0,9-0.7,15.4-1,18.2c-0.9,6.2-3.1,11.8-6.5,16.8c-7.7,11.2-19.2,16.8-33.9,16.8        c-14.7,0-25.8-5.3-33.9-15.8c-5.9-7.7-9.8-19.2-9.8-35.7v-54.1c0-16.5,3.5-29.3,9.4-37.1c8.1-10.6,19.3-16.2,33.5-16.2        c14,0,25.2,5.6,33.1,16.2c5.9,7.8,9.1,19.9,9.1,36.4l0,31.6h-55.7v27.8C688.2,695.4,692.3,702.5,701.9,702.5z"/>    <path fill="#FFFFFF" d="M714.6,613.2c0-14.3-3.7-18.6-13-18.6c-9.4,0-13.3,3.9-13.3,18.4v17.1l26.3,0V613.2z"/></g></svg>')
}),define("placeholder-image-generator/js/main",["require","lodash","../templates/base","../templates/youtube"],function(t){var e=t("lodash"),i="data:image/svg+xml;charset=utf-8,",n={width:480,height:360,color:"#333333",template:""},a=t("../templates/base"),s={youtube:t("../templates/youtube")};return function(t){if(t=e.extend({},n,t),""!==t.template){var r=s[t.template];t.template=r?r(t):""}return i+encodeURIComponent(a(t))}}),define("placeholder-image-generator/index",["./js/main"],function(t){return t}),define("placeholder-image-generator",["placeholder-image-generator/index"],function(t){return t}),define("massrel-js-backbone/lib/MediaCollection",["require","./backbone","lodash","./MediaModel","./util"],function(t){var e=t("./backbone"),i=t("lodash"),n=t("./MediaModel"),a=t("./util"),s=e.Collection.extend({model:n,initialize:function(){this.on("reset",this.sort)},comparator:function(t,e){var n=t.get("type"),a=e.get("type");if(n!==a){var r=9999999,o=r;i.has(s.MEDIA_TYPE_SORT_VALUES,n)&&(o=s.MEDIA_TYPE_SORT_VALUES[n]);var l=r;return i.has(s.MEDIA_TYPE_SORT_VALUES,a)&&(l=s.MEDIA_TYPE_SORT_VALUES[a]),o-l}return e.size()-t.size()}},{MEDIA_TYPE_SORT_VALUES:a.freeze({video:0,photo:1,link:2,rich:3})});return s}),define("massrel-js-backbone/lib/embedly",["require","q","lodash","./util","massrel-js"],function(t){var e=t("q"),i=t("lodash"),n=t("./util"),a=t("massrel-js"),s="https:"===window.location.protocol,r="//embedly.massrelevance.com/1/",o=function(t,n){if(i.isArray(n))n=i(n).each(function(t){if(!i.isString(t))throw new TypeError("array values must be strings (got: "+t+")")}).sortBy().value();else{if(!i.isString(n))throw new TypeError("`urls` must be either a string or an array (got: "+n+")");n=[n]}var o=e.defer();if(n.length>0){var l=[["key","fd577f7497bf11e0b95d4040d3dc5c07"],["secure",s],["maxwidth",1e3],["urls",n]];a.helpers.request_factory(r+t,l,"__embedly_jsonp__",null,function(t){for(var e=0;e<t.length;e++)t[e].link=n[e];o.resolve(t)},function(t){o.reject(new Error(t))})}else o.resolve([]);return o.promise},l=/^(https?:)?\/\/embedly\.massrelevance\.com\/\d+\/image/i,u=function(t){return l.test(t)||(t="//embedly.massrelevance.com/1/image?key=fd577f7497bf11e0b95d4040d3dc5c07&url="+encodeURIComponent(t)),t},d="//cdn.embedly.com/widgets/media.html?",c={url:"",image:"",video:"",video_secure:"true",type:"video/mp4",schema:"instagram"},p=function(t){t=i.extend({},c,t);var e=d+n.paramaterize(t);return'<iframe src="'+e+'" scrolling="no" frameborder="0" allow="autoplay"></iframe>'};return{embed:i.partial(o,"oembed"),widget:p,proxyImageURL:u}}),define("massrel-js-backbone/lib/StatusModel",["require","./backbone","q","lodash","moment","twemoji","placeholder-image-generator","./MediaCollection","./MediaModel","./embedly","./util"],function(t){var e=t("./backbone"),i=t("q"),n=t("lodash"),a=t("moment"),s=t("twemoji"),r=t("placeholder-image-generator"),o=t("./MediaCollection"),l=t("./MediaModel"),u=t("./embedly"),d=t("./util"),c="media-fetch",p="error:media-fetch",h=function(t){throw new Error("Method `"+t+"` is not implemented")},m=function(t){var e=s.parse(t,{size:"72x72"});return e.replace(/\bclass="\s*emoji\s*"/g,'class="status-emoji"')},f={thumbnail_url:r(),thumbnail_width:480,thumbnail_height:360},_=e.Model.extend({idAttribute:"entity_id",network:null,defaults:{additional_classes:"",raw_status:null,has_fetched_media:!1,is_fetching_media:!1,formatted_permalink:"",formatted_date_format:"display",formatted_date:"",formatted_date_iso:"",formatted_date_full:"",formatted_date_short:"",formatted_date_display:"",formatted_avatar_url_format:"medium",formatted_avatar_url:"",formatted_avatar_url_thumb:"",formatted_avatar_url_small:"",formatted_avatar_url_medium:"",formatted_avatar_url_large:"",formatted_avatar_url_huge:"",formatted_profile_url:"",formatted_text_max_length:140,formatted_text:"",formatted_text_rest:"",formatted_text_full:"",formatted_text_pretty:"",formatted_text_rest_pretty:"",formatted_text_full_pretty:"",formatted_name:"",formatted_name_pretty:"",formatted_klout_score:null,formatted_klout_permalink:null,formatted_place:null,media:null},constructor:function(t,i){var a=n.extend({},i,{parse:!0});e.Model.call(this,t,a)},initialize:function(t,e){this.options=e,this.set("media",new o,{silent:!0}),this.on({"change:formatted_avatar_url_format":this._updateFormattedAvatarURL,"change:formatted_date_format":this._updateFormattedDate,"change:formatted_text_max_length":this._updateFormattedTexts}),this._generateFormattedAvatarURLs(),this._generateFormattedDates(),this._generateFormattedPermalink(),this._generateFormattedProfileURL(),this._updateFormattedAvatarURL(),this._updateFormattedDate(),this._updateFormattedName(),this._updateFormattedPlace(),this._updateFormattedTexts(),this._updateFormattedCounts()},parse:function(t){var e=d.flattenObject(t);return e.raw_status=n.cloneDeep(t),e},_splitText:d.splitTextToLength,_getMediaFetchURLs:function(){h("_getMediaFetchURLs")},_getMediaExisting:function(){h("_getMediaExisting")},_postProcessFetchMedia:function(){},fetchMedia:function(){if(this.get("is_fetching_media"))return this;if(this.get("has_fetched_media"))return this.trigger(c),this;this.set("is_fetching_media",!0),this.set("has_fetched_media",!1);var t=this._getMediaFetchURLs(),e=this._getMediaExisting(),a=i.defer();t&&t.length>0?a=u.embed(t):(a.resolve([]),a=a.promise);var s=this;return a.then(function(t){s.set("is_fetching_media",!1),s.set("has_fetched_media",!0),s._postProcessFetchMedia(t);var i=n(t).reject(function(t){return"error"===t.type}).reject(function(t){var e=["snappytv"],i=["snpy.tv"],a=["photo","video"];return(t.provider_name&&n.contains(e,t.provider_name.toLowerCase())||n.find(i,function(e){return t.link&&t.link.indexOf(e)>=0}))&&"photo"!==t.type&&"video"!==t.type&&t.type&&t.thumbnail_url&&(t.type="photo",t.width=t.thumbnail_width,t.height=t.thumbnail_height,t.url=t.thumbnail_url),!n.contains(a,t.type)}).map(function(t){return t.thumbnail_url||"YouTube"!==t.provider_name||(t.thumbnail_url=r({width:480,height:360,template:"youtube"})),n.extend({},f,t)}).map(function(t){return new l(t)}).concat(e).reject(function(t){return"error"===t.get("type")}).value();s.get("media").reset(i),s.trigger(c)}).fail(function(t){s.set("is_fetching_media",!1),s.set("has_fetched_media",!1),s.trigger(p,s,null,{error:t})}).done(),this},_prettifyText:function(){h("_prettifyText")},_getPermalink:function(){h("_getPermalink")},getPermalink:function(){return this._getPermalink()},_getCreateDate:function(){h("_getCreateDate")},getCreateDate:function(){return this._getCreateDate()},_getText:function(){h("_getText")},getText:function(){return this._getText()},_getPlace:function(){h("_getPlace")},getPlace:function(){return this._getPlace()},_getAvatarURL:function(){h("_getAvatarURL")},getAvatarURL:function(t){var e=1e4;return 0>t||t>e?t=e:(!n.isNumber(t)||n.isNaN(t))&&(t=_.AVATAR_SIZES.medium),this._getAvatarURL(t)},_getProfileURL:function(){h("_getProfileURL")},getProfileURL:function(){return this._getProfileURL()},_getName:function(){h("_getName")},getName:function(){return this._getName()},_updateFormattedDate:function(){var t,e=this.get("formatted_date_format"),i=this.get("formatted_date_iso");return t=n.isFunction(e)?e.call(null,a(i)):this.has("formatted_date_"+e)?this.get("formatted_date_"+e):a(i).format(e),this.set("formatted_date",t),this},updateFormattedDates:function(){return this._generateFormattedDates(),this._updateFormattedDate(),this},_updateFormattedPlace:function(){return this.set("formatted_place",this.getPlace()),this},_updateFormattedAvatarURL:function(){var t,e=this.get("formatted_avatar_url_format");if(n.isFunction(e))t=e.call(null);else{if(!this.has("formatted_avatar_url_"+e))throw new TypeError("Invalid avatar format value: "+e);t=this.get("formatted_avatar_url_"+e)}return this.set("formatted_avatar_url",t),this},_updateFormattedTexts:function(){var t=this.getText(),e=this.get("formatted_text_max_length"),i=this._splitText(t,e),a=n.compose(m,n.bind(this._prettifyText,this));return this.set({formatted_text:i[0],formatted_text_rest:i[1],formatted_text_full:t,formatted_text_pretty:a(i[0]),formatted_text_rest_pretty:a(i[1]),formatted_text_full_pretty:a(t)}),this},_updateFormattedName:function(){var t=this.getName();return this.set({formatted_name:t,formatted_name_pretty:m(t)}),this},_generateFormattedAvatarURLs:function(){var t={};return n.each(_.AVATAR_SIZES,function(e,i){t["formatted_avatar_url_"+i]=this.getAvatarURL(e)},this),this.set(t),this},_updateFormattedCounts:function(){h("_updateFormattedCounts")},_generateFormattedProfileURL:function(){return this.set("formatted_profile_url",this.getProfileURL()),this},_generateFormattedPermalink:function(){return this.set("formatted_permalink",this.getPermalink()),this},_generateFormattedDates:function(){var t=this.getCreateDate();t&&t.isValid()||(t=a());var e=d.calculateISODate(t),i=d.calculateFullDate(t),n=d.calculateShortDate(t),s=d.calculateDisplayDate(t);return this.set({formatted_date_iso:e,formatted_date_full:i,formatted_date_short:n,formatted_date_display:s}),this},_convertNumberToAbbreviatedFormat:function(t){return 1e3>t?t:1e5>t?Math.round(t/100)/10+"k":1e6>t?Math.round(t/1e3)+"k":1e9>t?Math.round(t/1e5)/10+"m":Math.round(t/1e8)/10+"b"}},{AVATAR_SIZES:d.freeze({thumb:24,small:48,medium:73,large:128,huge:1e4}),AUTOLINK_DEFAULTS:d.freeze({usernameIncludeSymbol:!0,suppressDataScreenName:!0,targetBlank:!0,symbolTag:"s",textWithSymbolTag:"span",urlClass:"status-pretty-link status-url ",hashtagClass:"status-pretty-link status-hashtag ",usernameClass:"status-pretty-link status-username ",listClass:"status-pretty-link status-list ",cashtagClass:"status-pretty-link status-cashtag "})});return _}),define("massrel-js-backbone/lib/FacebookStatusModel",["require","lodash","moment","twitter-text","./MediaModel","./StatusModel","./embedly","./util"],function(t){var e=t("lodash"),i=t("moment"),n=t("twitter-text"),a=t("./MediaModel"),s=t("./StatusModel"),r=t("./embedly"),o=t("./util"),l=s.extend({network:"facebook",defaults:e.extend({},s.prototype.defaults,{intent_can_comment:!1,intent_can_like:!1,intent_can_share:!1,intent_url_comment:"",intent_url_like:"",intent_url_share:"",actions:[],actions_has_comment:!1,actions_has_like:!1,intent_app_id:"508524932504444"}),initialize:function(){s.prototype.initialize.apply(this,arguments),this.on("change:type change:kind",this._generateIntentAbilities),this.on("change:actions",this._generateAvailableActions),this._generateAvailableActions(),this._generateIntentAbilities(),this._generateIntentURLs()},getType:function(){return this.get("type")||this.get("kind")},_getMediaFetchURLs:function(){var t=this.getType(),i=n.extractUrlsWithIndices(this.getText()),a=e.pluck(i,"url");return("link"===t||"video"===t)&&this.get("link")&&a.push(this.get("link")),e.uniq(a)},_parseMediaPhoto:function(){var t=e.sortBy(this.get("images"),function(t){return-(t.width*t.height)});if(0===t.length)return null;var i=t[0],n=t[t.length-1],s=o.protocolRelativize(n.source);return new a({type:"photo",url:o.protocolRelativize(i.source),link:this.get("formatted_permalink"),width:i.width,height:i.height,thumbnail_url:s,thumbnail_width:n.width,thumbnail_height:n.height,provider_name:"Facebook",author_name:this.get("from_name"),author_url:l.getAuthorURLById(this.get("from_id")),sizes:e.map(t.slice(1),function(t){return{url:o.protocolRelativize(t.source),width:t.width,height:t.height,thumbnail_url:s,thumbnail_width:n.width,thumbnail_height:n.height}})})},_parseMediaPicture:function(){return this.has("picture")&&"video"!==this.getType()?new a({type:"photo",url:l.upgradePictureURL(this.get("picture")),link:this.get("formatted_permalink"),width:0,height:0,thumbnail_url:this.get("picture"),thumbnail_width:0,thumbnail_height:0,provider_name:"Facebook",author_name:this.get("from_name"),author_url:l.getAuthorURLById(this.get("from_id"))}):null},_postProcessFetchMedia:function(t){if(t&&t.length){var i=e.sortBy(this.get("format"),function(t){return-(t.width*t.height)});if(0!==i.length){var n=i[0];e.each(t,function(t){t.provider_name&&"facebook"===t.provider_name.toLowerCase()&&(t.thumbnail_url=o.protocolRelativize(n.picture),t.thumbnail_width=n.width,t.thumbnail_height=n.height)})}}},_parseMediaVideo:function(){var t=e.sortBy(this.get("format"),function(t){return-(t.width*t.height)});if(0===t.length)return null;var i=t[0],n=t[t.length-1],s=o.protocolRelativize(i.picture);return new a({type:"link",url:this.get("link"),link:this.get("formatted_permalink"),width:i.width,height:i.height,thumbnail_url:s,thumbnail_width:i.width,thumbnail_height:i.height,provider_name:"Facebook",author_name:this.get("from_name"),author_url:l.getAuthorURLById(this.get("from_id")),sizes:e.map(t.slice(1),function(t){return{width:t.width,height:t.height,thumbnail_url:s,thumbnail_width:n.width,thumbnail_height:n.height}})})},_getMediaExisting:function(){var t=[];return e.isArray(this.get("images"))&&t.push(this._parseMediaPhoto()),t.push(this._parseMediaPicture()),e.compact(t)},_prettifyText:function(t){var i=n.extractUrlsWithIndices(t),a=n.extractHashtagsWithIndices(t,{checkUrlOverlap:!1}),r=i.concat(a);n.removeOverlappingEntities(r);var l=e.extend({},s.AUTOLINK_DEFAULTS,{urlClass:s.AUTOLINK_DEFAULTS.urlClass+"status-url-facebook",hashtagClass:s.AUTOLINK_DEFAULTS.hashtagClass+"status-hashtag-facebook",hashtagUrlBase:"//www.facebook.com/hashtag/"}),u=n.autoLinkEntities(t,r,l);return o.normalizeLineBreaks(o.trimHTML(u),2,"<br />")},_updateFormattedCounts:function(){},_getCreateDate:function(){return i(this.get("created_time"),i.ISO_8601)},_getPlace:function(){if(this.has("place_id")){var t=this.get("place_location_city")+", "+(this.get("place_location_state")||this.get("place_location_country")),e=this.get("place_location_city")?{name:t}:null,i=parseFloat(this.get("place_location_longitude"),10),n=parseFloat(this.get("place_location_latitude"),10);return{type:"Feature",properties:e,geometry:{type:"Point",coordinates:[i,n]}}}return null},_getAvatarURL:function(t){var e=this.get("from_id");return o.getAvatarProxyURL("facebook",e,t)},_getProfileURL:function(){return"//www.facebook.com/"+this.get("from_id")},_getText:function(){var t;return this.has("share_text")&&this.has("story")?t=this.get("story"):(this.has("message")||this.has("name"))&&(t=this.get("message")||this.get("name")),t||""},_getName:function(){return this.get("from_name")},_getPermalink:function(){var t=this.get("facebook_id");return t.indexOf("_")<0&&(t=this.get("from_id")+"_"+this.get("facebook_id")),"//www.facebook.com/"+t},_generateIntentAbilities:function(){return this.set({intent_can_comment:"comment"!==this.getType()||this.get("actions_has_comment"),intent_can_like:!1,intent_can_share:!0}),this},_generateIntentURLs:function(){return this.set({intent_url_comment:this.get("formatted_permalink")+"/comments",intent_url_like:this.get("formatted_permalink")+"/likes",intent_url_share:this.get("formatted_permalink")+"/share"}),this},_generateAvailableActions:function(){var t={Comment:"comment",Like:"like"},i=this;e.each(t,function(t){i.set("actions_has_"+t,!1)}),this.get("actions")&&e.each(this.get("actions"),function(e){var n=t[e.name];n&&i.set("actions_has_"+n,!0)})}},{upgradePictureURL:function(t){t=e.isString(t)?t:"",t=t.replace(/_[anst]\./,"_n.");var i=/\/safe_image\.php\?.*url=([^&]+)(?:&|$)/g.exec(t);return i&&(t=r.proxyImageURL(decodeURIComponent(i[1]))),t},getAuthorURLById:function(t){return"//facebook.com/"+t}});return l}),define("massrel-js-backbone/lib/GooglePlusStatusModel",["require","lodash","moment","./MediaModel","./StatusModel","./util"],function(t){var e=t("lodash"),i=t("moment"),n=t("./MediaModel"),a=t("./StatusModel"),s=t("./util"),r=e.template('<a href=<%- url %> target="_blank" rel="nofollow" class="<%- classes %>"><s><%- symbol %></s><span><%- text %></span></a>'),o=function(t){var e=i().diff(t,"hours");return 24>e?t.format("LT"):48>e?"Yesterday "+t.format("LT"):t.format("ll")},l=a.extend({network:"google_plus",defaults:e.extend({},a.prototype.defaults,{formatted_date_format:o}),_getMediaFetchURLs:function(){var t=e.map(this.get("object_attachments"),function(t){return t.embed&&t.embed.url?t.embed.url:null});return e.compact(t)},_parseMediaAlbum:function(t){return e.map(t.thumbnails,function(t){var e=s.protocolRelativize(t.image.url);return new n({type:"photo",url:s.protocolRelativize(l.changeURLSizeHint(t.image.url,l.LARGE_PHOTO_SIZE,l.LARGE_PHOTO_SIZE)),link:this.get("formatted_permalink"),width:l.LARGE_PHOTO_SIZE,height:l.LARGE_PHOTO_SIZE,thumbnail_url:e,thumbnail_width:t.image.width,thumbnail_height:t.image.height,description:t.description||"",provider_name:"Google+",author_name:this.get("formatted_name"),author_url:this.get("formatted_profile_url"),sizes:[{url:e,width:t.image.width,height:t.image.height,thumbnail_url:e,thumbnail_width:t.image.width,thumbnail_height:t.image.height}]})},this)},_parseMediaArticle:function(t){var i={type:"link",url:t.url,link:this.get("formatted_permalink"),title:t.displayName||"",description:t.content||"",provider_name:"Google+",author_name:this.get("formatted_name"),author_url:this.get("formatted_profile_url")};return t.fullImage&&e.extend(i,{thumbnail_url:t.fullImage.url,thumbnail_width:t.fullImage.width||t.image.width||0,thumbnail_height:t.fullImage.height||t.image.height||0}),new n(i)},_parseMediaPhoto:function(t){var e=s.protocolRelativize(t.image.url);return new n({type:"photo",url:t.fullImage.url,link:this.get("formatted_permalink"),width:t.fullImage.width,height:t.fullImage.height,thumbnail_url:e,thumbnail_width:t.image.width,thumbnail_height:t.image.height,title:t.displayName||"",description:t.content||"",provider_name:"Google+",author_name:this.get("formatted_name"),author_url:this.get("formatted_profile_url"),sizes:[{url:e,width:Math.round(t.fullImage.width/2),height:Math.round(t.fullImage.height/2),thumbnail_url:e,thumbnail_width:t.image.width,thumbnail_height:t.image.height}]})},_parseMediaVideo:function(t){if(t.embed);else if(t.image)return new n({type:"photo",url:s.protocolRelativize(l.changeURLSizeHint(t.image.url,l.LARGE_PHOTO_SIZE,l.LARGE_PHOTO_SIZE)),link:this.get("formatted_permalink"),width:t.image.width,height:t.image.height,provider_name:"Google+",author_name:this.get("formatted_name"),author_url:this.get("formatted_profile_url"),thumbnail_url:s.protocolRelativize(t.image.url),thumbnail_width:t.image.width,thumbnail_height:t.image.height,title:t.displayName||"",description:t.content||""});return null},_getMediaExisting:function(){var t=e.map(this.get("object_attachments"),function(t){var i=t.objectType,n=e.noop;return"album"===i?n=this._parseMediaAlbum:"article"===i?n=this._parseMediaArticle:"event"===i||("photo"===i?n=this._parseMediaPhoto:"video"===i?n=this._parseMediaVideo:window.console&&window.console.warn&&window.console.warn("Unrecognized Google+ attachment type: "+i,t,this.toJSON())),n.call(this,t)},this);return e(t).flatten(!0).compact().value()},_prettifyText:function(t){var i=document.createElement("div");return i.innerHTML=t,e.each(i.querySelectorAll(".ot-hashtag"),function(t){var e=document.createElement("div");e.innerHTML=r({url:t.href,classes:a.AUTOLINK_DEFAULTS.hashtagClass+"status-hashtag-google-plus",symbol:"#",text:s.getNodeText(t).slice(1)}),t.parentNode.replaceChild(e.firstChild,t)}),e.each(i.querySelectorAll(".proflinkWrapper"),function(t){var e=t.querySelector(".proflink"),i=document.createElement("div");i.innerHTML=r({url:e.href,classes:a.AUTOLINK_DEFAULTS.usernameClass+"status-username-google-plus",symbol:"+",text:s.getNodeText(e)}),t.parentNode.replaceChild(i.firstChild,t)}),e.each(i.querySelectorAll("a"),function(t){""===s.trim(t.className)&&(t.className=a.AUTOLINK_DEFAULTS.urlClass+"status-url-google-plus",t.target="_blank")}),s.trimHTML(i.innerHTML)},_updateFormattedCounts:function(){},_getName:function(){return this.get("actor_displayName")},_getPermalink:function(){return s.protocolRelativize(this.get("url"))},_getCreateDate:function(){return i(this.get("published"),i.ISO_8601)},_getText:function(){return this.has("object_content")?this.get("object_content"):s.normalizeLineBreaks(this.get("title"),null,"<br />")},_getPlace:function(){if(this.has("location_kind")){var t=parseFloat(this.get("location_position_latitude")),i=parseFloat(this.get("location_position_longitude"));if(e.isNaN(t)||e.isNaN(i))return null;var n=this.get("location_address_formatted")||"",a=n?{name:n}:null;return{type:"Feature",properties:a,geometry:{type:"Point",coordinates:[i,t]}}}return null},_getAvatarURL:function(t){var e=this.get("actor_image_url");return s.protocolRelativize(e.replace(/\bsz\=\d+/,"sz="+Math.min(9999,t)))},_getProfileURL:function(){return s.protocolRelativize(this.get("actor_url"))},_splitText:s.splitHTMLToLength},{LARGE_PHOTO_SIZE:2560,changeURLSizeHint:function(t,i,n){var a="/";return e.isNumber(i)&&e.isNumber(n)&&(a="/w"+i+"-h"+n+"/"),(t||"").replace(/\/w\d+-h\d+(?:-[a-z])*\//gi,a)},formatDate:o});return l}),define("massrel-js-backbone/lib/InstagramStatusModel",["require","lodash","moment","twitter-text","./MediaModel","./StatusModel","./embedly","./util"],function(t){var e=t("lodash"),i=t("moment"),n=t("twitter-text"),a=t("./MediaModel"),s=t("./StatusModel"),r=t("./embedly"),o=t("./util"),l=s.extend({network:"instagram",_getMediaFetchURLs:function(){var t=[];return("video"===this.get("type")||this._isCarouselVideo())&&t.push(this.get("link")),t},_isCarouselVideo:function(){var t=this.get("carousel_media");return"carousel"===this.get("type")&&t&&t.length>0&&t[0]&&"video"===t[0].type},_getMediaExisting:function(){var t=this.get("raw_status"),i=e(t.images).values().sortBy(function(t){return-(t.width*t.height)}).value();if(0===i.length)return null;var n=i[0],s=i[i.length-1],o=r.proxyImageURL(n.url),l=r.proxyImageURL(s.url);return[new a({type:"photo",url:o,link:this.get("formatted_permalink"),width:n.width,height:n.height,thumbnail_url:l,thumbnail_width:s.width,thumbnail_height:s.height,provider_name:"Instagram",author_name:this.get("user_username"),author_url:"//instagram.com/"+this.get("user_username"),sizes:e.map(i.slice(1),function(t){return{url:r.proxyImageURL(t.url),width:t.width,height:t.height,thumbnail_url:l,thumbnail_width:s.width,thumbnail_height:s.height}})})]},_prettifyText:function(t){var i=String.fromCharCode(133)+"#",a=l.getHashtagRuns(t);t=e.reduce(a,function(t,e){var n=e.replace(/#/g,i).slice(1);return t.replace(e,n)},t);var r=n.extractUrlsWithIndices(t),u=n.extractMentionsWithIndices(t),d=n.extractHashtagsWithIndices(t,{checkUrlOverlap:!1}),c=r.concat(d).concat(u);n.removeOverlappingEntities(c);var p=e.extend({},s.AUTOLINK_DEFAULTS,{urlClass:s.AUTOLINK_DEFAULTS.urlClass+"status-url-instagram",hashtagClass:s.AUTOLINK_DEFAULTS.hashtagClass+"status-hashtag-instagram",usernameClass:s.AUTOLINK_DEFAULTS.usernameClass+"status-username-instagram",hashtagUrlBase:"//instagram.com/explore/tags/",usernameUrlBase:"//instagram.com/"}),h=n.autoLinkEntities(t,c,p);return o.normalizeLineBreaks(o.trimHTML(h),2,"<br />")},_updateFormattedCounts:function(){},_getName:function(){return this.get("user_full_name")||this.get("user_username")},_getPermalink:function(){return o.protocolRelativize(this.get("link"))},_getCreateDate:function(){return i(this.get("created_time"),"X")},_getText:function(){return this.get("caption_text")||""},_getPlace:function(){if(this.has("location_latitude")){var t=this.get("location_name")?{name:this.get("location_name")}:null,e=parseFloat(this.get("location_longitude"),10),i=parseFloat(this.get("location_latitude"),10);return{type:"Feature",properties:t,geometry:{type:"Point",coordinates:[e,i]}}}return null},_getAvatarURL:function(){return r.proxyImageURL(this.get("user_profile_picture"))},_getProfileURL:function(){return"//instagram.com/"+this.get("user_username")}},{getHashtagRuns:function(t){for(var i=/(?:#|^|\s)((?:#[^#\s]+){2,})(?:#|$|\s)/gi,n=[],a=i.exec(t);a;)i.lastIndex=a.index+1,n.push(a[1]),a=i.exec(t);return e.sortBy(n,"length").reverse()}});return l}),define("massrel-js-backbone/lib/RSSStatusModel",["require","lodash","moment","twitter-text","./StatusModel","./MediaModel","./util","./embedly"],function(t){var e=t("lodash"),i=t("moment"),n=t("twitter-text"),a=t("./StatusModel"),s=t("./MediaModel"),r=t("./util"),o=t("./embedly"),l=["ddd MMM DD HH:mm:ss UTC YYYY",i.ISO_8601],u=a.extend({network:"rss",parse:function(t){return e.forEach(t.raw||[],function(i){e.isArray(i)&&"spredfast:type"===i[0]&&(t.kind=i[i.length-1])}),a.prototype.parse.call(this,t)},_getMediaFetchURLs:function(){var t=this.get("links").slice();return t.push(this.getPermalink()),e.uniq(t)},_getMedia_1_Object:function(t){var e={};if(t.forEach(function(t){Array.isArray(t)&&(e[t[0]]=t[1])}),e.type&&e.link){var i={type:"image"===e.type?"photo":e.type,url:e.link,link:e.link,thumbnail_url:e.thumbnail};return"video"===e.type&&(i.html=o.widget({video:e.link})),new s(i)}},_getMediaExisting:function(){var t=this,i=this.getPermalink(),n=e.compact(e.map(this.get("raw_status").raw||[],function(n){if(e.isArray(n)){var a;if("spredfast:media_image_url"===n[0])a="photo";else{if("spredfast:media_video_url"!==n[0])return"media_1"===n[0]?t._getMedia_1_Object(n):void 0;a="video"}var r=n[1],l=n[2];if("object"!=typeof r&&(r={},l=n[1]),l){var u={type:a,url:l,link:"#"===i?l:i,thumbnail_url:r.thumbnailUrl||l,width:parseInt(r.width,10)||0,height:parseInt(r.height,10)||0};return"video"===a&&(u.html=o.widget({video:l})),new s(u)}}})),a=e.map(this.get("raw_status").media,function(e){return new s({type:"photo",url:e.url,link:t.get("formatted_permalink"),height:e.height,width:e.width})});return n.concat(a)},_prettifyText:function(t){var i=n.extractUrlsWithIndices(t);n.removeOverlappingEntities(i);var s=e.extend({},a.AUTOLINK_DEFAULTS,{urlClass:a.AUTOLINK_DEFAULTS.urlClass+"status-url-rss"}),o=n.autoLinkEntities(t,i,s);return r.normalizeLineBreaks(r.trim(o),2,"<br />")},_updateFormattedCounts:function(){},_getPermalink:function(){return/^(?:https?:)?\/\//i.test(this.get("guid"))?this.get("guid"):this.get("link")||"#"},_getCreateDate:function(){var t=this.get("pub_date"),e=i(t,l);return e.isValid()||(e=i(t)),e},_getText:function(){var t=this.get("description")||this.get("title")||"";if(/</g.test(t)&&/>/.test(t)){var e=document.createElement("div");e.innerHTML=t,t=r.getNodeText(e)}return t},_getName:function(){return this.get("author")},_getPlace:e.constant(null),_getAvatarURL:e.constant(""),_getProfileURL:e.constant("")});return u}),define("massrel-js-backbone/lib/TwitterStatusModel",["require","lodash","massrel-js","moment","twitter-text","./StatusModel","./MediaModel","./util","./embedly"],function(t){var e=t("lodash"),i=t("massrel-js"),n=t("moment"),a=t("twitter-text"),s=t("./StatusModel"),r=t("./MediaModel"),o=t("./util"),l=t("./embedly"),u="ddd MMM DD HH:mm:ss ZZ YYYY",d=/https?:\/\/video.twimg.com\/ext_tw_video\/.*?\/pu\/vid\/(.*?)x(.*?)\/.*?.mp4/,c=s.extend({network:"twitter",defaults:e.extend({},s.prototype.defaults,{intent_original_referer:"@spredfast",intent_url_favorite:"",intent_url_reply:"",intent_url_retweet:"",intent_url_user:"",formatted_date_format:"short",is_retweet:!1,reply_mentions:[]}),initialize:function(){s.prototype.initialize.apply(this,arguments),this.on("change:intent_original_referer",this._generateIntentURLs),this._generateIntentURLs(),this._generateReplyMentions()},parse:function(t){var i=e.cloneDeep(t);if(t.retweeted_status){var n=e.cloneDeep(t.retweeted_status),a=e.omit(t,"retweeted_status");e(a).each(function(t,i){e.has(n,i)||(n[i]=t,delete a[i])}),n.retweeting_status=a,n.is_retweet=!0,t=n}var r=s.prototype.parse.call(this,t);return r.raw_status=i,r},_getPlace:function(){var t,i;if(this.has("place_bounding_box_coordinates")){i=this.has("place_name")?{name:this.get("place_name")}:null;var n=this.get("place_bounding_box_coordinates")[0];if(!n||4!==n.length)return null;var a=(parseFloat(n[0][0],10)+parseFloat(n[1][0],10))/2,s=(parseFloat(n[0][1],10)+parseFloat(n[2][1],10))/2;return{type:"Feature",properties:i,geometry:{type:"Point",coordinates:[a,s]}}}return this.has("geo_type")?(t=this.get("place_full_name"),i=t?{name:t}:null,{type:"Feature",properties:i,geometry:{type:"Point",coordinates:e.cloneDeep(this.get("coordinates_coordinates"))}}):this.get("geo_hint_coordinates")?(t=this.get("place_full_name"),t||(t=e.compact([this.get("geo_hint_state"),this.get("geo_hint_country")]).join(", ")),i=t?{name:t}:null,{type:"Feature",properties:i,geometry:{type:"Point",coordinates:[this.get("geo_hint_coordinates")[1],this.get("geo_hint_coordinates")[0]]}}):this.get("user_location")?{type:"Feature",properties:{name:this.get("user_location")},geometry:null}:null},_getCreateDate:function(){return n(this.get("created_at"),u)},_splitText:function(t,e){var i=function(t){return t.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")},n=function(t){return t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")},a=s.prototype._splitText(i(t),e);return[n(a[0]),n(a[1])]},_getText:function(){if("string"==typeof this.get("full_text")){var t=this.get("display_text_range"),e=o.arrayFrom(this.get("full_text")),i=this.options.strip_mentions?t[0]:0;return e=e.slice(i,t[1]),e.join("")}return this.get("text")},_getMediaFetchURLs:function(){return e.pluck(this.get("entities_urls"),"expanded_url")},_parseMediaPhoto:function(t){var i=e(t.sizes).map(function(t,i){return e.extend({},t,{name:i})}).sortBy(function(t){return-(t.w*t.h)}).value();if(0===i.length)return null;var n=i[0],a=i[i.length-1],s=o.protocolRelativize(t.media_url);return new r({type:"photo",url:s+":"+n.name,link:this.get("formatted_permalink"),width:n.w,height:n.h,thumbnail_url:s+":"+a.name,thumbnail_width:a.w,thumbnail_height:a.h,provider_name:"Twitter",author_name:this.get("user_screen_name"),author_url:"//twitter.com/"+this.get("user_screen_name"),sizes:e.map(i.slice(1),function(t){return{url:s+":"+t.name,width:t.w,height:t.h,thumbnail_url:s+":"+a.name,thumbnail_width:a.w,thumbnail_height:a.h}})})},_parseMediaVideo:function(t){var i=e(t.sizes).map(function(t,i){return e.extend({},t,{name:i})}).sortBy(function(t){return-(t.w*t.h)}).value();if(0===i.length)return null;var n=i[0],a=o.protocolRelativize(t.media_url),s=e(t.video_info.variants).filter(function(t){return"video/mp4"===t.content_type}).map(function(t){var e=n.w,i=n.h,a=d.exec(t.url);return a&&(e=parseInt(a[1],10),i=parseInt(a[2],10)),{url:t.url,w:e,h:i}}).sortBy(function(t){return t.h*t.w}).reverse().value();if(0===s.length)return null;var u=s[0],c={video:u.url,image:a+":"+n.name,url:this.get("formatted_permalink")};return"animated_gif"===t.type&&(c.loop="1"),new r({type:"video",url:u.url,link:this.get("formatted_permalink"),html:l.widget(c),width:u.w,height:u.h,thumbnail_url:a+":"+n.name,thumbnail_width:n.w,thumbnail_height:n.h,provider_name:"Twitter",author_name:this.get("user_screen_name"),author_url:"//twitter.com/"+this.get("user_screen_name"),sizes:e.map(s.slice(1),function(t){return{url:t.url,html:l.widget(e.extend({},c,{video:t.url})),width:t.w,height:t.h}})})},_getMediaExisting:function(){var t=this.get("extended_entities_media");t&&0!==t.length||(t=this.get("entities_media")||[]);var i=e.map(t,function(t){var e=null;return"photo"===t.type?e=this._parseMediaPhoto(t):"video"===t.type||"animated_gif"===t.type?e=this._parseMediaVideo(t):window.console&&window.console.warn&&window.console.warn("Unrecognized Twitter media entity type: "+t.type,t,this.toJSON()),e},this);return e.compact(i)},_prettifyText:function(t){var i=this.get("entities_urls")||[],n=this.get("entities_media")||[],r=e.extend({},s.AUTOLINK_DEFAULTS,{urlClass:s.AUTOLINK_DEFAULTS.urlClass+"status-url-twitter",hashtagClass:s.AUTOLINK_DEFAULTS.hashtagClass+"status-hashtag-twitter",usernameClass:s.AUTOLINK_DEFAULTS.usernameClass+"status-username-twitter",listClass:s.AUTOLINK_DEFAULTS.listClass+"status-list-twitter",cashtagClass:s.AUTOLINK_DEFAULTS.cashtagClass+"status-cashtag-twitter",urlEntities:i.concat(n)}),l=a.autoLink(t,r);return o.normalizeLineBreaks(o.trimHTML(l),null,"<br />")
},_getName:function(){return this.get("user_name")},_getPermalink:function(){return"//twitter.com/"+this.get("user_screen_name")+"/status/"+this.get("id_str")},_getAvatarURL:function(t){var e=this.get("user_screen_name");return o.getAvatarProxyURL("twitter",e,t)},_getProfileURL:function(){return"//www.twitter.com/"+this.get("user_screen_name")},_updateFormattedCounts:function(){this.set("formatted_retweet_count",this._convertNumberToAbbreviatedFormat(this.get("retweet_count"))),this.set("formatted_user_followers_count",this._convertNumberToAbbreviatedFormat(this.get("user_followers_count"))),this.set("formatted_user_statuses_count",this._convertNumberToAbbreviatedFormat(this.get("user_statuses_count"))),this.set("formatted_favorite_count",this._convertNumberToAbbreviatedFormat(this.get("favorite_count")))},_generateIntentURLs:function(){var t=this.get("id_str"),n=this.get("user_screen_name"),a={original_referer:this.get("intent_original_referer")},s=o.protocolRelativize;return this.set({intent_url_favorite:s(i.intents.favorite(t,e.clone(a))),intent_url_reply:s(i.intents.reply(t,e.clone(a))),intent_url_retweet:s(i.intents.retweet(t,e.clone(a))),intent_url_user:s(i.intents.user(n,e.clone(a)))}),this},_generateReplyMentions:function(){var t=this.get("display_text_range"),i=[];return t&&(e.forEach(this.get("entities_user_mentions"),function(n){if(n.indices[1]<t[0]){var a=encodeURIComponent(n.screen_name);i.push(e.extend({link:"https://twitter.com/"+a,avatar_url:"//api.massrelevance.com/avatar/twitter?screen_name="+a+"&width=73&height=73"},n))}}),this.set("reply_mentions",i)),this}});return c}),define("massrel-js-backbone/lib/YouTubeVideoStatusModel",["require","lodash","moment","twitter-text","./StatusModel","./MediaModel","./util"],function(t){var e=t("lodash"),i=t("moment"),n=t("twitter-text"),a=t("./StatusModel"),s=t("./MediaModel"),r=t("./util"),o=a.extend({network:"youtube",defaults:e.extend({},a.prototype.defaults,{formatted_date_format:"short",duration:null,duration_pretty:""}),initialize:function(){a.prototype.initialize.apply(this,arguments),this.on("change:contentDetails_duration",this._parseDuration),this._parseDuration()},parse:function(t){var i=e.cloneDeep(t),n=e.cloneDeep(i);n.title=t.snippet.title;var s=a.prototype.parse.call(this,n);return s.raw_status=i,s},_getMediaFetchURLs:function(){return["//youtu.be/"+this.get("youtube_video_id")]},_getMediaExisting:function(){var t=e(this.get("raw_status").snippet.thumbnails).map(function(t){return{url:t.url,width:t.width,height:t.height}}).sortBy(function(t){return-s.calculateSize(t)}).value(),i=t.shift(),n=t[t.length-1];return[new s({type:"photo",url:i.url,link:this.get("formatted_permalink"),width:i.width,height:i.height,thumbnail_url:n.url,thumbnail_width:n.width,thumbnail_height:n.height,provider_name:"YouTube",sizes:t})]},_prettifyText:function(t){var i=n.extractUrlsWithIndices(t);n.removeOverlappingEntities(i);var s=e.extend({},a.AUTOLINK_DEFAULTS,{urlClass:a.AUTOLINK_DEFAULTS.urlClass+"status-url-youtube"}),o=n.autoLinkEntities(t,i,s);return r.normalizeLineBreaks(r.trim(o),2,"<br />")},_updateFormattedCounts:function(){},_getPermalink:function(){return"//youtu.be/"+this.get("youtube_video_id")},_getCreateDate:function(){var t=this.get("snippet_publishedAt"),e=i(t,i.ISO_8601);return e},_getText:function(){return this.get("snippet_description")},_getName:function(){return this.get("snippet_channelTitle")},_getPlace:e.constant(null),_getAvatarURL:e.constant(""),_getProfileURL:function(){return"//youtube.com/channel/"+this.get("snippet_channelId")},_parseDuration:function(){var t=i.duration(this.get("contentDetails_duration"));this.set("duration",t);var e=":"+r.padLeft(t.get("seconds"),2);e=t.get("hours")?t.get("hours")+":"+r.padLeft(t.get("minutes"),2)+e:t.get("minutes")+e,this.set("duration_pretty",e)}});return o}),define("massrel-js-backbone/lib/createStatus",["require","lodash","./FacebookStatusModel","./GooglePlusStatusModel","./InstagramStatusModel","./RSSStatusModel","./TwitterStatusModel","./YouTubeVideoStatusModel"],function(t){var e=t("lodash"),i=t("./FacebookStatusModel"),n=t("./GooglePlusStatusModel"),a=t("./InstagramStatusModel"),s=t("./RSSStatusModel"),r=t("./TwitterStatusModel"),o=t("./YouTubeVideoStatusModel"),l=e.reduce([i,n,a,s,r,o],function(t,e){return t[e.prototype.network]=e,t},{});return function(t,i){if(!(t&&t.network&&e.has(l,t.network))){var n=new TypeError("No constructor found for the given data");throw n.data=t,n}var a=l[t.network];return new a(t,i)}}),define("massrel-js-backbone/lib/StreamPoller",["require","./backbone","q","lodash","./createStatus","massrel-js"],function(t){var e=t("./backbone"),i=t("q"),n=t("lodash"),a=t("./createStatus"),s=t("massrel-js"),r=e.Model.extend({defaults:{stream_name:"",polling:!1},initialize:function(){this._processors=[],this.poller=this._createPoller(),this.on("change:stream_name",this._updatePoller)},start:function(){return this.get("stream_name")&&(this.poller.start(),this.set("polling",!0)),this},stop:function(){return this.poller.stop(),this.set("polling",!1),this},more:function(){return this.trigger("more:loading"),this.poller.more(n.bind(this._handleMore,this)),this},process:function(t){if(!n.isFunction(t))throw new TypeError("`processorFunction` must be a function");return this._processors.push(t),this},_createPoller:function(){var t=new s.Stream(this.get("stream_name")),e=t.poller(this.toJSON());return e.data(n.once(n.bind(this._handleEmpty,this))),e.data(n.bind(this._handleBatch,this)),e},_updatePoller:function(){var t=this.get("polling");return this.poller.stop(),this.poller=this._createPoller(),this.trigger("poller:update"),t&&this.poller.start(),this},_processStatuses:function(t){var e=this,s=n(t).map(function(t){try{var i=a(t,e.toJSON());return e.trigger("status:pre-process",i),i}catch(n){e.trigger("error:invalid-status",n)}}).compact().map(function(t){var a=n.map(e._processors,function(e){var n=i.defer();return e.call(null,t,n),n.promise}),s=i.defer();return 0!==a.length?i.all(a).then(function(){e.trigger("status",t),s.resolve(t)}).fail(function(i){e.trigger("status:rejected",t,i),s.reject(i)}).done():(e.trigger("status",t),s.resolve(t)),s.promise}).value(),r=i.defer();return i.allSettled(s).done(function(t){var e=n(t).filter(function(t){return"fulfilled"===t.state}).pluck("value").value();r.resolve(e)}),r.promise},_handleData:function(t,e){if(this.trigger(e.raw,t),t&&0!==t.length){var i=this;this._processStatuses(t).done(function(t){i.trigger(e.processed,t)})}else this.trigger(e.empty);return this},_handleBatch:function(t){return this._handleData(t,{raw:"raw:batch",empty:"batch:empty",processed:"batch"}),this},_handleMore:function(t){return this._handleData(t,{raw:"raw:more",empty:"more:end",processed:"more"}),this},_handleEmpty:function(t){return t&&0!==t.length||this.trigger("empty"),this}});return r}),define("massrel-js-backbone/lib/ComparePoller",["require","./backbone"],function(t){var e=t("./backbone"),i="massrel-js";return e.Model.extend({defaults:function(){return{streams:[],frequency:20}},initialize:function(){var t=this.toJSON();this.compare=new i.Compare(t.streams),this.poller=this.compare.poller(t)},start:function(){var t=this;this.get("streams")&&this.get("streams").length>0&&(t.set("loading",!0),t.poller.data(function(e){t.set("data",e),t.set("loading",!1)}),t.poller.start())},stop:function(){this.poller.stop()}})}),define("massrel-js-backbone/lib/MetaPoller",["require","./backbone","massrel-js"],function(t){var e=t("./backbone"),i=t("massrel-js");return e.Model.extend({defaults:function(){return{stream_name:"",disregard:"",frequency:20,loading:!1,activity:{},count:{},networks:{}}},initialize:function(){var t=this,e=t.toJSON();t.stream=new i.Stream(e.stream_name),t.poller=t.stream.metaPoller(e)},start:function(){var t=this;this.get("stream_name")&&(t.set("loading",!0),t.poller.data(function(e){t.set(e),t.set("loading",!1)}),t.poller.start())},stop:function(){var t=this;t.poller.stop()}})}),define("massrel-js-backbone/lib/TopThingsPoller",["require","./backbone","lodash","massrel-js"],function(t){var e=t("./backbone"),i=t("lodash"),n=t("massrel-js");return e.Model.extend({defaults:function(){return{stream_name:"",networks:1,frequency:20,resolution:"1h",start:"-1h",finish:"",thing:"",limit:50,loading:!1,data:{}}},start:function(){if(this.stop(),this.get("stream_name")){var t=i.pick(this.toJSON(),["tweet_mode","thing","resolution","start","finish","limit","stream_name"]);this.stream=new n.Stream(t.stream_name),this.poller=this.stream.topThingsPoller(t),this.set("loading",!0),this.poller.data(i.bind(function(t){this.set("data",t),this.set("loading",!1)},this)),this.poller.start()}},stop:function(){this.poller&&this.poller.stop()}})}),define("massrel-js-backbone/lib/processors",["require","./util","lodash"],function(t){var e=t("./util"),i=t("lodash"),n=function(t,i,n,a){t.once("media-fetch",function(){var s=t.get("media").at(0);s&&"photo"===s.get("type")?e.loadImage(s.get("url"),a).then(function(){i.resolve()}).fail(function(t){i.reject(t)}).done():n?i.resolve():i.reject(new Error("No media or non-photo as first media item"))}),t.fetchMedia()},a=function(t){return function(i,n){var a=i.get("additional_classes");a+=" status-style-"+t,i.set("additional_classes",e.trim(a).replace(/\s+/g," ")),n.resolve()}},s=function(t){return function(i,n){var a,s=i.get("additional_classes");a=t?new RegExp("(^|\\s+)status-style-"+t+"\\b","g"):/(^|\s+)status-style-[A-Za-z0-9-]+\b/g,s=s.replace(a,""),i.set("additional_classes",e.trim(s).replace(/\s+/g," ")),n.resolve()}},r=function(t,e){t.once("media-fetch",function(){t.get("media").each(function(t){t.set("autoplay",!0)})}),e.resolve()},o=function(t,e){t.once("media-fetch error:media-fetch",function(){e.resolve()}),t.fetchMedia()},l=function(t,i,n){t.once("media-fetch",function(){var a=t.get("media").at(0);if(a){var s;"photo"===a.get("type")?s=a.get("url"):a.get("thumbnail_url")&&(s=a.get("thumbnail_url")),e.loadImage(s,n).fin(function(){i.resolve()}).done()}else i.resolve()}),t.fetchMedia()},u=function(t,e){t.once("media-fetch",function(){t.get("media").each(function(t){t.set("loop_video",!0)})}),e.resolve()},d=function(t){return function(e,n){e.once("media-fetch",function(){var a=e.get("media").filter(function(e){return!i.contains(t,e.get("type"))});e.get("media").remove(a),n.resolve()}),e.fetchMedia()}},c=function(t,e){t.once("media-fetch",function(){t.get("media").length>0?e.resolve():e.reject(new Error("Status has no media."))}),t.fetchMedia()},p=function(t,e){t.once("media-fetch",function(){t.get("media").length>0?"video"===t.get("media").at(0).get("type")||"photo"===t.get("media").at(0).get("type")?e.resolve():e.reject(new Error("Media is not of type photo or video")):e.reject(new Error("Status has no media."))}),t.fetchMedia()},h=function(t,e){0===t._getMediaFetchURLs().length&&0===t._getMediaExisting().length?e.resolve():e.reject(new Error("Status has media."))},m=function(t,e){var i=t.getText()||"";i.replace(/^\s+|\s+$/g,"")?e.resolve():e.reject(new Error("Status has no non-whitespace text"))},f=function(t,e,i){return n(t,e,!1,i)},_=function(t,e,i){return n(t,e,!0,i)};return{addStyleClass:a,autoplayMedia:r,fetchMedia:o,loopVideoMedia:u,preloadImage:l,removeStyleClass:s,removeMediaIfNotType:d,rejectIfNoMedia:c,rejectIfMediaNotPhotoOrVideo:p,rejectIfMedia:h,rejectIfNoText:m,allowOnlyValidPhoto:f,rejectIfInvalidPhoto:_}}),define("massrel-js-backbone/main",["require","./lib/StreamPoller","./lib/ComparePoller","./lib/MetaPoller","./lib/TopThingsPoller","./lib/StatusModel","./lib/TwitterStatusModel","./lib/FacebookStatusModel","./lib/GooglePlusStatusModel","./lib/InstagramStatusModel","./lib/RSSStatusModel","./lib/processors","./lib/MediaCollection","./lib/MediaModel","./lib/createStatus","massrel-js"],function(t){var e=t("./lib/StreamPoller"),i=t("./lib/ComparePoller"),n=t("./lib/MetaPoller"),a=t("./lib/TopThingsPoller"),s=t("./lib/StatusModel"),r=t("./lib/TwitterStatusModel"),o=t("./lib/FacebookStatusModel"),l=t("./lib/GooglePlusStatusModel"),u=t("./lib/InstagramStatusModel"),d=t("./lib/RSSStatusModel"),c=t("./lib/processors"),p=t("./lib/MediaCollection"),h=t("./lib/MediaModel"),m=t("./lib/createStatus"),f=t("massrel-js");return{ComparePoller:i,MetaPoller:n,StreamPoller:e,TopThingsPoller:a,StatusModel:s,FacebookStatusModel:o,GooglePlusStatusModel:l,InstagramStatusModel:u,RSSStatusModel:d,TwitterStatusModel:r,MediaCollection:p,MediaModel:h,processors:c,createStatus:m,massrel:f}}),define("massrel-js-backbone",["massrel-js-backbone/main"],function(t){return t}),define("tmpl!media-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"photo"===type?(__p+="\n  ",__p+="\n  ",!load_gif&&!autoplay&&/\.gif($|\?)/gi.test(url)&&document.createElement("canvas").getContext?(__p+='\n  <div class="media-image media-gif" title="Click to Play"\n      ',__p+=width&&height?'\n      style="padding-bottom: '+__e(100*height/width)+'%"\n      ':'\n      style="padding-bottom: '+__e(56.25)+'%"\n      ',__p+='\n  >\n    <canvas width="'+__e(width)+'" height="'+__e(height)+'"></canvas>\n  </div>\n  '):(__p+='\n  <div class="media-image" style="background-image: url('+__e(url)+')">\n    <img src="'+__e(url)+'"\n        alt="'+__e((title+" "+description).replace(/^\s+|\s+$/g,""))+'"\n    />\n    <div class="media-attribution">\n      <div class="media-attribution-author">\n        <a class="media-attribution-link"\n          href="'+__e(author_url)+'"\n          title="'+__e(author_name)+'"\n          target="_blank"\n        >',formatted_author_name&&(__p+="\n        "+(null==(__t=formatted_author_name)?"":__t)+"\n        "),__p+='\n        </a>\n      </div>\n      <a class="media-attribution-logo-link" href="'+__e(link)+'">\n        <div class="media-attribution-logo">\n          ',provider_icon_class&&(__p+='\n          <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n          '),__p+="\n        </div>\n      </a>\n    </div>\n  </div>\n  "),__p+="\n"):"video"===type?(__p+='\n  <div class="media-image media-video-thumbnail"\n      style="background-image: url('+__e(thumbnail_url)+')"\n      title="Click to Play"\n  >\n    ',__p+="\n    ",provider.facebook?(__p+='\n      <div class="media-video-sizer"\n        ',__p+=0!==height*width?'\n        style="padding-bottom: '+__e(100*(height/width))+'%"\n        ':'\n        style="padding-bottom: '+__e(56.25)+'%"\n        ',__p+='>\n        <img src="'+__e(thumbnail_url)+'"\n              alt="'+__e((title+" "+description).replace(/^\s+|\s+$/g,""))+'"\n      </div>\n    '):(__p+="\n      ",thumbnail_url?__p+='\n      <img src="'+__e(thumbnail_url)+'"\n          alt="'+__e((title+" "+description).replace(/^\s+|\s+$/g,""))+'"\n      />\n      ':(__p+='\n      <div class="media-video-sizer"\n        ',__p+=0!==height*width?'\n        style="padding-bottom: '+__e(100*(height/width))+'%"\n        ':'\n        style="padding-bottom: '+__e(56.25)+'%"\n        ',__p+="\n      ></div>\n      "),__p+="\n    "),__p+='\n\n    <div class="media-attribution">\n      <div class="media-attribution-author">\n        <a class="media-attribution-link"\n          href="'+__e(author_url)+'"\n          title="'+__e(author_name)+'"\n          target="_blank"\n        >',formatted_author_name&&(__p+="\n        "+(null==(__t=formatted_author_name)?"":__t)+"\n        "),__p+='\n        </a>\n      </div>\n      <a class="media-attribution-logo-link" href="'+__e(link)+'">\n        <div class="media-attribution-logo">\n          ',provider_icon_class&&(__p+='\n          <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n          '),__p+="\n        </div>\n      </a>\n    </div>\n\n    ",(autoplay||load_video_html)&&(__p+='\n      <div class="video-embed-wrapper"\n        ',0!==height*width&&(__p+='\n          style="padding-top: '+__e(100*(height/width))+'%"\n        '),__p+=">\n        "+(null==(__t=html)?"":__t)+"\n      </div>\n    "),__p+="\n  </div>\n"):"rich"===type?__p+="\n  "+(null==(__t=html)?"":__t)+"\n":"link"===type&&(__p+="\n  ",url&&(__p+='\n  <a class="media-url" href="'+__e(url)+'" target="_blank">\n  '),__p+="\n\n  ",thumbnail_url?__p+='\n  <div class="media-image" style="background-image: url('+__e(thumbnail_url)+')">\n    <img src="'+__e(thumbnail_url)+'"\n        alt="'+__e((title+" "+description).replace(/^\s+|\s+$/g,""))+'"\n    />\n  </div>\n  ':(__p+="\n  <p>",print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+="</p>\n  "),__p+="\n\n  ",url&&(__p+="\n  </a>\n  "),__p+="\n"),__p+="\n";return __p},metadata:{customizable:!0},name:"media-2"})}),define("components/status-2/views/MediaView",["require","q","lodash","jquery","lib/views/BaseView","tmpl!media-2"],function(t){var e=t("q"),i=t("lodash"),n=t("jquery"),a=t("lib/views/BaseView"),s=t("tmpl!media-2"),r=window.addEventListener||function(t,e){window.attachEvent("on"+t,e)},o=window.removeEventListener||function(t,e){window.detachEvent("on"+t,e)},l="loaded",u="loading",d=a.extend({className:"media",template:s,_videoEventListener:null,_frameLoadListener:null,_videoCommandQueue:[],$canvas:null,$video:null,displayOptions:{mediaHandleClickEvent:!0,mediaLoadVideoHtml:!1},_load_video_html:!1,_load_gif:!1,events:{"click .media-video-thumbnail":"handleVideoThumbnailClick","click .media-gif":"handleGIFClick"},initialize:function(t){this.listenTo(this.model,{"change:load_video_html":this._modelEvents,"change:load_gif":this._modelEvents,"change:autoplay":this.render}),this.displayOptions=i.extend(i.clone(this.displayOptions),t.parent.displayOptions||{}),"video"===this.model.get("type")&&this._listenForVideoEvents(),this._syncLocalModelVars(),this.on("media-pause",this.pause)},_loadImage:function(){var t=new Image,n=e.defer();return t.onload=function(){n.resolve(t)},t.onerror=i.bind(function(){var e=new Error("URL '"+this.model.get("url")+"' failed to load");e.image=t,n.reject(e)},this),t.src=this.model.get("url"),n.promise},_listenForVideoEvents:function(){return o("message",this._videoEventListener),this._videoEventListener=i.bind(function(t){var e=t.data;if(i.isString(e))try{e=JSON.parse(e)}catch(n){}if(e&&"player.js"===e.context&&this.$video&&this.$video.length>0){var a=e.value&&i.isString(e.value.src)&&(this.$video.attr("src")===e.value.src.replace(/^https?:/i,"")||this.$video.attr("src")===e.value.src),s=e.listener&&e.listener===this.cid;(a||s)&&this._handleVideoEvent(e)}},this),r("message",this._videoEventListener),this},_handleVideoEvent:function(t){if("ready"===t.event&&i.isArray(this._videoCommandQueue)){var e=this._videoCommandQueue;this._videoCommandQueue=null;for(var n=0,a=e.length;a>n;n++)this._callVideoMethod.apply(this,e[n]);this._callVideoMethod("addEventListener","error"),this._callVideoMethod("addEventListener","timeupdate"),this._callVideoMethod("addEventListener","ended")}else if("error"===t.event&&window.console&&window.console.error){var s="player.js error for "+this.$video.attr("src");window.console.error(s,i.extend({cid:this.cid},t.value))}else this.trigger("player-"+t.event,t);return this},_callVideoMethod:function(t,e){if(i.isArray(this._videoCommandQueue))this._videoCommandQueue.push(i.toArray(arguments));else{var a={context:"player.js",version:"0.0.10",listener:this.cid,method:t,value:e},s=n("html").hasClass("touch");s&&this.model.get("provider").youtube||this.$video[0].contentWindow.postMessage(JSON.stringify(a),"*")}return this},_flagLoading:function(){return this.$el.addClass(u).removeClass(l),this},_flagLoaded:function(){return this.$el.removeClass(u).addClass(l),this},_removeLoadFlags:function(){return this.$el.removeClass(u).removeClass(l),this},_modelEvents:function(){return this._syncLocalModelVars(),this.render(),this},_syncLocalModelVars:function(){return this._load_video_html=this.model.get("load_video_html")||this.displayOptions.mediaLoadVideoHtml,this._load_gif=this.model.get("load_gif"),this},toggleMediaTypeClass:function(){return this.$el.addClass("media-"+this.model.get("type")),this.$el.addClass("media-"+this.model.get("provider_name")),this},handleVideoThumbnailClick:function(t){if(!this.displayOptions.mediaHandleClickEvent)return this;var e=n(t.target);return e.closest(".media-attribution-link, .media-attribution-logo-link").length?this:(this._flagLoading(),this._callVideoMethod("play"),this._load_video_html=!0,this.render(),this)},handleGIFClick:function(){return this.displayOptions.mediaHandleClickEvent?(this._load_gif=!this._load_gif,this.render(),this):this},renderStaticGIF:function(){return this.$canvas&&this.$canvas.length>0&&(this._flagLoading(),this._loadImage().then(i.bind(function(t){var e=this.$canvas[0],i=e.width=t.width,n=e.height=t.height;e.getContext("2d").drawImage(t,0,0,i,n),this._flagLoaded()},this))),this},prepareModel:function(){var t=a.prototype.prepareModel.apply(this,arguments);return t.load_video_html=this._load_video_html,t.load_gif=this._load_gif,t},render:function(){return a.prototype.render.apply(this,arguments),this.toggleMediaTypeClass(),this.$video=this.$("iframe:first"),this.$canvas=this.$("canvas:first"),this._removeLoadFlags(),this.$video&&this.$video.length>0&&(this._flagLoading(),this.$video.ready(i.bind(this._flagLoaded,this))),this.model.get("loop_video")&&this._callVideoMethod("setLoop",!0),this.model.get("autoplay")&&this._callVideoMethod("play"),this.model.get("start_muted")&&this._callVideoMethod("mute"),this.renderStaticGIF(),this},pause:function(){this._callVideoMethod("pause")},play:function(t){t&&this._callVideoMethod("setCurrentTime",0),this._callVideoMethod("play")},unmute:function(){this._callVideoMethod("unmute")},notifyWhenFinished:function(t,e){var n=this,a=i.extend({maxTime:0,minTime:0},t),s=!1,r=0,o=0,l=function(){s||(e(),s=!0,n.off("player-timeupdate",u),n.off("player-ended",d))},u=function(t){r=t.value.duration,t.value.seconds+r*o>=a.maxTime&&l()},d=function(){o++,r*o>=a.maxTime?l():!this.model.get("loop_video")&&!s&&r*o<a.minTime&&setTimeout(function(){l()},1e3*(a.minTime-r*o))};a.maxTime&&(this.on("player-timeupdate",u),this.on("player-ended",d))},remove:function(){return o("message",this._videoEventListener),this._videoEventListener=null,this._frameLoadListener&&(this.$video.off("load",this._frameLoadListener),this._frameLoadListener=null),this}});return d}),function(t,e){function i(t){return function(){var e={method:t},i=Array.prototype.slice.call(arguments);/^get/.test(t)?(n.assert(i.length>0,"Get methods require a callback."),i.unshift(e)):(/^set/.test(t)&&(n.assert(0!==i.length,"Set methods require a value."),e.value=i[0]),i=[e]),this.send.apply(this,i)}}var n={};n.DEBUG=!1,n.VERSION="0.0.11",n.CONTEXT="player.js",n.POST_MESSAGE=!!t.postMessage,n.origin=function(e){return"//"===e.substr(0,2)&&(e=t.location.protocol+e),e.split("/").slice(0,3).join("/")},n.addEvent=function(t,e,i){t&&(t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i)},n.log=function(){n.log.history=n.log.history||[],n.log.history.push(arguments),t.console&&n.DEBUG&&t.console.log(Array.prototype.slice.call(arguments))},n.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},n.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.isNone=function(t){return null===t||void 0===t},n.has=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.indexOf=function(t,e){if(null==t)return-1;var i=0,n=t.length;if(Array.prototype.IndexOf&&t.indexOf===Array.prototype.IndexOf)return t.indexOf(e);for(;n>i;i++)if(t[i]===e)return i;return-1},n.assert=function(t,e){if(!t)throw e||"Player.js Assert Failed"},n.Keeper=function(){this.init()},n.Keeper.prototype.init=function(){this.data={}},n.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random(),i="x"===t?e:8|3&e;return i.toString(16)})},n.Keeper.prototype.has=function(t,e){if(!this.data.hasOwnProperty(t))return!1;if(n.isNone(e))return!0;for(var i=this.data[t],a=0;a<i.length;a++)if(i[a].id===e)return!0;return!1},n.Keeper.prototype.add=function(t,e,i,n,a){var s={id:t,event:e,cb:i,ctx:n,one:a};this.has(e)?this.data[e].push(s):this.data[e]=[s]},n.Keeper.prototype.execute=function(t,e,i,a){if(!this.has(t,e))return!1;for(var s=[],r=[],o=0;o<this.data[t].length;o++){var l=this.data[t][o];n.isNone(e)||!n.isNone(e)&&l.id===e?(r.push({cb:l.cb,ctx:l.ctx?l.ctx:a,data:i}),l.one===!1&&s.push(l)):s.push(l)}0===s.length?delete this.data[t]:this.data[t]=s;for(var u=0;u<r.length;u++){var d=r[u];d.cb.call(d.ctx,d.data)}},n.Keeper.prototype.on=function(t,e,i,n){this.add(t,e,i,n,!1)},n.Keeper.prototype.one=function(t,e,i,n){this.add(t,e,i,n,!0)},n.Keeper.prototype.off=function(t,e){var i=[];if(!this.data.hasOwnProperty(t))return i;for(var a=[],s=0;s<this.data[t].length;s++){var r=this.data[t][s];n.isNone(e)||r.cb===e?n.isNone(r.id)||i.push(r.id):a.push(r)}return 0===a.length?delete this.data[t]:this.data[t]=a,i},n.Player=function(t,e){return this instanceof n.Player?(this.init(t,e),void 0):new n.Player(t,e)},n.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},n.EVENTS.all=function(){var t=[];for(var e in n.EVENTS)n.has(n.EVENTS,e)&&n.isString(n.EVENTS[e])&&t.push(n.EVENTS[e]);return t},n.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},n.METHODS.all=function(){var t=[];for(var e in n.METHODS)n.has(n.METHODS,e)&&n.isString(n.METHODS[e])&&t.push(n.METHODS[e]);return t},n.READIED=[],n.Player.prototype.init=function(i){var a=this;n.isString(i)&&(i=e.getElementById(i)),this.elem=i,this.origin=n.origin(i.src),this.keeper=new n.Keeper,this.isReady=!1,this.queue=[],this.events=n.EVENTS.all(),this.methods=n.METHODS.all(),n.POST_MESSAGE?n.addEvent(t,"message",function(t){a.receive(t)}):n.log("Post Message is not Available."),n.indexOf(n.READIED,i.src)>-1?a.loaded=!0:this.elem.onload=function(){a.loaded=!0}},n.Player.prototype.send=function(t,e,i){if(t.context=n.CONTEXT,t.version=n.VERSION,e){var a=this.keeper.getUUID();t.listener=a,this.keeper.one(a,t.method,e,i)}return this.isReady||"ready"===t.value?(n.log("Player.send",t,this.origin),this.loaded===!0&&this.elem.contentWindow.postMessage(JSON.stringify(t),this.origin),!0):(n.log("Player.queue",t),this.queue.push(t),!1)},n.Player.prototype.receive=function(t){if(n.log("Player.receive",t),t.origin!==this.origin)return!1;var e;try{e=JSON.parse(t.data)}catch(i){return!1}return e.context!==n.CONTEXT?!1:("ready"===e.event&&e.value&&e.value.src===this.elem.src&&this.ready(e),this.keeper.has(e.event,e.listener)&&this.keeper.execute(e.event,e.listener,e.value,this),void 0)},n.Player.prototype.ready=function(t){if(this.isReady===!0)return!1;t.value.events&&(this.events=t.value.events),t.value.methods&&(this.methods=t.value.methods),this.isReady=!0,this.loaded=!0;for(var e=0;e<this.queue.length;e++){var i=this.queue[e];n.log("Player.dequeue",i),"ready"===t.event&&this.keeper.execute(i.event,i.listener,!0,this),this.send(i)}this.queue=[]},n.Player.prototype.on=function(t,e,i){var n=this.keeper.getUUID();return"ready"===t?this.keeper.one(n,t,e,i):this.keeper.on(n,t,e,i),this.send({method:"addEventListener",value:t,listener:n}),!0},n.Player.prototype.off=function(t,e){var i=this.keeper.off(t,e);if(n.log("Player.off",i),i.length>0)for(var a in i)return this.send({method:"removeEventListener",value:t,listener:i[a]}),!0;return!1},n.Player.prototype.supports=function(t,e){n.assert(n.indexOf(["method","event"],t)>-1,'evtOrMethod needs to be either "event" or "method" got '+t),e=n.isArray(e)?e:[e];for(var i="event"===t?this.events:this.methods,a=0;a<e.length;a++)if(-1===n.indexOf(i,e[a]))return!1;return!0};for(var a=0,s=n.METHODS.all().length;s>a;a++){var r=n.METHODS.all()[a];n.Player.prototype.hasOwnProperty(r)||(n.Player.prototype[r]=i(r))}t.playerjs=n,n.addEvent(t,"message",function(t){var e;try{e=JSON.parse(t.data)}catch(i){return!1}return e.context!==n.CONTEXT?!1:("ready"===e.event&&e.value&&e.value.src&&n.READIED.push(e.value.src),void 0)}),n.Receiver=function(t,e){this.init(t,e)},n.Receiver.prototype.init=function(i,a){var s=this;this.isReady=!1,this.origin=n.origin(e.referrer),this.methods={},this.supported={events:i?i:n.EVENTS.all(),methods:a?a:n.METHODS.all()},this.eventListeners={},this.reject=!(t.self!==t.top&&n.POST_MESSAGE),this.reject||n.addEvent(t,"message",function(t){s.receive(t)})},n.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var i={};if(n.isObject(e.data))i=e.data;else try{i=t.JSON.parse(e.data)}catch(a){n.log("JSON Parse Error",a)}if(n.log("Receiver.receive",e,i),!i.method)return!1;if(i.context!==n.CONTEXT)return!1;if(-1===n.indexOf(n.METHODS.all(),i.method))return this.emit("error",{code:2,msg:'Invalid Method "'+i.method+'"'}),!1;var s=n.isNone(i.listener)?null:i.listener;if("addEventListener"===i.method)this.eventListeners.hasOwnProperty(i.value)?-1===n.indexOf(this.eventListeners[i.value],s)&&this.eventListeners[i.value].push(s):this.eventListeners[i.value]=[s],"ready"===i.value&&this.isReady&&this.ready();else if("removeEventListener"===i.method){if(this.eventListeners.hasOwnProperty(i.value)){var r=n.indexOf(this.eventListeners[i.value],s);r>-1&&this.eventListeners[i.value].splice(r,1),0===this.eventListeners[i.value].length&&delete this.eventListeners[i.value]}}else this.get(i.method,i.value,s)},n.Receiver.prototype.get=function(t,e,i){var n=this;if(!this.methods.hasOwnProperty(t))return this.emit("error",{code:3,msg:'Method Not Supported"'+t+'"'}),!1;var a=this.methods[t];if("get"===t.substr(0,3)){var s=function(e){n.send(t,e,i)};a.call(this,s)}else a.call(this,e)},n.Receiver.prototype.on=function(t,e){this.methods[t]=e},n.Receiver.prototype.send=function(e,i,a){if(n.log("Receiver.send",e,i,a),this.reject)return n.log("Receiver.send.reject",e,i,a),!1;var s={context:n.CONTEXT,version:n.VERSION,event:e};n.isNone(i)||(s.value=i),n.isNone(a)||(s.listener=a);var r=JSON.stringify(s);t.parent.postMessage(r,""===this.origin?"*":this.origin)},n.Receiver.prototype.emit=function(t,e){if(!this.eventListeners.hasOwnProperty(t))return!1;n.log("Instance.emit",t,e,this.eventListeners[t]);for(var i=0;i<this.eventListeners[t].length;i++){var a=this.eventListeners[t][i];this.send(t,e,a)}return!0},n.Receiver.prototype.ready=function(){n.log("Receiver.ready"),this.isReady=!0;var e={src:t.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},n.HTML5Adapter=function(t){return this instanceof n.HTML5Adapter?(this.init(t),void 0):new n.HTML5Adapter(t)},n.HTML5Adapter.prototype.init=function(t){n.assert(t,"playerjs.VideoJSReceiver requires a video element");var e=this.receiver=new n.Receiver;t.addEventListener("playing",function(){e.emit("play")}),t.addEventListener("pause",function(){e.emit("pause")}),t.addEventListener("ended",function(){e.emit("ended")}),t.addEventListener("timeupdate",function(){e.emit("timeupdate",{seconds:t.currentTime,duration:t.duration})}),t.addEventListener("progress",function(){e.emit("buffered",{percent:t.buffered.length})}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getPaused",function(e){e(t.paused)}),e.on("getCurrentTime",function(e){e(t.currentTime)}),e.on("setCurrentTime",function(e){t.currentTime=e}),e.on("getDuration",function(e){e(t.duration)}),e.on("getVolume",function(e){e(100*t.volume)}),e.on("setVolume",function(e){t.volume=e/100
}),e.on("mute",function(){t.muted=!0}),e.on("unmute",function(){t.muted=!1}),e.on("getMuted",function(e){e(t.muted)}),e.on("getLoop",function(e){e(t.loop)}),e.on("setLoop",function(e){t.loop=e})},n.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},n.JWPlayerAdapter=function(t){return this instanceof n.JWPlayerAdapter?(this.init(t),void 0):new n.JWPlayerAdapter(t)},n.JWPlayerAdapter.prototype.init=function(t){n.assert(t,"playerjs.JWPlayerAdapter requires a player object");var e=this.receiver=new n.Receiver;this.looped=!1,t.onPause(function(){e.emit("pause")}),t.onPlay(function(){e.emit("play")}),t.onTime(function(t){var i=t.position,n=t.duration;if(!i||!n)return!1;var a={seconds:i,duration:n};e.emit("timeupdate",a)});var i=this;t.onComplete(function(){i.looped===!0?t.seek(0):e.emit("ended")}),t.onError(function(){e.emit("error")}),e.on("play",function(){t.play(!0)}),e.on("pause",function(){t.pause(!0)}),e.on("getPaused",function(e){e("PLAYING"!==t.getState())}),e.on("getCurrentTime",function(e){e(t.getPosition())}),e.on("setCurrentTime",function(e){t.seek(e)}),e.on("getDuration",function(e){e(t.getDuration())}),e.on("getVolume",function(e){e(t.getVolume())}),e.on("setVolume",function(e){t.setVolume(e)}),e.on("mute",function(){t.setMute(!0)}),e.on("unmute",function(){t.setMute(!1)}),e.on("getMuted",function(e){e(t.getMute()===!0)}),e.on("getLoop",function(t){t(this.looped)},this),e.on("setLoop",function(t){this.looped=t},this)},n.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},n.MockAdapter=function(){return this instanceof n.MockAdapter?(this.init(),void 0):new n.MockAdapter},n.MockAdapter.prototype.init=function(){var t={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){t.interval=setInterval(function(){t.currentTime+=.25,t.timeupdate({seconds:t.currentTime,duration:t.duration})},250),t.playing=!0},pause:function(){clearInterval(t.interval),t.playing=!1}},e=this.receiver=new n.Receiver;e.on("play",function(){var e=this;t.play(),this.emit("play"),t.timeupdate=function(t){e.emit("timeupdate",t)}}),e.on("pause",function(){t.pause(),this.emit("pause")}),e.on("getPaused",function(e){e(!t.playing)}),e.on("getCurrentTime",function(e){e(t.currentTime)}),e.on("setCurrentTime",function(e){t.currentTime=e}),e.on("getDuration",function(e){e(t.duration)}),e.on("getVolume",function(e){e(t.volume)}),e.on("setVolume",function(e){t.volume=e}),e.on("mute",function(){t.mute=!0}),e.on("unmute",function(){t.mute=!1}),e.on("getMuted",function(e){e(t.mute)}),e.on("getLoop",function(e){e(t.loop)}),e.on("setLoop",function(e){t.loop=e})},n.MockAdapter.prototype.ready=function(){this.receiver.ready()},n.SublimeAdapter=function(t){return this instanceof n.SublimeAdapter?(this.init(t),void 0):new n.SublimeAdapter(t)},n.SublimeAdapter.prototype.events=[n.EVENTS.READY,n.EVENTS.PLAY,n.EVENTS.PAUSE,n.EVENTS.ENDED,n.EVENTS.TIMEUPDATE,n.EVENTS.ERROR],n.SublimeAdapter.prototype.methods=[n.METHODS.PLAY,n.METHODS.PAUSE,n.METHODS.GETDURATION,n.METHODS.SETCURRENTTIME,n.METHODS.GETCURRENTTIME,n.METHODS.REMOVEEVENTLISTENER,n.METHODS.ADDEVENTLISTENER],n.SublimeAdapter.prototype.init=function(t){n.assert(t,"playerjs.SublimeAdapter requires a player object");var e=this.receiver=new n.Receiver(this.events,this.methods);t.on("pause",function(){e.emit("pause")}),t.on("play",function(){e.emit("play")}),t.on("timeUpdate",function(t,i){var n=t.duration();if(!i||!n)return!1;var a={seconds:i,duration:n};e.emit("timeupdate",a)}),t.on("end",function(){e.emit("ended")}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getCurrentTime",function(e){e(t.playbackTime())}),e.on("setCurrentTime",function(e){t.seekTo(e)}),e.on("getDuration",function(e){e(t.duration())})},n.SublimeAdapter.prototype.ready=function(){this.receiver.ready()},n.VideoJSAdapter=function(t){return this instanceof n.VideoJSAdapter?(this.init(t),void 0):new n.VideoJSAdapter(t)},n.VideoJSAdapter.prototype.init=function(t){n.assert(t,"playerjs.VideoJSReceiver requires a player object");var e=this.receiver=new n.Receiver;t.on("pause",function(){e.emit("pause")}),t.on("play",function(){e.emit("play")}),t.on("timeupdate",function(){var i=t.currentTime(),n=t.duration();if(!i||!n)return!1;var a={seconds:i,duration:n};e.emit("timeupdate",a)}),t.on("ended",function(){e.emit("ended")}),t.on("error",function(){e.emit("error")}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getPaused",function(e){e(t.paused())}),e.on("getCurrentTime",function(e){e(t.currentTime())}),e.on("setCurrentTime",function(e){t.currentTime(e)}),e.on("getDuration",function(e){e(t.duration())}),e.on("getVolume",function(e){e(100*t.volume())}),e.on("setVolume",function(e){t.volume(e/100)}),e.on("mute",function(){t.volume(0)}),e.on("unmute",function(){t.volume(1)}),e.on("getMuted",function(e){e(0===t.volume())}),e.on("getLoop",function(e){e(t.loop())}),e.on("setLoop",function(e){t.loop(e)})},n.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()}}(window,document),define("playerjs",["playerjs/player-0.0.11"],function(t){return t}),define("playerjs/player-0.0.11",function(){}),define("lib/player/YTPlayer",["require","lodash"],function(t){var e=t("lodash"),i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf8",n.async=!0,n.src="//www.youtube.com/iframe_api",i.appendChild(n);var a=[],s=!1;return window.onYouTubeIframeAPIReady=function(){s=!0,e.forEach(a,function(t){t(window.YT)})},{ready:function(t){s?t(window.YT):a.push(t)}}}),define("lib/player/YoutubePlayer",["require","./YTPlayer","lodash"],function(t){var e=t("./YTPlayer"),i=t("lodash"),n=function(t){return this instanceof n?(this.instance=t,this.queue=[],void 0):new n(t)};n.prototype.setup=function(t,e){var n=this;this.instance[t]=function(){n._ready?e.apply(n.instance,arguments):n.queue.push({method:t,args:arguments})},this.instance.on=i.bind(this.bind,this),this.instance.off=i.bind(this.unbind,this)},n.prototype.ready=function(){var t=this;this._ready=!0,i.forEach(this.queue,function(e){t.instance[e.method].apply(t.instance,e.args)})},n.prototype.bind=function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},n.prototype.unbind=function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},n.prototype.emit=function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))};var a=function(t){var i=this;return this instanceof a?(this.video=t,this.init(t),e.ready(function(t){i.YT=t,i.ready()}),void 0):new a(t)};return a.prototype.init=function(){var t=this,e=this.receiver=n(this);e.setup("play",function(){t.player.playVideo()}),e.setup("pause",function(){t.player.pauseVideo()}),e.setup("getPaused",function(e){e(t.player.getPlayerState()===t.YT.PlayerState.PAUSED)}),e.setup("getCurrentTime",function(e){e(t.player.getCurrentTime())}),e.setup("setCurrentTime",function(e){t.player.seekTo(e,!0)}),e.setup("getDuration",function(e){e(t.player.getDuration())}),e.setup("getVolume",function(e){e(t.player.getVolume())}),e.setup("setVolume",function(e){t.player.setVolume(e)}),e.setup("mute",function(){t.player.mute()}),e.setup("unmute",function(){t.player.unMute()}),e.setup("getMuted",function(e){e(t.player.isMuted())}),e.setup("getLoop",function(e){e(t._internalLoopStatus)}),e.setup("setLoop",function(e){t._internalLoopStatus=e,t.player.setLoop(e)})},a.prototype.ready=function(){var t=this;this.player=new this.YT.Player(this.video,{events:{onStateChange:function(e){e.data===t.YT.PlayerState.ENDED?t.receiver.emit("ended"):e.data===t.YT.PlayerState.PLAYING?t.receiver.emit("play"):e.data===t.YT.PlayerState.PAUSED&&t.receiver.emit("pause")},onError:function(){t.receiver.emit("error")}}}),this.receiver.ready()},a}),define("lib/player/Player",["require","playerjs","./YoutubePlayer"],function(t){t("playerjs");var e=t("./YoutubePlayer");return function(t){return t.is("iframe")?/youtube.com/.test(t.attr("src"))&&!/embedly.com/.test(t.attr("src"))?new e(t.get(0)):new window.playerjs.Player(t.get(0)):void 0}}),define("components/status-2/views/PlayerJSMediaView",["require","q","lodash","jquery","lib/views/BaseView","lib/player/Player","tmpl!media-2"],function(t){var e=t("q"),i=t("lodash"),n=t("jquery"),a=t("lib/views/BaseView"),s=t("lib/player/Player"),r=t("tmpl!media-2"),o="loaded",l="loading",u=a.extend({className:"media",template:r,_frameLoadListener:null,$canvas:null,$video:null,player:null,displayOptions:{mediaHandleClickEvent:!0,mediaLoadVideoHtml:!1},_load_video_html:!1,_load_gif:!1,events:{"click .media-video-thumbnail":"handleVideoThumbnailClick","click .media-gif":"handleGIFClick"},initialize:function(t){this.listenTo(this.model,{"change:load_video_html":this._modelEvents,"change:load_gif":this._modelEvents,"change:autoplay":this.render}),this.displayOptions=i.extend(i.clone(this.displayOptions),t.parent.displayOptions||{}),this._syncLocalModelVars(),this.on("media-pause",this.pause)},_loadImage:function(){var t=new Image,n=e.defer();return t.onload=function(){n.resolve(t)},t.onerror=i.bind(function(){var e=new Error("URL '"+this.model.get("url")+"' failed to load");e.image=t,n.reject(e)},this),t.src=this.model.get("url"),n.promise},_flagLoading:function(){return this.$el.addClass(l).removeClass(o),this},_flagLoaded:function(){return this.$el.removeClass(l).addClass(o),this._setupPlayer(),this},_removeLoadFlags:function(){return this.$el.removeClass(l).removeClass(o),this},_modelEvents:function(){return this._syncLocalModelVars(),this.render(),this},_syncLocalModelVars:function(){return this._load_video_html=this.model.get("load_video_html")||this.displayOptions.mediaLoadVideoHtml,this._load_gif=this.model.get("load_gif"),this},_setupPlayer:function(){this.player=s(this.$video),this.player&&(this.model.get("loop_video")&&this.player.loop(!0),this.model.get("autoplay")&&this.player.play(),this.model.get("start_muted")&&this.player.mute())},toggleMediaTypeClass:function(){return this.$el.addClass("media-"+this.model.get("type")),this.$el.addClass("media-"+this.model.get("provider_name")),this},handleFacebookEmbed:function(){var t=this;setTimeout(function(){if(t.$el.find(".fb-post").length){var e=t.$el.find(".media-video-thumbnail img");e.length&&t.$el.find(".fb-post").attr("data-width",e.width()+"px"),t.$el.find(".fb-post").attr("data-show-text","false"),t.$el.find(".fb-post").attr("data-autoplay","true"),FB.XFBML.parse(t.$el[0])}},100)},handleVideoThumbnailClick:function(t){if(!this.displayOptions.mediaHandleClickEvent)return this;var e=n(t.target);return e.closest(".media-attribution-link, .media-attribution-logo-link").length?this:(this._flagLoading(),this._load_video_html=!0,this.render(),this)},handleGIFClick:function(){return this.displayOptions.mediaHandleClickEvent?(this._load_gif=!this._load_gif,this.render(),this):this},renderStaticGIF:function(){return this.$canvas&&this.$canvas.length>0&&(this._flagLoading(),this._loadImage().then(i.bind(function(t){var e=this.$canvas[0],i=e.width=t.width,n=e.height=t.height;e.getContext("2d").drawImage(t,0,0,i,n),this._flagLoaded()},this))),this},prepareModel:function(){var t=a.prototype.prepareModel.apply(this,arguments);return t.load_video_html=this._load_video_html,t.load_gif=this._load_gif,t},render:function(){return a.prototype.render.apply(this,arguments),this.toggleMediaTypeClass(),this.$video=this.$("iframe:first"),this._setupPlayer(),this.$canvas=this.$("canvas:first"),this._removeLoadFlags(),this.$video&&this.$video.length>0&&(this._flagLoading(),this.$video.ready(i.bind(this._flagLoaded,this))),this.renderStaticGIF(),this._load_video_html&&this.handleFacebookEmbed(),this},pause:function(){this.player&&this.player.pause()},play:function(t){this.player&&(t&&this.player.setCurrentTime(0),this.player.play())},unmute:function(){this.player&&this.player.unmute()},notifyWhenFinished:function(t,e){if(!this.player)return!1;var n=this,a=i.extend({maxTime:0,minTime:0},t),s=!1,r=0,o=0,l=function(){s||(e(),s=!0,n.player.off("timeupdate",u),n.player.off("ended",d))},u=function(t){r=t.duration,t.seconds+r*o>=a.maxTime&&l()},d=function(){o++,r*o>=a.maxTime?l():n.model.get("loop_video")||s||(r*o<a.minTime?setTimeout(function(){l()},1e3*(a.minTime-r*o)):l())};return a.maxTime&&(this.player.on("timeupdate",u),setTimeout(l,1e3*a.maxTime)),this.player.on("ended",d),!0},remove:function(){return this._frameLoadListener&&(this.$video.off("load",this._frameLoadListener),this._frameLoadListener=null),this.player&&this.player.off(),this}});return u}),define("components/status-2/views/StatusView",["require","lib/views/BaseView","./MediaView","./PlayerJSMediaView","lib/analytics/main"],function(t){var e=t("lib/views/BaseView"),i=t("./MediaView"),n=t("./PlayerJSMediaView"),a=t("lib/analytics/main"),s=/\bstatus-has-media-[a-z0-9-_]+\b/gi,r=e.extend({network:null,className:"status",_oldAdditionalClasses:"",$timestamp:null,$avatar:null,subviews:{media:i,playerjsMedia:n},displayOptions:{additionalClasses:""},initialize:function(){e.prototype.initialize.apply(this,arguments),this.listenTo(this.model,{"change:additional_classes":this.renderAdditionalClasses,"change:formatted_date":this.renderTimestamp,"change:formatted_avatar_url":this.renderAvatar}),this.listenTo(this.model.get("media"),"sort reset add remove",this.render)},render:function(){return e.prototype.render.apply(this,arguments),this.$avatar=this.$(".status-avatar"),this.$timestamp=this.$(".status-timestamp"),this.renderAdditionalClasses(),this.renderAvatar(),this.renderEntityId(),this.renderNetwork(),this.renderMediaClasses(),this.renderTimestamp(),this.trackImpression(),this},renderAdditionalClasses:function(){this.$el.removeClass(this._oldAdditionalClasses);var t=[this.displayOptions.additionalClasses,this.model.get("additional_classes")].join(" ");return this._oldAdditionalClasses=t,this.$el.addClass(t),this},renderEntityId:function(){return this.$el.attr("data-entity-id",this.model.get("entity_id")),this},renderNetwork:function(){return this.$el.attr("data-network",this.network),this},renderTimestamp:function(){if(this.$timestamp&&this.$timestamp.length>0){var t=this.$timestamp.find(".formatted-timestamp");t.length?t.text(this.model.get("formatted_date")):this.$timestamp.text(this.model.get("formatted_date"))}return this},renderAvatar:function(){return this.$avatar&&this.$avatar.length>0&&this.$avatar.css("background-image","url("+this.model.get("formatted_avatar_url")+")"),this},renderMediaClasses:function(){var t=this.model.get("media"),e=t.length>0;this.$el.toggleClass("status-has-media",e);var i=this.$el.attr("class");return i=i.replace(s,""),e&&(i+=" status-has-media-"+t.at(0).get("type")),this.$el.attr("class",i.replace(/\s+/g," ")),this},trackImpression:function(){if(this.model&&this.model.attributes){var t=this.model.get("network"),e=this.model.get("entity_id");a.trackImpression({network:t,entityId:e})}}});return r}),define("tmpl!status-facebook-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("playerjsMedia",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header" title="'+__e(formatted_name)+'">\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    ',(intent_can_comment||intent_can_share)&&(__p+='\n    <div class="status-intents">\n      ',intent_can_comment&&(__p+='\n      <a class="status-intent status-intent-facebook-comment mr-action-click"\n        data-action="fb-comment"\n        href="'+__e(intent_url_comment)+'"\n        title="Add a Comment"\n        target="_blank"\n\n        data-app_id="'+__e(intent_app_id)+'"\n        data-post_id="'+__e(facebook_id)+'"\n        data-message="'+__e(formatted_text_full)+'"\n        data-post_type="',print(obj.type||obj.kind),__p+='"\n        data-author_id="'+__e(from_id)+'"\n        data-author="'+__e(from_name)+'"\n        data-permalink="'+__e(formatted_permalink)+'"\n        data-timestamp="'+__e(formatted_date_iso)+'"\n      ><i class="status-intent-icon icon-facebook-comment"></i><span class="status-intent-text">Comment</span></a>\n      '),__p+="\n\n      ",intent_can_share&&(__p+='\n      <a class="status-intent status-intent-facebook-share mr-action-click"\n        data-action="fb-share"\n        href="'+__e(intent_url_share)+'"\n        title="Share this"\n        target="_blank"\n\n        ',__p+='\n        data-link="',print("https:"+formatted_permalink),__p+='"\n        data-name="'+__e(formatted_text||formatted_permalink)+'"\n      ><i class="status-intent-icon icon-facebook-share"></i><span class="status-intent-text">Share</span></a>\n      '),__p+="\n    </div>\n    "),__p+='\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-facebook-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-facebook-2"})}),define("components/status-2/views/FacebookStatusView",["require","lodash","./StatusView","lib/facebookApi","tmpl!status-facebook-2"],function(t){var e=t("lodash"),i=t("./StatusView"),n=t("lib/facebookApi"),a=t("tmpl!status-facebook-2"),s=i.extend({network:"facebook",template:a,className:i.prototype.className+" status-facebook",initialize:function(){i.prototype.initialize.apply(this,arguments),this.on("liked",e.partial(this.toggleLiked,!0)),this.on("unliked",e.partial(this.toggleLiked,!1))},toggleLiked:function(t){return this.$el.toggleClass("status-liked",!!t),this},render:function(){return i.prototype.render.apply(this,arguments),n.init(),this}});return s}),define("tmpl!status-google-plus-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+'"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-google-plus-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-google-plus-2"})}),define("components/status-2/views/GooglePlusStatusView",["require","./StatusView","tmpl!status-google-plus-2"],function(t){var e=t("./StatusView"),i=t("tmpl!status-google-plus-2"),n=e.extend({network:"google_plus",template:i,className:e.prototype.className+" status-google-plus"});return n}),define("lib/instagramApi",["require","jquery","lodash","backbone-amd","q","./RespondingWindow"],function(t){var e=t("jquery"),i=t("lodash"),n=t("backbone-amd"),a=t("q"),s=t("./RespondingWindow"),r=n.Model.extend({defaults:function(){return{instagramApiUrl:"https://api.instagram.com/v1",intentDomain:"//massrelevance.com",accessToken:null}},initialize:function(){this.$body=e("body"),this.setAccessToken(),this.$body.trigger("instagram:ready")},setAccessToken:function(t){t?document.cookie="mr_inst_token="+encodeURIComponent(t):this.set("accessToken",document.cookie.replace(/(?:(?:^|.*;\s*)mr_inst_token\s*\=\s*([^;]*).*$)|^.*$/,"$1"))},likeIntent:function(t){var e=this,i=a.defer();return t=t||{},this.authenticate().then(function(i){return e._postLike(i,t)}).then(function(t){i.resolve(t)}).fail(function(){i.reject()}),i.promise},authenticate:function(){var t=this,e=a.defer();return this.get("accessToken")?e.resolve(this.get("accessToken")):s.getClient().open(this.get("intentDomain")+"/intents/instagram_auth?response_type=code&origin=viz&scope=likes").then(function(i){if(i.error)e.reject(i);else{var n=i.accessToken;t.set("accessToken",n),t.setAccessToken(n),e.resolve(n)}}).fail(function(){e.reject()}),e.promise},_postLike:function(t,n){var s=this,r=a.defer(),o="true"===n.liked,l=i.extend({"delete":o},n);return l.access_token=t,a(e.ajax({crossDomain:!0,dataType:"jsonp",url:this.get("intentDomain")+"/intents/instagram_like.json",data:l})).then(function(e){if(e.meta&&400===e.meta.code){if("OAuthParameterException"===e.meta.error_type)return s.deauthenticate(),s.authenticate().then(function(){return s._postLike(t,n)}).then(function(t){r.resolve(t)}).fail(function(){r.reject()})}else{var i=n.id||"unknown";s.trigger(o?"unlike":"like",i),r.resolve(!o)}}).fail(function(){r.reject()}),r.promise},deauthenticate:function(){this.set("accessToken",""),document.cookie="mr_inst_token=; expires=Thu, 01 Jan 1970 00:00:00 GMT;"}});s.init();var o;return{getClient:function(){if(!o)throw new Error("You must call instagramApi.init() before calling getClient()");return o},init:function(){o||(o=new r)}}}),define("tmpl!status-instagram-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+" ("+__e(user_full_name)+')"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n      <a class="status-author-name status-author-name-secondary status-pretty-link"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >@'+__e(user_username)+'</span></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-intents">\n      <a class="status-intent status-intent-instagram-like mr-action-click"\n        data-action="instagram-like"\n        href="'+__e(formatted_permalink)+'"\n        title="Like this"\n        target="_blank"\n\n        data-id="'+__e(id)+'"\n        data-liked="false"\n      ><i class="status-intent-icon icon-instagram-like"></i><span class="status-intent-text"></span></a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-instagram-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-instagram-2"})}),define("components/status-2/views/InstagramStatusView",["require","./StatusView","lib/instagramApi","tmpl!status-instagram-2"],function(t){var e=t("./StatusView"),i=t("lib/instagramApi"),n=t("tmpl!status-instagram-2"),a=e.extend({network:"instagram",template:n,className:e.prototype.className+" status-instagram",render:function(){return e.prototype.render.apply(this,arguments),i.init(),this}});return a}),define("tmpl!status-rss-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header" title="'+__e(title)+'" >\n    ',author&&(__p+='\n    <div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+"</a>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta"></div>\n\n  <div class="status-footer">\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+"</a>\n    </div>\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-rss-2"})}),define("components/status-2/views/RSSStatusView",["require","./StatusView","tmpl!status-rss-2"],function(t){var e=t("./StatusView"),i=t("tmpl!status-rss-2"),n=e.extend({network:"rss",template:i,className:e.prototype.className+" status-rss"});return n}),define("tmpl!status-twitter-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+" (@"+__e(user_screen_name)+')"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(intent_url_user)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(intent_url_user)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t),user_verified&&(__p+='<span class="status-twitter-verified-icon">\n        <i class="icon-twitter-verified-bg"></i>\n        <i class="icon-twitter-verified-check"></i>\n      </span>'),__p+='</a>\n      <a class="status-author-name status-author-name-secondary status-pretty-link"\n        href="'+__e(intent_url_user)+'"\n        target="_blank"\n      ><s>@</s><span>'+__e(user_screen_name)+'</span></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',is_retweet&&(__p+='\n    <div class="status-meta-item status-meta-item-retweeted">\n      <i class="status-retweet-icon icon-twitter-retweet"></i><span class="status-retweeted-by-text">Retweeted by</span>\n      <a href="//twitter.com/intent/user?screen_name='+__e(retweeting_status_user_screen_name)+'"\n          target="_blank"\n          title="'+__e(retweeting_status_user_name)+" (@"+__e(retweeting_status_user_screen_name)+')"\n      >'+__e(retweeting_status_user_name||"@"+retweeting_status_user_screen_name)+"</a>\n    </div>\n    "),__p+="\n\n    ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-intents">\n      <a class="status-intent status-intent-twitter-reply"\n        href="'+__e(intent_url_reply)+'"\n        title="Reply to this Tweet"\n        target="_blank"\n      ><i class="status-intent-icon icon-twitter-reply"></i><span class="status-intent-text">Reply</span></a>\n\n      <a class="status-intent status-intent-twitter-retweet"\n        href="'+__e(intent_url_retweet)+'"\n        title="Retweet this Tweet"\n        target="_blank"\n      ><i class="status-intent-icon icon-twitter-retweet"></i><span class="status-intent-text">Retweet</span></a>\n\n      <a class="status-intent status-intent-twitter-favorite"\n        href="'+__e(intent_url_favorite)+'"\n        title="Like this Tweet"\n        target="_blank"\n      ><i class="status-intent-icon icon-twitter-like"></i><span class="status-intent-text">Like</span></a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-twitter-logo"></i></a>\n    </div>\n  </div>\n</div>\n';
return __p},metadata:{customizable:!0},name:"status-twitter-2"})}),define("components/status-2/views/TwitterStatusView",["require","./StatusView","tmpl!status-twitter-2"],function(t){var e=t("./StatusView"),i=t("tmpl!status-twitter-2");t(["twitter-widgets","twitter-impressions"]);var n=e.extend({network:"twitter",hasLoggedImpression:!1,template:i,className:e.prototype.className+" status-twitter twitter-custom-tweet",render:function(){return e.prototype.render.apply(this,arguments),this.renderImpressionTracking(),this},renderImpressionTracking:function(){var e=this;return this.$el.attr("data-twitter-tweet-id",this.model.get("id_str")),this.$el.attr("data-twitter-tweet-context",""),this.$el.attr("data-partner","spredfast"),t(["twitter-impressions"],function(){twttr.impressions.ready(function(){e.hasLoggedImpression||(e.hasLoggedImpression=!0,twttr.impressions.logTweets(e.el))})}),this}});return n}),define("tmpl!status-youtube-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+'"\n  ><div class="status-title">\n      <a class="status-title-link"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      >'+(null==(__t=title)?"":__t)+'</a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <div class="status-text">\n      <div class="status-author">by\n        <a class="status-author-link status-author-name"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n        >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n      </div>\n\n      <div class="status-duration"\n      >'+(null==(__t=duration_pretty)?"":__t)+'</div>\n      <div class="status-clear"></div>\n    </div>\n  </div>\n\n  <div class="status-footer">\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-youtube-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-youtube-2"})}),define("components/status-2/views/YouTubeVideoStatusView",["require","./StatusView","tmpl!status-youtube-2"],function(t){var e=t("./StatusView"),i=t("tmpl!status-youtube-2"),n=e.extend({network:"youtube",template:i,className:e.prototype.className+" status-youtube"});return n}),define("components/status-2/viewFactory",["require","lodash","./views/FacebookStatusView","./views/GooglePlusStatusView","./views/InstagramStatusView","./views/RSSStatusView","./views/TwitterStatusView","./views/YouTubeVideoStatusView"],function(t){var e=t("lodash"),i=t("./views/FacebookStatusView"),n=t("./views/GooglePlusStatusView"),a=t("./views/InstagramStatusView"),s=t("./views/RSSStatusView"),r=t("./views/TwitterStatusView"),o=t("./views/YouTubeVideoStatusView"),l=e.reduce([i,n,a,s,r,o],function(t,e){return t[e.prototype.network]=e,t},{}),u=function(t){if(!(t&&t.network&&e.has(l,t.network))){var i=new TypeError("No constructor found for the given model");throw i.model=t,i}var n=[];this.config&&this.config.settings&&this.config.settings.additional_classes&&n.push(this.config.settings.additional_classes);var a=l[t.network];if(a){var s={displayOptions:{}};if(e.isFunction(this.status_style)&&(this.status_style=this.status_style()),this.status_style){var r=this.status_style.overrides(t);r.template&&(s.template=r.template),r.mediaTemplate&&a.prototype.subviews&&(s.subviews=e.clone(a.prototype.subviews,!0),a.prototype.subviews.media&&(s.subviews.media=s.subviews.media.extend({template:r.mediaTemplate})),a.prototype.subviews.playerjsMedia&&(s.subviews.playerjsMedia=s.subviews.playerjsMedia.extend({template:r.mediaTemplate}))),r.additionalClasses&&n.push(r.additionalClasses),r.displayOptions&&e.isObject(r.displayOptions)&&(s.displayOptions=r.displayOptions)}s.displayOptions.additionalClasses=n.join(" "),a=a.extend(s)}return a},d=function(t){var e=u(t);return new e({model:t})},c=function(t){return function(){return u.apply(this,arguments).extend({defaults:t||{}})}},p=function(t){return function(){return d.apply(this,arguments).extend({defaults:t||{}})}};return{getStatusViewConstructor:u,createStatusView:d,statusViewConstructor:c,statusViewCreator:p}}),define("components/status-2/main",["require","lodash","lib/BaseComponent","componentStyle!status-2","massrel-js-backbone","./viewFactory"],function(t){var e=t("lodash"),i=t("lib/BaseComponent"),n=t("componentStyle!status-2"),a=t("massrel-js-backbone"),s=t("./viewFactory");return i.extend({styles:n,initialize:function(){i.prototype.initialize.apply(this,arguments);var t=this.get("config");this._statusViewConstructor=s.statusViewConstructor({componentId:t.id,componentType:t.type,analytics:this.get("analytics"),dispatcher:this.get("dispatcher"),additional_classes:this.get("config").settings.additional_classes}),this._statusViewCreator=s.statusViewCreator({componentId:t.id,componentType:t.type,analytics:this.get("analytics"),dispatcher:this.get("dispatcher"),additional_classes:this.get("config").settings.additional_classes}),t.settings.status_style&&this.get("dispatcher").on("#"+t.settings.status_style+":discovery",e.bind(this._discover,this))},_discover:function(t){"status-style"===t.payload.type&&(this.status_style=t.payload.component)},create:function(){var t=this;return{createStatus:a.createStatus,getStatusViewConstructor:this._statusViewConstructor,createStatusView:this._statusViewCreator,status_style:function(){return t.status_style}}}}).exports()}),define("componentStyle!status-styles-modal-1",{render:function(){}}),define("tmpl!status-instagram-2-modal",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+="  ",media.length>0&&(__p+='\n  <div class="status-media">\n    '+(null==(__t=subview("media",media.at(0)))?"":__t)+'\n\n    <div class="status-media-meta">\n      <a class="status-author-attribution status-pretty-link"\n        href="'+__e(formatted_profile_url)+'"\n        title="'+__e(formatted_name)+" ("+__e(user_full_name)+')"\n        target="_blank"\n      ><s>@</s><span>'+__e(user_username)+'</span></a>\n\n      <a class="status-media-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-instagram-logo"></i></a>\n    </div>\n  </div>\n  '),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+" ("+__e(user_full_name)+')"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n      <a class="status-author-name status-author-name-secondary status-pretty-link"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >@'+__e(user_username)+'</span></a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-instagram-logo"></i></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-intents">\n      <a class="status-intent status-intent-instagram-like mr-action-click"\n        data-action="instagram-like"\n        href="'+__e(formatted_permalink)+'"\n        title="Like this"\n        target="_blank"\n\n        data-id="'+__e(id)+'"\n        data-liked="false"\n      ><i class="status-intent-icon icon-instagram-like"></i><span class="status-intent-text"></span></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-instagram-2-modal"})}),define("tmpl!status-facebook-2-modal",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("playerjsMedia",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header" title="'+__e(formatted_name)+'">\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-facebook-logo"></i></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    ',(intent_can_comment||intent_can_share)&&(__p+='\n    <div class="status-intents">\n      ',intent_can_comment&&(__p+='\n      <a class="status-intent status-intent-facebook-comment mr-action-click"\n        data-action="fb-comment"\n        href="'+__e(intent_url_comment)+'"\n        title="Add a Comment"\n        target="_blank"\n\n        data-app_id="'+__e(intent_app_id)+'"\n        data-post_id="'+__e(facebook_id)+'"\n        data-message="'+__e(formatted_text_full)+'"\n        data-post_type="',print(obj.type||obj.kind),__p+='"\n        data-author_id="'+__e(from_id)+'"\n        data-author="'+__e(from_name)+'"\n        data-permalink="'+__e(formatted_permalink)+'"\n        data-timestamp="'+__e(formatted_date_iso)+'"\n      ><i class="status-intent-icon icon-facebook-comment"></i><span class="status-intent-text">Comment</span></a>\n      '),__p+="\n\n      ",intent_can_share&&(__p+='\n      <a class="status-intent status-intent-facebook-share mr-action-click"\n        data-action="fb-share"\n        href="'+__e(intent_url_share)+'"\n        title="Share this"\n        target="_blank"\n\n        ',__p+='\n        data-link="',print("https:"+formatted_permalink),__p+='"\n        data-name="'+__e(formatted_text||formatted_permalink)+'"\n      ><i class="status-intent-icon icon-facebook-share"></i><span class="status-intent-text">Share</span></a>\n      '),__p+="\n    </div>\n    "),__p+="\n\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-facebook-2-modal"})}),define("tmpl!status-google-plus-2-modal",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+'"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-google-plus-logo"></i></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+="\n  </div>\n</div>\n";return __p},metadata:{customizable:!0},name:"status-google-plus-2-modal"})}),define("tmpl!status-twitter-2-modal",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+" (@"+__e(user_screen_name)+')"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(intent_url_user)+'"\n      target="_blank"\n    ></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(intent_url_user)+'"\n        target="_blank"\n      >'+(null==(__t=formatted_name_pretty)?"":__t),user_verified&&(__p+='<span class="status-twitter-verified-icon">\n        <i class="icon-twitter-verified-bg"></i>\n        <i class="icon-twitter-verified-check"></i>\n      </span>'),__p+='</a>\n      <a class="status-author-name status-author-name-secondary status-pretty-link"\n        href="'+__e(intent_url_user)+'"\n        target="_blank"\n      ><s>@</s><span>'+__e(user_screen_name)+'</span></a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-twitter-logo"></i></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      >See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',is_retweet&&(__p+='\n    <div class="status-meta-item status-meta-item-retweeted">\n      <i class="status-retweet-icon icon-twitter-retweet"></i><span class="status-retweeted-by-text">Retweeted by</span>\n      <a href="//twitter.com/intent/user?screen_name='+__e(retweeting_status_user_screen_name)+'"\n          target="_blank"\n          title="'+__e(retweeting_status_user_name)+" (@"+__e(retweeting_status_user_screen_name)+')"\n      >'+__e(retweeting_status_user_name||"@"+retweeting_status_user_screen_name)+"</a>\n    </div>\n    "),__p+="\n\n    ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-intents">\n      <a class="status-intent status-intent-twitter-reply"\n        href="'+__e(intent_url_reply)+'"\n        title="Reply to this Tweet"\n        target="_blank"\n      ><i class="status-intent-icon icon-twitter-reply"></i><span class="status-intent-text">Reply</span></a>\n\n      <a class="status-intent status-intent-twitter-retweet"\n        href="'+__e(intent_url_retweet)+'"\n        title="Retweet this Tweet"\n        target="_blank"\n      ><i class="status-intent-icon icon-twitter-retweet"></i><span class="status-intent-text">Retweet</span></a>\n\n      <a class="status-intent status-intent-twitter-favorite"\n        href="'+__e(intent_url_favorite)+'"\n        title="Like this Tweet"\n        target="_blank"\n      ><i class="status-intent-icon icon-twitter-like"></i><span class="status-intent-text">Like</span></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-twitter-2-modal"})}),define("tmpl!status-youtube-2-modal",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)media.length>0&&(__p+='\n<div class="status-media">\n  '+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n</div>\n"),__p+='\n\n<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+'"\n  ><div class="status-title">\n      <a class="status-title-link"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      >'+(null==(__t=title)?"":__t)+'</a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      >'+__e(formatted_date)+'</a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><i class="status-logo-icon icon-youtube-logo"></i></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <div class="status-text">\n      <div class="status-author">by\n        <a class="status-author-link status-author-name"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n        >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n      </div>\n\n      <div class="status-duration"\n      >'+(null==(__t=duration_pretty)?"":__t)+'</div>\n      <div class="status-clear"></div>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-youtube-2-modal"})}),define("tmpl!media-2-modal",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"photo"===type?(__p+="\n  ",__p+="\n  ",!load_gif&&!autoplay&&/\.gif($|\?)/gi.test(url)&&document.createElement("canvas").getContext?(__p+='\n  <div class="media-image media-gif" title="Click to Play"\n      ',__p+=width&&height?'\n      style="padding-bottom: '+__e(100*height/width)+'%"\n      ':'\n      style="padding-bottom: '+__e(56.25)+'%"\n      ',__p+='\n  >\n    <canvas width="'+__e(width)+'" height="'+__e(height)+'"></canvas>\n  </div>\n  '):(__p+='\n  <div class="media-image" style="background-image: url('+__e(url)+')">\n    <img src="'+__e(url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    <div class="media-attribution">\n      <div class="media-attribution-author">\n        ',formatted_author_name&&(__p+="\n        "+(null==(__t=formatted_author_name)?"":__t)+"\n        "),__p+='\n      </div>\n      <div class="media-attribution-logo">\n        ',provider_icon_class&&(__p+='\n        <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n        '),__p+="\n      </div>\n    </div>\n  </div>\n  "),__p+="\n"):"video"===type?(__p+='\n  <div class="media-image media-video-thumbnail"\n      style="background-image: url('+__e(thumbnail_url)+')"\n      title="Click to Play"\n  >\n    ',__p+="\n    ",thumbnail_url?(__p+='\n    <img src="'+__e(thumbnail_url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    '):(__p+='\n    <div class="media-video-sizer"\n      ',__p+=0!==height*width?'\n      style="padding-bottom: '+__e(100*(height/width))+'%"\n      ':'\n      style="padding-bottom: '+__e(56.25)+'%"\n      ',__p+="\n    ></div>\n    "),__p+="\n\n    ",autoplay||load_video_html?__p+="\n    "+(null==(__t=html)?"":__t)+"\n    ":(__p+='\n    <div class="media-attribution">\n      <div class="media-attribution-author">\n        ',formatted_author_name&&(__p+="\n        "+(null==(__t=formatted_author_name)?"":__t)+"\n        "),__p+='\n      </div>\n      <div class="media-attribution-logo">\n        ',provider_icon_class&&(__p+='\n        <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n        '),__p+="\n      </div>\n    </div>\n    "),__p+="\n  </div>\n"):"rich"===type?__p+="\n  "+(null==(__t=html)?"":__t)+"\n":"link"===type&&(__p+="\n  ",url&&(__p+='\n  <a class="media-url" href="'+__e(url)+'" target="_blank">\n  '),__p+="\n\n  ",thumbnail_url?(__p+='\n  <div class="media-image" style="background-image: url('+__e(thumbnail_url)+')">\n    <img src="'+__e(thumbnail_url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n  </div>\n  '):(__p+="\n  <p>",print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+="</p>\n  "),__p+="\n\n  ",url&&(__p+="\n  </a>\n  "),__p+="\n");return __p},metadata:{customizable:!0},name:"media-2-modal"})}),define("components/status-styles-modal-1/main",["require","jquery","lib/BaseComponent","componentStyle!status-styles-modal-1","tmpl!status-instagram-2-modal","tmpl!status-facebook-2-modal","tmpl!status-google-plus-2-modal","tmpl!status-twitter-2-modal","tmpl!status-youtube-2-modal","tmpl!media-2-modal"],function(t){var e=t("jquery"),i=t("lib/BaseComponent"),n=t("componentStyle!status-styles-modal-1"),a=t("tmpl!status-instagram-2-modal"),s=t("tmpl!status-facebook-2-modal"),r=t("tmpl!status-google-plus-2-modal"),o=t("tmpl!status-twitter-2-modal"),l=t("tmpl!status-youtube-2-modal"),u=t("tmpl!media-2-modal"),d={instagram:a,facebook:s,google_plus:r,twitter:o,youtube:l};return i.extend({styles:n,render:function(){var t=this.get("config"),i=e("html").hasClass("touch");return this.overrides=function(e){var n;return e&&e.network&&(n=d[e.network]),{additionalClasses:"status-style-modal mr-component-instance-"+t.id,template:n,mediaTemplate:u,displayOptions:{mediaLoadVideoHtml:i}}},this},postInitialize:function(){var t=this.get("dispatcher");t.trigger("discovery",{id:this.get("config").id,component:this,type:"status-style"})},create:function(){return{overrides:this.overrides}}}).exports()}),define("componentStyle!status-styles-media-tile-1",{render:function(){}}),define("tmpl!status-twitter-2-media-tile",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)media.length>0&&(__p+="\n  "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n");return __p},metadata:{},name:"status-twitter-2-media-tile"})}),define("tmpl!status-instagram-2-media-tile",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)media.length>0&&(__p+="\n  "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n");return __p},metadata:{},name:"status-instagram-2-media-tile"})}),define("tmpl!status-facebook-2-media-tile",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)media.length>0&&(__p+="\n  "+(null==(__t=subview("playerjsMedia",media.at(0)))?"":__t)+"\n");return __p},metadata:{},name:"status-facebook-2-media-tile"})}),define("tmpl!status-google-plus-2-media-tile",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)media.length>0&&(__p+="\n  "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n");return __p},metadata:{},name:"status-google-plus-2-media-tile"})}),define("tmpl!status-youtube-2-media-tile",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)media.length>0&&(__p+="\n  "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n");return __p},metadata:{},name:"status-youtube-2-media-tile"})}),define("tmpl!media-2-media-tile",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"photo"===type?(__p+="\n  ",__p+="\n  ",!load_gif&&!autoplay&&/\.gif($|\?)/gi.test(url)&&document.createElement("canvas").getContext?(__p+='\n  <div class="media-image media-gif" title="Click to Play"\n      ',__p+=width&&height?'\n      style="padding-bottom: '+__e(100*height/width)+'%"\n      ':'\n      style="padding-bottom: '+__e(56.25)+'%"\n      ',__p+='\n  >\n    <canvas width="'+__e(width)+'" height="'+__e(height)+'"></canvas>\n  </div>\n  '):(__p+='\n  <div class="media-image" style="background-image: url('+__e(url)+')">\n    <img src="'+__e(url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    ',(formatted_author_name||provider_icon_class)&&(__p+='\n    <div class="media-attribution">\n      ',formatted_author_name&&(__p+='\n      <div class="media-attribution-author">\n        '+(null==(__t=formatted_author_name)?"":__t)+"\n      </div>\n      "),__p+="\n      ",provider_icon_class&&(__p+='\n      <div class="media-attribution-logo">\n        <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n      </div>\n      '),__p+="\n    </div>\n    "),__p+="\n  </div>\n  "),__p+="\n"):"video"===type?(__p+='\n  <div class="media-image media-video-thumbnail"\n      style="background-image: url('+__e(thumbnail_url)+')"\n      title="Click to Play"\n  >\n    ',__p+="\n    ",thumbnail_url?(__p+='\n    <img src="'+__e(thumbnail_url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    '):(__p+='\n    <div class="media-video-sizer"\n      ',__p+=0!==height*width?'\n      style="padding-bottom: '+__e(100*(height/width))+'%"\n      ':'\n      style="padding-bottom: '+__e(56.25)+'%"\n      ',__p+="\n    ></div>\n    "),__p+="\n\n    ",autoplay||load_video_html?__p+="\n    "+(null==(__t=html)?"":__t)+"\n    ":(__p+="\n    ",(formatted_author_name||provider_icon_class)&&(__p+='\n    <div class="media-attribution">\n      ',formatted_author_name&&(__p+='\n      <div class="media-attribution-author">\n        '+(null==(__t=formatted_author_name)?"":__t)+"\n      </div>\n      "),__p+="\n      ",provider_icon_class&&(__p+='\n      <div class="media-attribution-logo">\n        <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n      </div>\n      '),__p+="\n    </div>\n    "),__p+="\n    "),__p+="\n  </div>\n"):"rich"===type?__p+="\n  "+(null==(__t=html)?"":__t)+"\n":"link"===type&&(__p+="\n  ",thumbnail_url&&(__p+='\n  <div class="media-image" style="background-image: url('+__e(thumbnail_url)+')">\n    <img src="'+__e(thumbnail_url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    ',(formatted_author_name||provider_icon_class)&&(__p+='\n    <div class="media-attribution">\n      ',formatted_author_name&&(__p+='\n      <div class="media-attribution-author">\n        '+(null==(__t=formatted_author_name)?"":__t)+"\n      </div>\n      "),__p+="\n      ",provider_icon_class&&(__p+='\n      <div class="media-attribution-logo">\n        <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n      </div>\n      '),__p+="\n    </div>\n    "),__p+="\n  </div>\n  "),__p+="\n"),__p+="\n";return __p},metadata:{customizable:!0},name:"media-2-media-tile"})}),define("components/status-styles-media-tile-1/main",["require","lib/BaseComponent","componentStyle!status-styles-media-tile-1","tmpl!status-twitter-2-media-tile","tmpl!status-instagram-2-media-tile","tmpl!status-facebook-2-media-tile","tmpl!status-google-plus-2-media-tile","tmpl!status-youtube-2-media-tile","tmpl!media-2-media-tile"],function(t){var e=t("lib/BaseComponent"),i=t("componentStyle!status-styles-media-tile-1"),n=t("tmpl!status-twitter-2-media-tile"),a=t("tmpl!status-instagram-2-media-tile"),s=t("tmpl!status-facebook-2-media-tile"),r=t("tmpl!status-google-plus-2-media-tile"),o=t("tmpl!status-youtube-2-media-tile"),l=t("tmpl!media-2-media-tile"),u={twitter:n,instagram:a,facebook:s,google_plus:r,youtube:o};return e.extend({styles:i,render:function(){var t=this.get("config");return this.overrides=function(e){var i;return e&&e.network&&(i=u[e.network]),{additionalClasses:"status-style-media-tile mr-component-instance-"+t.id,template:i,mediaTemplate:l,displayOptions:{mediaHandleClickEvent:!1}}},this},postInitialize:function(){var t=this.get("dispatcher");t.trigger("discovery",{id:this.get("config").id,component:this,type:"status-style"})},create:function(){return{overrides:this.overrides}}}).exports()}),define("componentStyle!status-styles-text-tile-2",{render:function(){}}),define("tmpl!status-twitter-2-text-tile-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});
var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+" (@"+__e(user_screen_name)+')"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(intent_url_user)+'"\n      target="_blank"\n    ><span class="ada-text">Click to view user\'s profile on Twitter</span></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary ',user_verified&&(__p+="verified"),__p+='"\n        href="'+__e(intent_url_user)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view user\'s profile on Twitter</span>'+(null==(__t=formatted_name_pretty)?"":__t)+"</a>",user_verified&&(__p+='<span class="status-twitter-verified-icon">\n                                               <i class="icon-twitter-verified-bg"></i>\n                                               <i class="icon-twitter-verified-check"></i>\n                                             </span>'),__p+='\n      <a class="status-author-name status-author-name-secondary status-pretty-link"\n        href="'+__e(intent_url_user)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view user\'s profile on Twitter</span><s>@</s><span>'+__e(user_screen_name)+'</span></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      ><span class="ada-text">See the rest of this Tweet</span>See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',is_retweet&&(__p+='\n    <div class="status-meta-item status-meta-item-retweeted">\n      <i class="status-retweet-icon icon-twitter-retweet"></i><span class="status-retweeted-by-text">Retweeted by</span>\n      <a href="//twitter.com/intent/user?screen_name='+__e(retweeting_status_user_screen_name)+'"\n          target="_blank"\n          title="'+__e(retweeting_status_user_name)+" (@"+__e(retweeting_status_user_screen_name)+')"\n      >'+__e(retweeting_status_user_name||"@"+retweeting_status_user_screen_name)+"</a>\n    </div>\n    "),__p+="\n\n    ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-intents">\n      <a class="status-intent status-intent-twitter-reply"\n        href="'+__e(intent_url_reply)+'"\n        title="Reply to this Tweet"\n        target="_blank"\n      ><span class="ada-text">Reply to this Tweet on Twitter</span><i class="status-intent-icon icon-twitter-reply"></i><span class="status-intent-text">Reply</span></a>\n\n      <a class="status-intent status-intent-twitter-retweet"\n        href="'+__e(intent_url_retweet)+'"\n        title="Retweet this Tweet"\n        target="_blank"\n      ><span class="ada-text">Retweet this Tweet on Twitter</span><i class="status-intent-icon icon-twitter-retweet"></i><span class="status-intent-text">Retweet</span></a>\n\n      <a class="status-intent status-intent-twitter-favorite"\n        href="'+__e(intent_url_favorite)+'"\n        title="Like this Tweet"\n        target="_blank"\n      ><span class="ada-text">Like this Tweet on Twitter</span><i class="status-intent-icon icon-twitter-like"></i><span class="status-intent-text">Like</span></a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on Twitter</span><span class="formatted-timestamp">'+__e(formatted_date)+'</span></a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on Twitter</span><i class="status-logo-icon icon-twitter-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-twitter-2-text-tile-2"})}),define("tmpl!status-instagram-2-text-tile-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+" ("+__e(user_full_name)+')"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ><span class="ada-text">Click to view user\'s profile on Instagram</span></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view user\'s profile on Instagram</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n      <a class="status-author-name status-author-name-secondary status-pretty-link"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view user\'s profile on Instagram</span>@'+__e(user_username)+'</span></a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      ><span class="ada-text">See the rest of this post</span>See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-intents">\n      <a class="status-intent status-intent-instagram-like mr-action-click"\n        data-action="instagram-like"\n        href="'+__e(formatted_permalink)+'"\n        title="Like this"\n        target="_blank"\n\n        data-id="'+__e(id)+'"\n        data-liked="false"\n      ><span class="ada-text">Like this post on Instagram</span><i class="status-intent-icon icon-instagram-like"></i><span class="status-intent-text"></span></a>\n    </div>\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on Instagram</span><span class="formatted-timestamp">'+__e(formatted_date)+'</span></a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on Instagram</span><i class="status-logo-icon icon-instagram-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-instagram-2-text-tile-2"})}),define("tmpl!status-facebook-2-text-tile-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="status-body">\n  <div class="status-header" title="'+__e(formatted_name)+'">\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ><span class="ada-text">Click to view user\'s profile on Facebook</span></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view user\'s profile on Facebook</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      ><span class="ada-text">See the rest of this post</span>See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    ',(intent_can_comment||intent_can_share)&&(__p+='\n    <div class="status-intents">\n      ',intent_can_comment&&(__p+='\n      <a class="status-intent status-intent-facebook-comment mr-action-click"\n        data-action="fb-comment"\n        href="'+__e(intent_url_comment)+'"\n        title="Add a Comment"\n        target="_blank"\n\n        data-app_id="'+__e(intent_app_id)+'"\n        data-post_id="'+__e(facebook_id)+'"\n        data-message="'+__e(formatted_text_full)+'"\n        data-post_type="',print(obj.type||obj.kind),__p+='"\n        data-author_id="'+__e(from_id)+'"\n        data-author="'+__e(from_name)+'"\n        data-permalink="'+__e(formatted_permalink)+'"\n        data-timestamp="'+__e(formatted_date_iso)+'"\n      ><span class="ada-text">Comment on this post on Facebook</span><i class="status-intent-icon icon-facebook-comment"></i><span class="status-intent-text">Comment</span></a>\n      '),__p+="\n\n      ",intent_can_share&&(__p+='\n      <a class="status-intent status-intent-facebook-share mr-action-click"\n        data-action="fb-share"\n        href="'+__e(intent_url_share)+'"\n        title="Share this"\n        target="_blank"\n\n        ',__p+='\n        data-link="',print("https:"+formatted_permalink),__p+='"\n        data-name="'+__e(formatted_text||formatted_permalink)+'"\n      ><span class="ada-text">Share this post on Facebook</span><i class="status-intent-icon icon-facebook-share"></i><span class="status-intent-text">Share</span></a>\n      '),__p+="\n    </div>\n    "),__p+='\n\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on Facebook</span><span class="formatted-timestamp">'+__e(formatted_date)+'</span></a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on Facebook</span><i class="status-logo-icon icon-facebook-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-facebook-2-text-tile-2"})}),define("tmpl!status-google-plus-2-text-tile-2",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+'"\n  >\n    <a class="status-avatar"\n      style="background-image: url('+__e(formatted_avatar_url)+')"\n      href="'+__e(formatted_profile_url)+'"\n      target="_blank"\n    ><span class="ada-text">Click to view user\'s profile on Google+</span></a><div class="status-author">\n      <a class="status-author-name status-author-name-primary"\n        href="'+__e(formatted_profile_url)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view user\'s profile on Google+</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n    </div>\n  </div>\n\n  <div class="status-content">\n    <p class="status-text">\n      '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n      ",formatted_text_rest&&(__p+='\n      <a class="status-text-truncation-link"\n          href="'+__e(formatted_permalink)+'"\n          target="_blank"\n      ><span class="ada-text">See the rest of this post</span>See More</a>\n      '),__p+='\n    </p>\n  </div>\n\n  <div class="status-meta">\n    ',formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n    <div class="status-meta-item status-meta-item-place">\n      <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n    </div>\n    "),__p+='\n  </div>\n\n  <div class="status-footer">\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on Google+</span><span class="formatted-timestamp">'+__e(formatted_date)+'</span></a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on Google+</span><i class="status-logo-icon icon-google-plus-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-google-plus-2-text-tile-2"})}),define("tmpl!status-youtube-2-card",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-body">\n  <div class="status-header"\n    title="'+__e(formatted_name)+'"\n  ><div class="status-title">\n      <a class="status-title-link"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on YouTube</span>'+(null==(__t=title)?"":__t)+"</a>\n    </div>\n  </div>\n\n  ",media.length>0&&(__p+='\n  <div class="status-media">\n    '+(null==(__t=subview("playerjsMedia",media.at(0)))?"":__t)+"\n  </div>\n  "),__p+='\n\n  <div class="status-content">\n    <div class="status-text">\n      <div class="status-author">by\n        <a class="status-author-link status-author-name"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n        >'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n      </div>\n\n      <div class="status-duration"\n      >'+(null==(__t=duration_pretty)?"":__t)+'</div>\n      <div class="status-clear"></div>\n    </div>\n  </div>\n\n  <div class="status-footer">\n    <div class="status-permalink">\n      <a class="status-timestamp"\n        href="'+__e(formatted_permalink)+'"\n        title="'+__e(formatted_date_full)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on YouTube</span><span class="formatted-timestamp">'+__e(formatted_date)+'</span></a>\n\n      <a class="status-logo"\n        href="'+__e(formatted_permalink)+'"\n        target="_blank"\n      ><span class="ada-text">Click to view this post on YouTube</span><i class="status-logo-icon icon-youtube-logo"></i></a>\n    </div>\n  </div>\n</div>\n';return __p},metadata:{customizable:!0},name:"status-youtube-2-card"})}),define("components/status-styles-text-tile-2/main",["require","lib/BaseComponent","componentStyle!status-styles-text-tile-2","tmpl!status-twitter-2-text-tile-2","tmpl!status-instagram-2-text-tile-2","tmpl!status-facebook-2-text-tile-2","tmpl!status-google-plus-2-text-tile-2","tmpl!status-youtube-2-card"],function(t){var e=t("lib/BaseComponent"),i=t("componentStyle!status-styles-text-tile-2"),n=t("tmpl!status-twitter-2-text-tile-2"),a=t("tmpl!status-instagram-2-text-tile-2"),s=t("tmpl!status-facebook-2-text-tile-2"),r=t("tmpl!status-google-plus-2-text-tile-2"),o=t("tmpl!status-youtube-2-card"),l={twitter:n,instagram:a,facebook:s,google_plus:r,youtube:o};return e.extend({styles:i,render:function(){var t=this.get("config");return this.overrides=function(e){e.set("formatted_date_format","short");var i;return e&&e.network&&(i=l[e.network]),{additionalClasses:"status-style-text-tile-2 mr-component-instance-"+t.id,template:i}},this},postInitialize:function(){var t=this.get("dispatcher");t.trigger("discovery",{id:this.get("config").id,component:this,type:"status-style"})},create:function(){return{overrides:this.overrides}}}).exports()}),define("componentStyle!retail-carousel-2",{render:function(){}}),define("components/retail-carousel-2/models/RetailCarouselModel",["backbone-amd"],function(){var t=require("backbone-amd");return t.Model.extend({defaults:function(){return{queue:new t.Collection,startIndex:0,noContentMsg:"No Content",noContent:!1}},initialize:function(t){var e=t.config;e&&this.set("noContentMsg",e.noContent)}})}),define("tmpl!retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="retail-carousel">\n  ',queue.length<1&&obj.noContent?__p+='\n    <div class="retail-carousel-no-content">\n      <div class="no-content-message-container">\n        <div class="no-content-message">'+__e(noContentMsg)+"</div>\n      </div>\n    </div>\n  ":(__p+="\n    ",queue.each(function(t){__p+="\n      "+(null==(__t=subview("retail-carousel-item",t))?"":__t)+"\n    "}),__p+="\n  "),__p+="\n</div>";return __p},metadata:{},name:"retail-carousel"})}),define("tmpl!retail-carousel-item",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="status-container status-placeholder"></div>';return __p},metadata:{},name:"retail-carousel-item"})}),!function(t){"function"==typeof define&&define.amd?define("slick/slick.min",["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=window.Slick||{};e=function(){function e(e,n){var a,s,r,o=this;if(o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return'<button type="button" data-role="none">'+(e+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.hidden="hidden",o.paused=!1,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=t(e),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,a=t(e).data("slick")||{},o.options=t.extend({},o.defaults,a,n),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,s=o.options.responsive||null,s&&s.length>-1){o.respondTo=o.options.respondTo||"window";for(r in s)s.hasOwnProperty(r)&&(o.breakpoints.push(s[r].breakpoint),o.breakpointSettings[s[r].breakpoint]=s[r].settings);o.breakpoints.sort(function(t,e){return o.options.mobileFirst===!0?t-e:e-t})}"undefined"!=typeof document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=t.proxy(o.autoPlay,o),o.autoPlayClear=t.proxy(o.autoPlayClear,o),o.changeSlide=t.proxy(o.changeSlide,o),o.clickHandler=t.proxy(o.clickHandler,o),o.selectHandler=t.proxy(o.selectHandler,o),o.setPosition=t.proxy(o.setPosition,o),o.swipeHandler=t.proxy(o.swipeHandler,o),o.dragHandler=t.proxy(o.dragHandler,o),o.keyHandler=t.proxy(o.keyHandler,o),o.autoPlayIterator=t.proxy(o.autoPlayIterator,o),o.instanceUid=i++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.init(!0),o.checkResponsive(!0)}var i=0;return e}(),e.prototype.addSlide=e.prototype.slickAdd=function(e,i,n){var a=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=a.slideCount)return!1;a.unload(),"number"==typeof i?0===i&&0===a.$slides.length?t(e).appendTo(a.$slideTrack):n?t(e).insertBefore(a.$slides.eq(i)):t(e).insertAfter(a.$slides.eq(i)):n===!0?t(e).prependTo(a.$slideTrack):t(e).appendTo(a.$slideTrack),a.$slides=a.$slideTrack.children(this.options.slide),a.$slideTrack.children(this.options.slide).detach(),a.$slideTrack.append(a.$slides),a.$slides.each(function(e,i){t(i).attr("data-slick-index",e)}),a.$slidesCache=a.$slides,a.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,i){var n={},a=this;a.animateHeight(),a.options.rtl===!0&&a.options.vertical===!1&&(e=-e),a.transformsEnabled===!1?a.options.vertical===!1?a.$slideTrack.animate({left:e},a.options.speed,a.options.easing,i):a.$slideTrack.animate({top:e},a.options.speed,a.options.easing,i):a.cssTransitions===!1?(a.options.rtl===!0&&(a.currentLeft=-a.currentLeft),t({animStart:a.currentLeft}).animate({animStart:e},{duration:a.options.speed,easing:a.options.easing,step:function(t){t=Math.ceil(t),a.options.vertical===!1?(n[a.animType]="translate("+t+"px, 0px)",a.$slideTrack.css(n)):(n[a.animType]="translate(0px,"+t+"px)",a.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(a.applyTransition(),e=Math.ceil(e),n[a.animType]=a.options.vertical===!1?"translate3d("+e+"px, 0px, 0px)":"translate3d(0px,"+e+"px, 0px)",a.$slideTrack.css(n),i&&setTimeout(function(){a.disableTransition(),i.call()},a.options.speed))},e.prototype.asNavFor=function(e){var i=this,n=i.options.asNavFor;n&&null!==n&&(n=t(n).not(i.$slider)),null!==n&&"object"==typeof n&&n.each(function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,i={};i[e.transitionType]=e.options.fade===!1?e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:"opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer),t.slideCount>t.options.slidesToShow&&t.paused!==!0&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this;t.options.infinite===!1?1===t.direction?(t.currentSlide+1===t.slideCount-1&&(t.direction=0),t.slideHandler(t.currentSlide+t.options.slidesToScroll)):(0===t.currentSlide-1&&(t.direction=1),t.slideHandler(t.currentSlide-t.options.slidesToScroll)):t.slideHandler(t.currentSlide+t.options.slidesToScroll)},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=t(e.options.prevArrow),e.$nextArrow=t(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled"))},e.prototype.buildDots=function(){var e,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(i='<ul class="'+n.options.dotsClass+'">',e=0;e<=n.getDotCount();e+=1)i+="<li>"+n.options.customPaging.call(this,n,e)+"</li>";i+="</ul>",n.$dots=t(i).appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),(e.options.centerMode===!0||e.options.swipeToSlide===!0)&&(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.options.accessibility===!0&&e.$list.prop("tabIndex",0),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,i,n,a,s,r,o=this;if(n=document.createDocumentFragment(),s=o.$slider.children(),o.options.rows>1){for(r=o.options.slidesPerRow*o.options.rows,a=Math.ceil(s.length/r),t=0;a>t;t++){var l=document.createElement("div");for(e=0;e<o.options.rows;e++){var u=document.createElement("div");for(i=0;i<o.options.slidesPerRow;i++){var d=t*r+(e*o.options.slidesPerRow+i);s.get(d)&&u.appendChild(s.get(d))}l.appendChild(u)}n.appendChild(l)}o.$slider.html(n),o.$slider.children().children().children().css({width:100/o.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e){var i,n,a,s=this,r=!1,o=s.$slider.width(),l=window.innerWidth||t(window).width();if("window"===s.respondTo?a=l:"slider"===s.respondTo?a=o:"min"===s.respondTo&&(a=Math.min(l,o)),s.originalSettings.responsive&&s.originalSettings.responsive.length>-1&&null!==s.originalSettings.responsive){n=null;for(i in s.breakpoints)s.breakpoints.hasOwnProperty(i)&&(s.originalSettings.mobileFirst===!1?a<s.breakpoints[i]&&(n=s.breakpoints[i]):a>s.breakpoints[i]&&(n=s.breakpoints[i]));null!==n?null!==s.activeBreakpoint?n!==s.activeBreakpoint&&(s.activeBreakpoint=n,"unslick"===s.breakpointSettings[n]?s.unslick(n):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[n]),e===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),r=n):(s.activeBreakpoint=n,"unslick"===s.breakpointSettings[n]?s.unslick(n):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[n]),e===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),r=n):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,e===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(e),r=n),e||r===!1||s.$slider.trigger("breakpoint",[s,r])}},e.prototype.changeSlide=function(e,i){var n,a,s,r=this,o=t(e.target);switch(o.is("a")&&e.preventDefault(),o.is("li")||(o=o.closest("li")),s=0!==r.slideCount%r.options.slidesToScroll,n=s?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":a=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-a,!1,i);break;case"next":a=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+a,!1,i);break;case"index":var l=0===e.data.index?0:e.data.index||o.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(l),!1,i),o.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,i,n=this;if(e=n.getNavigableIndexes(),i=0,t>e[e.length-1])t=e[e.length-1];else for(var a in e){if(t<e[a]){t=i;break}i=e[a]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide),e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&t("li",e.$dots).off("mouseenter.slick",t.proxy(e.setPaused,e,!0)).off("mouseleave.slick",t.proxy(e.setPaused,e,!1))),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.$list.off("mouseenter.slick",t.proxy(e.setPaused,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.setPaused,e,!1)),e.options.accessibility===!0&&e.$list.off("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>1&&(t=e.$slides.children().children(),t.removeAttr("style"),e.$slider.html(t))},e.prototype.clickHandler=function(t){var e=this;e.shouldClick===!1&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&"object"!=typeof i.options.prevArrow&&i.$prevArrow.remove(),i.$nextArrow&&"object"!=typeof i.options.nextArrow&&i.$nextArrow.remove(),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e){var i=this;i.cssTransitions===!1?(i.$slides.eq(t).css({zIndex:1e3}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:1e3}),e&&setTimeout(function(){i.disableTransition(t),e.call()
},i.options.speed))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var t=this;return t.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(t.options.infinite===!0)for(;e<t.slideCount;)++n,e=i+t.options.slidesToShow,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(t.options.centerMode===!0)n=t.slideCount;else for(;e<t.slideCount;)++n,e=i+t.options.slidesToShow,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return n-1},e.prototype.getLeft=function(t){var e,i,n,a=this,s=0;return a.slideOffset=0,i=a.$slides.first().outerHeight(),a.options.infinite===!0?(a.slideCount>a.options.slidesToShow&&(a.slideOffset=-1*a.slideWidth*a.options.slidesToShow,s=-1*i*a.options.slidesToShow),0!==a.slideCount%a.options.slidesToScroll&&t+a.options.slidesToScroll>a.slideCount&&a.slideCount>a.options.slidesToShow&&(t>a.slideCount?(a.slideOffset=-1*(a.options.slidesToShow-(t-a.slideCount))*a.slideWidth,s=-1*(a.options.slidesToShow-(t-a.slideCount))*i):(a.slideOffset=-1*a.slideCount%a.options.slidesToScroll*a.slideWidth,s=-1*a.slideCount%a.options.slidesToScroll*i))):t+a.options.slidesToShow>a.slideCount&&(a.slideOffset=(t+a.options.slidesToShow-a.slideCount)*a.slideWidth,s=(t+a.options.slidesToShow-a.slideCount)*i),a.slideCount<=a.options.slidesToShow&&(a.slideOffset=0,s=0),a.options.centerMode===!0&&a.options.infinite===!0?a.slideOffset+=a.slideWidth*Math.floor(a.options.slidesToShow/2)-a.slideWidth:a.options.centerMode===!0&&(a.slideOffset=0,a.slideOffset+=a.slideWidth*Math.floor(a.options.slidesToShow/2)),e=a.options.vertical===!1?-1*t*a.slideWidth+a.slideOffset:-1*t*i+s,a.options.variableWidth===!0&&(n=a.slideCount<=a.options.slidesToShow||a.options.infinite===!1?a.$slideTrack.children(".slick-slide").eq(t):a.$slideTrack.children(".slick-slide").eq(t+a.options.slidesToShow),e=n[0]?-1*n[0].offsetLeft:0,a.options.centerMode===!0&&(n=a.options.infinite===!1?a.$slideTrack.children(".slick-slide").eq(t):a.$slideTrack.children(".slick-slide").eq(t+a.options.slidesToShow+1),e=n[0]?-1*n[0].offsetLeft:0,e+=(a.$list.width()-n.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){var e=this;return e.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,a=[];for(e.options.infinite===!1?t=e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,t=2*e.slideCount);t>i;)a.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return a},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,i,n,a=this;return n=a.options.centerMode===!0?a.slideWidth*Math.floor(a.options.slidesToShow/2):0,a.options.swipeToSlide===!0?(a.$slideTrack.find(".slick-slide").each(function(e,s){return s.offsetLeft-n+t(s).outerWidth()/2>-1*a.swipeLeft?(i=s,!1):void 0}),e=Math.abs(t(i).attr("data-slick-index")-a.currentSlide)||1):a.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){var i=this;i.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots()),e&&i.$slider.trigger("init",[i])},e.prototype.initArrowEvents=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.on("click.slick",{message:"next"},t.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.setPaused,e,!0)).on("mouseleave.slick",t.proxy(e.setPaused,e,!1))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),e.$list.on("mouseenter.slick",t.proxy(e.setPaused,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.setPaused,e,!1)),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.show(),t.options.autoplay===!0&&t.autoPlay()},e.prototype.keyHandler=function(t){var e=this;37===t.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:"previous"}}):39===t.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:"next"}})},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),i=t(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){e.animate({opacity:1},200)},n.src=i,e.css({opacity:0}).attr("src",i).removeAttr("data-lazy").removeClass("slick-loading")})}var i,n,a,s,r=this;r.options.centerMode===!0?r.options.infinite===!0?(a=r.currentSlide+(r.options.slidesToShow/2+1),s=a+r.options.slidesToShow+2):(a=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),s=2+(r.options.slidesToShow/2+1)+r.currentSlide):(a=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,s=a+r.options.slidesToShow,r.options.fade===!0&&(a>0&&a--,s<=r.slideCount&&s++)),i=r.$slider.find(".slick-slide").slice(a,s),e(i),r.slideCount<=r.options.slidesToShow?(n=r.$slider.find(".slick-slide"),e(n)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(n=r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow),e(n)):0===r.currentSlide&&(n=r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow),e(n))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var t=this;t.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.paused=!1,t.autoPlay()},e.prototype.postSlide=function(t){var e=this;e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay===!0&&e.paused===!1&&e.autoPlay()},e.prototype.prev=e.prototype.slickPrev=function(){var t=this;t.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(){var e,i,n=this;e=t("img[data-lazy]",n.$slider).length,e>0&&(i=t("img[data-lazy]",n.$slider).first(),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad(),n.options.adaptiveHeight===!0&&n.setPosition()}).error(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}))},e.prototype.refresh=function(e){var i=this,n=i.currentSlide;i.destroy(!0),t.extend(i,i.initials),i.init(),e||i.changeSlide({data:{message:"index",index:n}},!1)},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,i){var n=this;return"boolean"==typeof t?(e=t,t=e===!0?0:n.slideCount-1):t=e===!0?--t:t,n.slideCount<1||0>t||t>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit(),void 0)},e.prototype.setCSS=function(t){var e,i,n=this,a={};n.options.rtl===!0&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",a[n.positionProp]=t,n.transformsEnabled===!1?n.$slideTrack.css(a):(a={},n.cssTransitions===!1?(a[n.animType]="translate("+e+", "+i+")",n.$slideTrack.css(a)):(a[n.animType]="translate3d("+e+", "+i+", 0px)",n.$slideTrack.css(a)))},e.prototype.setDimensions=function(){var t=this;t.options.vertical===!1?t.options.centerMode===!0&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),t.options.centerMode===!0&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),t.options.vertical===!1&&t.options.variableWidth===!1?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):t.options.variableWidth===!0?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();t.options.variableWidth===!1&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,i=this;i.$slides.each(function(n,a){e=-1*i.slideWidth*n,i.options.rtl===!0?t(a).css({position:"relative",right:e,top:0,zIndex:800,opacity:0}):t(a).css({position:"relative",left:e,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(t,e,i){var n=this;n.options[t]=e,i===!0&&(n.unload(),n.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),t.options.fade===!1?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=t.options.vertical===!0?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&t.options.useCSS===!0&&(t.cssTransitions=!0),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&t.animType!==!1&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=null!==t.animType&&t.animType!==!1},e.prototype.setSlideClasses=function(t){var e,i,n,a,s=this;s.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true").removeClass("slick-center"),i=s.$slider.find(".slick-slide"),s.options.centerMode===!0?(e=Math.floor(s.options.slidesToShow/2),s.options.infinite===!0&&(t>=e&&t<=s.slideCount-1-e?s.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(n=s.options.slidesToShow+t,i.slice(n-e+1,n+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):t===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(t).addClass("slick-center")):t>=0&&t<=s.slideCount-s.options.slidesToShow?s.$slides.slice(t,t+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=s.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(a=s.slideCount%s.options.slidesToShow,n=s.options.infinite===!0?s.options.slidesToShow+t:t,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-t<s.options.slidesToShow?i.slice(n-(s.options.slidesToShow-a),n+a).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,n,a=this;if(a.options.fade===!0&&(a.options.centerMode=!1),a.options.infinite===!0&&a.options.fade===!1&&(i=null,a.slideCount>a.options.slidesToShow)){for(n=a.options.centerMode===!0?a.options.slidesToShow+1:a.options.slidesToShow,e=a.slideCount;e>a.slideCount-n;e-=1)i=e-1,t(a.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-a.slideCount).prependTo(a.$slideTrack).addClass("slick-cloned");for(e=0;n>e;e+=1)i=e,t(a.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+a.slideCount).appendTo(a.$slideTrack).addClass("slick-cloned");a.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.setPaused=function(t){var e=this;e.options.autoplay===!0&&e.options.pauseOnHover===!0&&(e.paused=t,t?e.autoPlayClear():e.autoPlay())},e.prototype.selectHandler=function(e){var i=this,n=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),a=parseInt(n.attr("data-slick-index"));return a||(a=0),i.slideCount<=i.options.slidesToShow?(i.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true"),i.$slides.eq(a).addClass("slick-active").attr("aria-hidden","false"),i.options.centerMode===!0&&(i.$slider.find(".slick-slide").removeClass("slick-center"),i.$slides.eq(a).addClass("slick-center")),i.asNavFor(a),void 0):(i.slideHandler(a),void 0)},e.prototype.slideHandler=function(t,e,i){var n,a,s,r,o=null,l=this;return e=e||!1,l.animating===!0&&l.options.waitForAnimate===!0||l.options.fade===!0&&l.currentSlide===t||l.slideCount<=l.options.slidesToShow?void 0:(e===!1&&l.asNavFor(t),n=t,o=l.getLeft(n),r=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?r:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>t||t>l.getDotCount()*l.options.slidesToScroll)?(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n)),void 0):l.options.infinite===!1&&l.options.centerMode===!0&&(0>t||t>l.slideCount-l.options.slidesToScroll)?(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n)),void 0):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),a=0>n?0!==l.slideCount%l.options.slidesToScroll?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+n:n>=l.slideCount?0!==l.slideCount%l.options.slidesToScroll?0:n-l.slideCount:n,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,a]),s=l.currentSlide,l.currentSlide=a,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(i!==!0?l.fadeSlide(a,function(){l.postSlide(a)}):l.postSlide(a),l.animateHeight(),void 0):(i!==!0?l.animateSlide(o,function(){l.postSlide(a)}):l.postSlide(a),void 0)))},e.prototype.startLoad=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,n,a=this;return t=a.touchObject.startX-a.touchObject.curX,e=a.touchObject.startY-a.touchObject.curY,i=Math.atan2(e,t),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?a.options.rtl===!1?"left":"right":360>=n&&n>=315?a.options.rtl===!1?"left":"right":n>=135&&225>=n?a.options.rtl===!1?"right":"left":a.options.verticalSwiping===!0?n>=35&&135>=n?"left":"right":"vertical"},e.prototype.swipeEnd=function(){var t,e=this;if(e.dragging=!1,e.shouldClick=e.touchObject.swipeLength>10?!1:!0,void 0===e.touchObject.curX)return!1;if(e.touchObject.edgeHit===!0&&e.$slider.trigger("edge",[e,e.swipeDirection()]),e.touchObject.swipeLength>=e.touchObject.minSwipe)switch(e.swipeDirection()){case"left":t=e.options.swipeToSlide?e.checkNavigable(e.currentSlide+e.getSlideCount()):e.currentSlide+e.getSlideCount(),e.slideHandler(t),e.currentDirection=0,e.touchObject={},e.$slider.trigger("swipe",[e,"left"]);break;case"right":t=e.options.swipeToSlide?e.checkNavigable(e.currentSlide-e.getSlideCount()):e.currentSlide-e.getSlideCount(),e.slideHandler(t),e.currentDirection=1,e.touchObject={},e.$slider.trigger("swipe",[e,"right"])}else e.touchObject.startX!==e.touchObject.curX&&(e.slideHandler(e.currentSlide),e.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,e.options.verticalSwiping===!0&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,n,a,s,r=this;return s=void 0!==t.originalEvent?t.originalEvent.touches:null,!r.dragging||s&&1!==s.length?!1:(e=r.getLeft(r.currentSlide),r.touchObject.curX=void 0!==s?s[0].pageX:t.clientX,r.touchObject.curY=void 0!==s?s[0].pageY:t.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),r.options.verticalSwiping===!0&&(r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curY-r.touchObject.startY,2)))),i=r.swipeDirection(),"vertical"!==i?(void 0!==t.originalEvent&&r.touchObject.swipeLength>4&&t.preventDefault(),a=(r.options.rtl===!1?1:-1)*(r.touchObject.curX>r.touchObject.startX?1:-1),r.options.verticalSwiping===!0&&(a=r.touchObject.curY>r.touchObject.startY?1:-1),n=r.touchObject.swipeLength,r.touchObject.edgeHit=!1,r.options.infinite===!1&&(0===r.currentSlide&&"right"===i||r.currentSlide>=r.getDotCount()&&"left"===i)&&(n=r.touchObject.swipeLength*r.options.edgeFriction,r.touchObject.edgeHit=!0),r.swipeLeft=r.options.vertical===!1?e+n*a:e+n*(r.$list.height()/r.listWidth)*a,r.options.verticalSwiping===!0&&(r.swipeLeft=e+n*a),r.options.fade===!0||r.options.touchMove===!1?!1:r.animating===!0?(r.swipeLeft=null,!1):(r.setCSS(r.swipeLeft),void 0)):void 0)},e.prototype.swipeStart=function(t){var e,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0,void 0)},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t,e=this;t=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.options.infinite!==!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},e.prototype.visibility=function(){var t=this;document[t.hidden]?(t.paused=!0,t.autoPlayClear()):t.options.autoplay===!0&&(t.paused=!1,t.autoPlay())},t.fn.slick=function(){var t,i=this,n=arguments[0],a=Array.prototype.slice.call(arguments,1),s=i.length,r=0;for(r;s>r;r++)if("object"==typeof n||"undefined"==typeof n?i[r].slick=new e(i[r],n):t=i[r].slick[n].apply(i[r].slick,a),"undefined"!=typeof t)return t;return i}}),define("slick",["slick/slick.min"],function(t){return t}),define("tmpl!status-instagram-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-media">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-rail">\n  ',_retailHasRetail&&(__p+='\n  <div class="status-nav">\n    <div class="status-nav-retail status-nav-item" tabindex="0">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-nav-status status-nav-item" tabindex="0">\n      '+__e(_retailNavImageText)+'\n    </div>\n    <div class="status-nav-bar"></div>\n  </div>\n\n  <div class="status-title-bar">\n    <div class="status-title-retail status-title-item">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-title-status status-title-item">\n      '+__e(_retailNavImageText)+'\n    </div>\n  </div>\n\n  <div class="status-rail-content">\n    <div class="status-section-header section-retail">'+__e(_retailNavShopText)+'</div>\n\n    <div class="status-retail '+__e(_retailAdditionalClasses)+'">\n      ',_.each(massrel_page_links,function(t){__p+='\n        <div class="status-retail-item '+__e(t.additionalClasses)+'" data-id="'+__e(t.id)+'">\n          <div class="status-retail-item-frame">\n            <div class="status-retail-item-cell">\n\n              ',_retailShowPageLinkImage&&t.image_url&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-image-frame">\n                <a class="status-retail-item-image-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                  <img class="status-retail-item-image" data-src="'+__e(t.image_url)+'" />\n                </a>\n              </div>\n              '),__p+='\n\n              <div class="status-retail-item-details">\n              ',_retailShowPageLinkTitle&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-title">\n                ',_retailShowPageLinkButton||(__p+='\n                  <a class="status-retail-item-title-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                '),__p+="\n                "+__e(t.name)+"\n                ",_retailShowPageLinkButton||(__p+="\n                  </a>\n                "),__p+="\n              </div>\n              "),__p+="\n\n              ",_retailShowPageLinkButton&&(__p+='\n              <a class="status-retail-item-detail status-retail-item-button status-retail-track" href="'+__e(t.link)+'">\n                <span class="ada-text">Click to open details about this item</span>\n                '+__e(_retailItemButtonText)+"\n              </a>\n              "),__p+="\n              </div>\n            </div>\n          </div>\n        </div>\n      "}),__p+="\n      ",_retailExtraItemNeeded&&(__p+='\n        <div class="status-retail-item empty-item"></div>\n      '),__p+="\n    </div>\n\n  "),__p+='\n\n  <div class="status-section-header section-status">'+__e(_retailNavImageText)+'</div>\n  <div class="status-body">\n    <div class="status-body-wrapper">\n      <div class="status-header"\n        title="'+__e(formatted_name)+" ("+__e(user_full_name)+')"\n      >\n        <a class="status-avatar"\n          style="background-image: url('+__e(formatted_avatar_url)+')"\n          href="'+__e(formatted_profile_url)+'"\n          target="_blank"\n        ><span class="ada-text">Click to view user\'s profile on Instagram</span></a><div class="status-author">\n          <a class="status-author-name status-author-name-primary"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Instagram</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n          <a class="status-author-name status-author-name-secondary status-pretty-link"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Instagram</span>@'+__e(user_username)+'</span></a>\n        </div>\n\n        <a class="status-logo"\n            href="'+__e(formatted_permalink)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Instagram</span><i class="status-logo-icon icon-instagram-logo"></i></a>\n      </div>\n\n      <div class="status-content">\n        <p class="status-text">\n          '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n          ",formatted_text_rest&&(__p+='\n          <a class="status-text-truncation-link"\n              href="'+__e(formatted_permalink)+'"\n              target="_blank"\n          ><span class="ada-text">Click to view this post on Instagram</span>See More</a>\n          '),__p+='\n        </p>\n      </div>\n\n\n\n      <div class="status-footer">\n        <div class="status-intents status-footer-item">\n          <a class="status-intent status-intent-instagram-like mr-action-click"\n            data-action="instagram-like"\n            href="'+__e(formatted_permalink)+'"\n            title="Like this"\n            target="_blank"\n\n            data-id="'+__e(id)+'"\n            data-liked="false"\n          ><span class="ada-text">Like this post on Instagram</span><span class="status-intent-text"></span><i class="status-intent-icon icon-instagram-like"></i></a>\n        </div>\n\n        <div class="status-permalink status-footer-item">\n          <a class="status-timestamp"\n            href="'+__e(formatted_permalink)+'"\n            title="'+__e(formatted_date_full)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Instagram</span><span class="formatted-timestamp">'+__e(formatted_date)+"</span></a>\n        </div>\n\n        ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n        <div class="status-meta-item status-meta-item-place status-footer-item">\n          <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n        </div>\n        "),__p+="\n\n      </div>\n    </div>\n  </div>\n\n  ",_retailHasRetail&&(__p+="\n    </div>\n  "),__p+="\n</div>\n";return __p},metadata:{customizable:!0},name:"status-instagram-2-retail-carousel"})}),define("tmpl!status-twitter-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-media">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-rail">\n  ',_retailHasRetail&&(__p+='\n  <div class="status-nav">\n    <div class="status-nav-retail status-nav-item" tabindex="0">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-nav-status status-nav-item" tabindex="0">\n      '+__e(_retailNavImageText)+'\n    </div>\n    <div class="status-nav-bar"></div>\n  </div>\n\n  <div class="status-title-bar">\n    <div class="status-title-retail status-title-item">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-title-status status-title-item">\n      '+__e(_retailNavImageText)+'\n    </div>\n  </div>\n\n  <div class="status-rail-content">\n    <div class="status-section-header section-retail">'+__e(_retailNavShopText)+'</div>\n\n    <div class="status-retail '+__e(_retailAdditionalClasses)+'">\n      ',_.each(massrel_page_links,function(t){__p+='\n        <div class="status-retail-item '+__e(t.additionalClasses)+'" data-id="'+__e(t.id)+'">\n          <div class="status-retail-item-frame">\n            <div class="status-retail-item-cell">\n\n              ',_retailShowPageLinkImage&&t.image_url&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-image-frame">\n                <a class="status-retail-item-image-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                  <img class="status-retail-item-image" data-src="'+__e(t.image_url)+'" />\n                </a>\n              </div>\n              '),__p+='\n\n              <div class="status-retail-item-details">\n              ',_retailShowPageLinkTitle&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-title">\n                ',_retailShowPageLinkButton||(__p+='\n                  <a class="status-retail-item-title-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                '),__p+="\n                "+__e(t.name)+"\n                ",_retailShowPageLinkButton||(__p+="\n                  </a>\n                "),__p+="\n              </div>\n              "),__p+="\n\n              ",_retailShowPageLinkButton&&(__p+='\n              <a class="status-retail-item-detail status-retail-item-button status-retail-track" href="'+__e(t.link)+'">\n                <span class="ada-text">Click to open details about this item</span>\n                '+__e(_retailItemButtonText)+"\n              </a>\n              "),__p+="\n              </div>\n            </div>\n          </div>\n        </div>\n      "
}),__p+="\n      ",_retailExtraItemNeeded&&(__p+='\n        <div class="status-retail-item empty-item"></div>\n      '),__p+="\n    </div>\n\n  "),__p+='\n\n  <div class="status-section-header section-status">'+__e(_retailNavImageText)+'</div>\n  <div class="status-body">\n    <div class="status-body-wrapper">\n      <div class="status-header"\n        title="'+__e(formatted_name)+" ("+__e(user_screen_name)+')"\n      >\n        <a class="status-avatar"\n          style="background-image: url('+__e(formatted_avatar_url)+')"\n          href="'+__e(intent_url_user)+'"\n          target="_blank"\n        ><span class="ada-text">Click to view user\'s profile on Twitter</span></a><div class="status-author">\n          <a class="status-author-name status-author-name-primary"\n            href="'+__e(intent_url_user)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Twitter</span>'+(null==(__t=formatted_name_pretty)?"":__t),user_verified&&(__p+='<span class="status-twitter-verified-icon">\n          <i class="icon-twitter-verified-bg"></i>\n          <i class="icon-twitter-verified-check"></i>\n        </span>'),__p+='</a>\n          <a class="status-author-name status-author-name-secondary status-pretty-link"\n            href="'+__e(intent_url_user)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Twitter</span>@'+__e(user_screen_name)+'</span></a>\n        </div>\n\n        <a class="status-logo"\n            href="'+__e(formatted_permalink)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Twitter</span><i class="status-logo-icon icon-twitter-logo"></i></a>\n      </div>\n\n      <div class="status-content">\n        <p class="status-text">\n          '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n          ",formatted_text_rest&&(__p+='\n          <a class="status-text-truncation-link"\n              href="'+__e(formatted_permalink)+'"\n              target="_blank"\n          ><span class="ada-text">Click to view this post on Twitter</span>See More</a>\n          '),__p+='\n        </p>\n      </div>\n\n      <div class="status-footer">\n        <div class="status-intents status-footer-item">\n          <a class="status-intent status-intent-twitter-reply"\n            href="'+__e(intent_url_reply)+'"\n            title="Reply to this Tweet"\n            target="_blank"\n          ><span class="ada-text">Reply to this Tweet on Twitter</span><i class="status-intent-icon icon-twitter-reply"></i><span class="status-intent-text">Reply</span></a>\n\n          <a class="status-intent status-intent-twitter-retweet"\n            href="'+__e(intent_url_retweet)+'"\n            title="Retweet this Tweet"\n            target="_blank"\n          ><span class="ada-text">Retweet this Tweet on Twitter</span><i class="status-intent-icon icon-twitter-retweet"></i><span class="status-intent-text">Retweet</span></a>\n\n          <a class="status-intent status-intent-twitter-favorite"\n            href="'+__e(intent_url_favorite)+'"\n            title="Like this Tweet"\n            target="_blank"\n          ><span class="ada-text">Like this Tweet on Twitter</span><i class="status-intent-icon icon-twitter-like"></i><span class="status-intent-text">Like</span></a>\n        </div>\n\n        <div class="status-permalink status-footer-item">\n          <a class="status-timestamp"\n            href="'+__e(formatted_permalink)+'"\n            title="'+__e(formatted_date_full)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Instagram</span><span class="formatted-timestamp">'+__e(formatted_date)+"</span></a>\n        </div>\n\n        ",is_retweet&&(__p+='\n        <div class="status-meta-item status-meta-item-retweeted status-footer-item">\n          <i class="status-retweet-icon icon-twitter-retweet"></i><span class="status-retweeted-by-text">Retweeted by</span>\n          <a href="//twitter.com/intent/user?screen_name='+__e(retweeting_status_user_screen_name)+'"\n              target="_blank"\n              title="'+__e(retweeting_status_user_name)+" (@"+__e(retweeting_status_user_screen_name)+')"\n          ><span class="ada-text">Click to view user\'s profile on Twitter</span>'+__e(retweeting_status_user_name||"@"+retweeting_status_user_screen_name)+"</a>\n        </div>\n        "),__p+="\n\n        ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n        <div class="status-meta-item status-meta-item-place status-footer-item">\n          <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n        </div>\n        "),__p+="\n\n      </div>\n    </div>\n  </div>\n\n  ",_retailHasRetail&&(__p+="\n    </div>\n  "),__p+="\n</div>\n";return __p},metadata:{customizable:!0},name:"status-twitter-2-retail-carousel"})}),define("tmpl!status-facebook-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="status-media">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("playerjsMedia",media.at(0)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-rail">\n  ',_retailHasRetail&&(__p+='\n  <div class="status-nav">\n    <div class="status-nav-retail status-nav-item" tabindex="0">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-nav-status status-nav-item" tabindex="0">\n      '+__e(_retailNavImageText)+'\n    </div>\n    <div class="status-nav-bar"></div>\n  </div>\n\n  <div class="status-title-bar">\n    <div class="status-title-retail status-title-item">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-title-status status-title-item">\n      '+__e(_retailNavImageText)+'\n    </div>\n  </div>\n\n  <div class="status-rail-content">\n    <div class="status-section-header section-retail">'+__e(_retailNavShopText)+'</div>\n\n    <div class="status-retail '+__e(_retailAdditionalClasses)+'">\n      ',_.each(massrel_page_links,function(t){__p+='\n        <div class="status-retail-item '+__e(t.additionalClasses)+'" data-id="'+__e(t.id)+'">\n          <div class="status-retail-item-frame">\n            <div class="status-retail-item-cell">\n\n              ',_retailShowPageLinkImage&&t.image_url&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-image-frame">\n                <a class="status-retail-item-image-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                  <img class="status-retail-item-image" data-src="'+__e(t.image_url)+'" />\n                </a>\n              </div>\n              '),__p+='\n\n              <div class="status-retail-item-details">\n              ',_retailShowPageLinkTitle&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-title">\n                ',_retailShowPageLinkButton||(__p+='\n                  <a class="status-retail-item-title-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                '),__p+="\n                "+__e(t.name)+"\n                ",_retailShowPageLinkButton||(__p+="\n                  </a>\n                "),__p+="\n              </div>\n              "),__p+="\n\n              ",_retailShowPageLinkButton&&(__p+='\n              <a class="status-retail-item-detail status-retail-item-button status-retail-track" href="'+__e(t.link)+'">\n                <span class="ada-text">Click to open details about this item</span>\n                '+__e(_retailItemButtonText)+"\n              </a>\n              "),__p+="\n              </div>\n            </div>\n          </div>\n        </div>\n      "}),__p+="\n      ",_retailExtraItemNeeded&&(__p+='\n        <div class="status-retail-item empty-item"></div>\n      '),__p+="\n    </div>\n\n  "),__p+='\n\n  <div class="status-section-header section-status">'+__e(_retailNavImageText)+'</div>\n  <div class="status-body">\n    <div class="status-body-wrapper">\n      <div class="status-header"\n        title="'+__e(formatted_name)+'"\n      >\n        <a class="status-avatar"\n          style="background-image: url('+__e(formatted_avatar_url)+')"\n          href="'+__e(formatted_profile_url)+'"\n          target="_blank"\n        ><span class="ada-text">Click to view user\'s profile on Facebook</span></a><div class="status-author">\n          <a class="status-author-name status-author-name-primary"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Facebook</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n        </div>\n\n        <a class="status-logo"\n            href="'+__e(formatted_permalink)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Facebook</span><i class="status-logo-icon icon-facebook-logo"></i></a>\n      </div>\n\n      <div class="status-content">\n        <p class="status-text">\n          '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n          ",formatted_text_rest&&(__p+='\n          <a class="status-text-truncation-link"\n              href="'+__e(formatted_permalink)+'"\n              target="_blank"\n          ><span class="ada-text">Click to view this post on Facebook</span>See More</a>\n          '),__p+='\n        </p>\n      </div>\n\n\n\n      <div class="status-footer">\n        <div class="status-intents status-footer-item">\n          ',intent_can_comment&&(__p+='\n          <a class="status-intent status-intent-facebook-comment mr-action-click"\n            data-action="fb-comment"\n            href="'+__e(intent_url_comment)+'"\n            title="Add a Comment"\n            target="_blank"\n\n            data-app_id="'+__e(intent_app_id)+'"\n            data-post_id="'+__e(facebook_id)+'"\n            data-message="'+__e(formatted_text_full)+'"\n            data-post_type="',print(obj.type||obj.kind),__p+='"\n            data-author_id="'+__e(from_id)+'"\n            data-author="'+__e(from_name)+'"\n            data-permalink="'+__e(formatted_permalink)+'"\n            data-timestamp="'+__e(formatted_date_iso)+'"\n          ><span class="ada-text">Comment on this post on Facebook/span><i class="status-intent-icon icon-facebook-comment"></i><span class="status-intent-text">Comment</span></a>\n          '),__p+="\n\n          ",intent_can_share&&(__p+='\n          <a class="status-intent status-intent-facebook-share mr-action-click"\n            data-action="fb-share"\n            href="'+__e(intent_url_share)+'"\n            title="Share this"\n            target="_blank"\n\n            ',__p+='\n            data-link="',print("https:"+formatted_permalink),__p+='"\n            data-name="'+__e(formatted_text||formatted_permalink)+'"\n          ><span class="ada-text">Share this post on Facebook</span><i class="status-intent-icon icon-facebook-share"></i><span class="status-intent-text">Share</span></a>\n          '),__p+='\n        </div>\n\n        <div class="status-permalink status-footer-item">\n          <a class="status-timestamp"\n            href="'+__e(formatted_permalink)+'"\n            title="'+__e(formatted_date_full)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Facebook</span><span class="formatted-timestamp">'+__e(formatted_date)+"</span></a>\n        </div>\n\n        ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n        <div class="status-meta-item status-meta-item-place status-footer-item">\n          <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n        </div>\n        "),__p+="\n\n      </div>\n    </div>\n  </div>\n\n  ",_retailHasRetail&&(__p+="\n    </div>\n  "),__p+="\n</div>\n";return __p},metadata:{customizable:!0},name:"status-facebook-2-retail-carousel"})}),define("tmpl!status-google-plus-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-media">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-rail">\n  ',_retailHasRetail&&(__p+='\n  <div class="status-nav">\n    <div class="status-nav-retail status-nav-item" tabindex="0">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-nav-status status-nav-item" tabindex="0">\n      '+__e(_retailNavImageText)+'\n    </div>\n    <div class="status-nav-bar"></div>\n  </div>\n\n  <div class="status-title-bar">\n    <div class="status-title-retail status-title-item">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-title-status status-title-item">\n      '+__e(_retailNavImageText)+'\n    </div>\n  </div>\n\n  <div class="status-rail-content">\n    <div class="status-section-header section-retail">'+__e(_retailNavShopText)+'</div>\n\n    <div class="status-retail '+__e(_retailAdditionalClasses)+'">\n      ',_.each(massrel_page_links,function(t){__p+='\n        <div class="status-retail-item '+__e(t.additionalClasses)+'" data-id="'+__e(t.id)+'">\n          <div class="status-retail-item-frame">\n            <div class="status-retail-item-cell">\n\n              ',_retailShowPageLinkImage&&t.image_url&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-image-frame">\n                <a class="status-retail-item-image-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                  <img class="status-retail-item-image" data-src="'+__e(t.image_url)+'" />\n                </a>\n              </div>\n              '),__p+='\n\n              <div class="status-retail-item-details">\n              ',_retailShowPageLinkTitle&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-title">\n                ',_retailShowPageLinkButton||(__p+='\n                  <a class="status-retail-item-title-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                '),__p+="\n                "+__e(t.name)+"\n                ",_retailShowPageLinkButton||(__p+="\n                  </a>\n                "),__p+="\n              </div>\n              "),__p+="\n\n              ",_retailShowPageLinkButton&&(__p+='\n              <a class="status-retail-item-detail status-retail-item-button status-retail-track" href="'+__e(t.link)+'">\n                <span class="ada-text">Click to open details about this item</span>\n                '+__e(_retailItemButtonText)+"\n              </a>\n              "),__p+="\n              </div>\n            </div>\n          </div>\n        </div>\n      "}),__p+="\n      ",_retailExtraItemNeeded&&(__p+='\n        <div class="status-retail-item empty-item"></div>\n      '),__p+="\n    </div>\n\n  "),__p+='\n\n  <div class="status-section-header section-status">'+__e(_retailNavImageText)+'</div>\n  <div class="status-body">\n    <div class="status-body-wrapper">\n      <div class="status-header"\n        title="'+__e(formatted_name)+'"\n      >\n        <a class="status-avatar"\n          style="background-image: url('+__e(formatted_avatar_url)+')"\n          href="'+__e(formatted_profile_url)+'"\n          target="_blank"\n        ><span class="ada-text">Click to view user\'s profile on Google+</span></a></a><div class="status-author">\n          <a class="status-author-name status-author-name-primary"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on Google+</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n        </div>\n\n        <a class="status-logo"\n            href="'+__e(formatted_permalink)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Google+</span><i class="status-logo-icon icon-google-plus-logo"></i></a>\n      </div>\n\n      <div class="status-content">\n        <p class="status-text">\n          '+(null==(__t=formatted_text_pretty)?"":__t),formatted_text_rest&&(__p+='<i class="status-text-truncation-symbol">…</i>'),__p+="\n\n          ",formatted_text_rest&&(__p+='\n          <a class="status-text-truncation-link"\n              href="'+__e(formatted_permalink)+'"\n              target="_blank"\n          ><span class="ada-text">Click to view this post on Google+</span>See More</a>\n          '),__p+='\n        </p>\n      </div>\n\n      <div class="status-footer">\n        <div class="status-permalink status-footer-item">\n          <a class="status-timestamp"\n            href="'+__e(formatted_permalink)+'"\n            title="'+__e(formatted_date_full)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on Instagram</span><span class="formatted-timestamp">'+__e(formatted_date)+"</span></a>\n        </div>\n\n        ",formatted_place&&formatted_place.properties&&formatted_place.properties.name&&(__p+='\n        <div class="status-meta-item status-meta-item-place status-footer-item">\n          <i class="status-place-icon icon-place"></i><span class="status-place-name">'+__e(formatted_place.properties.name)+"</span>\n        </div>\n        "),__p+="\n\n      </div>\n    </div>\n  </div>\n\n  ",_retailHasRetail&&(__p+="\n    </div>\n  "),__p+="\n</div>\n";return __p},metadata:{customizable:!0},name:"status-google-plus-2-retail-carousel"})}),define("tmpl!status-youtube-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(Array.prototype.join,obj)__p+='<div class="status-media">\n  ',media.length>0&&(__p+="\n    "+(null==(__t=subview("media",media.at(0)))?"":__t)+"\n  "),__p+='\n</div>\n\n<div class="status-rail">\n  ',_retailHasRetail&&(__p+='\n  <div class="status-nav">\n    <div class="status-nav-retail status-nav-item" tabindex="0">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-nav-status status-nav-item" tabindex="0">\n      '+__e(_retailNavImageText)+'\n    </div>\n    <div class="status-nav-bar"></div>\n  </div>\n\n  <div class="status-title-bar">\n    <div class="status-title-retail status-title-item">\n      '+__e(_retailNavShopText)+'\n    </div>\n    <div class="status-title-status status-title-item">\n      '+__e(_retailNavImageText)+'\n    </div>\n  </div>\n\n  <div class="status-rail-content">\n    <div class="status-section-header section-retail">'+__e(_retailNavShopText)+'</div>\n\n    <div class="status-retail '+__e(_retailAdditionalClasses)+'">\n      ',_.each(massrel_page_links,function(t){__p+='\n        <div class="status-retail-item '+__e(t.additionalClasses)+'" data-id="'+__e(t.id)+'">\n          <div class="status-retail-item-frame">\n            <div class="status-retail-item-cell">\n\n              ',_retailShowPageLinkImage&&t.image_url&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-image-frame">\n                <a class="status-retail-item-image-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                  <img class="status-retail-item-image" data-src="'+__e(t.image_url)+'" />\n                </a>\n              </div>\n              '),__p+='\n\n              <div class="status-retail-item-details">\n              ',_retailShowPageLinkTitle&&(__p+='\n              <div class="status-retail-item-detail status-retail-item-title">\n                ',_retailShowPageLinkButton||(__p+='\n                  <a class="status-retail-item-title-link status-retail-track" href="'+__e(t.link)+'">\n                  <span class="ada-text">Click to open details about this item</span>\n                '),__p+="\n                "+__e(t.name)+"\n                ",_retailShowPageLinkButton||(__p+="\n                  </a>\n                "),__p+="\n              </div>\n              "),__p+="\n\n              ",_retailShowPageLinkButton&&(__p+='\n              <a class="status-retail-item-detail status-retail-item-button status-retail-track" href="'+__e(t.link)+'">\n                <span class="ada-text">Click to open details about this item</span>\n                '+__e(_retailItemButtonText)+"\n              </a>\n              "),__p+="\n              </div>\n            </div>\n          </div>\n        </div>\n      "}),__p+="\n      ",_retailExtraItemNeeded&&(__p+='\n        <div class="status-retail-item empty-item"></div>\n      '),__p+="\n    </div>\n\n  "),__p+='\n\n  <div class="status-section-header section-status">'+__e(_retailNavImageText)+'</div>\n  <div class="status-body">\n    <div class="status-body-wrapper">\n      <div class="status-header"\n        title="'+__e(formatted_name)+'"\n      >\n        <div class="status-author">\n          <a class="status-author-name status-author-name-primary"\n            href="'+__e(formatted_profile_url)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view user\'s profile on YouTube</span>'+(null==(__t=formatted_name_pretty)?"":__t)+'</a>\n        </div>\n\n        <a class="status-logo"\n            href="'+__e(formatted_permalink)+'"\n            target="_blank"\n          ><span class="ada-text">Click to this post on YouTube</span><i class="status-logo-icon icon-youtube-logo"></i></a>\n      </div>\n\n      <div class="status-content">\n        <p class="status-text">\n          '+__e(title)+'\n        </p>\n        <p class="status-duration">\n          '+(null==(__t=duration_pretty)?"":__t)+'\n        </p>\n      </div>\n\n      <div class="status-footer">\n        <div class="status-permalink status-footer-item">\n          <a class="status-timestamp"\n            href="'+__e(formatted_permalink)+'"\n            title="'+__e(formatted_date_full)+'"\n            target="_blank"\n          ><span class="ada-text">Click to view this post on YouTube</span>'+__e(formatted_date)+"</a>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  ",_retailHasRetail&&(__p+="\n    </div>\n  "),__p+="\n</div>\n";return __p},metadata:{customizable:!0},name:"status-youtube-2-retail-carousel"})}),define("tmpl!media-2-retail-carousel",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"photo"===type?(__p+='\n  <div class="ken-background" style="background-image: url('+__e(url)+')"></div>\n  ',__p+="\n  ",!load_gif&&!autoplay&&/\.gif($|\?)/gi.test(url)&&document.createElement("canvas").getContext?(__p+='\n  <div class="media-image media-gif" title="Click to Play"\n      ',__p+=width&&height?'\n      style="padding-bottom: '+__e(100*height/width)+'%"\n      ':'\n      style="padding-bottom: '+__e(56.25)+'%"\n      ',__p+='\n  >\n    <canvas width="'+__e(width)+'" height="'+__e(height)+'"></canvas>\n  </div>\n  '):(__p+='\n  <div class="media-image" style="background-image: url('+__e(url)+')">\n    <img src="'+__e(url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    <div class="media-attribution-author">\n      ',formatted_author_name&&(__p+="\n      "+(null==(__t=formatted_author_name)?"":__t)+"\n      "),__p+='\n    </div>\n    <div class="media-attribution-logo">\n      ',provider_icon_class&&(__p+='\n      <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n      '),__p+="\n    </div>\n  </div>\n  "),__p+="\n"):"video"===type?(__p+='\n  <div class="ken-background" style="background-image: url('+__e(thumbnail_url)+')"></div>\n  <div class="media-image media-video media-video-thumbnail"\n      style="background-image: url('+__e(thumbnail_url)+')"\n      title="Click to Play"\n  >\n    ',__p+="\n    ",thumbnail_url?(__p+='\n    <img src="'+__e(thumbnail_url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    '):(__p+='\n    <div class="media-video-sizer"\n      ',__p+=0!==height*width?'\n      style="padding-bottom: '+__e(100*(height/width))+'%"\n      ':'\n      style="padding-bottom: '+__e(56.25)+'%"\n      ',__p+="\n    ></div>\n    "),__p+="\n\n    ",autoplay||load_video_html?(__p+='\n    <div class="video-embed-wrapper"\n        ',0!==height*width&&(__p+='\n          style="padding-top: '+__e(100*(height/width))+'%"\n        '),__p+=">\n    "+(null==(__t=html)?"":__t)+"\n    </div>\n    "):(__p+='\n    <div class="media-attribution-author">\n      ',formatted_author_name&&(__p+="\n      "+(null==(__t=formatted_author_name)?"":__t)+"\n      "),__p+='\n    </div>\n    <div class="media-attribution-logo">\n      ',provider_icon_class&&(__p+='\n      <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n      '),__p+="\n    </div>\n    "),__p+="\n  </div>\n"):"rich"===type?__p+="\n  "+(null==(__t=html)?"":__t)+"\n":"link"===type&&(__p+="\n  ",thumbnail_url&&(__p+='\n  <div class="ken-background" style="background-image: url('+__e(thumbnail_url)+')"></div>\n  <div class="media-image" style="background-image: url('+__e(thumbnail_url)+')">\n    <img src="'+__e(thumbnail_url)+'"\n        alt="',print((title+" "+description).replace(/^\s+|\s+$/g,"")),__p+='"\n    />\n    <div class="media-attribution-author">\n      ',formatted_author_name&&(__p+="\n      "+(null==(__t=formatted_author_name)?"":__t)+"\n      "),__p+='\n    </div>\n    <div class="media-attribution-logo">\n      ',provider_icon_class&&(__p+='\n      <i class="media-logo-icon '+(null==(__t=provider_icon_class)?"":__t)+'"></i>\n      '),__p+="\n    </div>\n  </div>\n  "),__p+="\n");return __p},metadata:{customizable:!0},name:"media-2-retail-carousel"})}),define("components/retail-carousel-2/views/RetailCarouselItemView",["require","jquery","lodash","lib/views/BaseView","tmpl!retail-carousel-item","components/status-2/viewFactory","slick","tmpl!status-instagram-2-retail-carousel","tmpl!status-twitter-2-retail-carousel","tmpl!status-facebook-2-retail-carousel","tmpl!status-google-plus-2-retail-carousel","tmpl!status-youtube-2-retail-carousel","tmpl!media-2-retail-carousel"],function(t){var e=t("jquery"),i=t("lodash"),n=t("lib/views/BaseView"),a=t("tmpl!retail-carousel-item"),s=t("components/status-2/viewFactory");t("slick");var r=t("tmpl!status-instagram-2-retail-carousel"),o=t("tmpl!status-twitter-2-retail-carousel"),l=t("tmpl!status-facebook-2-retail-carousel"),u=t("tmpl!status-google-plus-2-retail-carousel"),d=t("tmpl!status-youtube-2-retail-carousel"),c=t("tmpl!media-2-retail-carousel"),p={instagram:r,twitter:o,facebook:l,google_plus:u,youtube:d},h={1:{carousel:{530:{width:510,height:361},360:{width:340,height:292},290:{width:130,height:140,"image-only":{width:270,height:302}},240:{width:105,height:138}},"no-carousel":{530:{width:510,height:361},360:{width:340,height:380},290:{width:130,height:185,"image-only":{width:270,height:302}},240:{width:105,height:138}}},2:{carousel:{530:{width:355,height:224},360:{width:190,height:204},290:{width:130,height:140},240:{width:105,height:138}},"no-carousel":{530:{width:355,height:224},360:{width:190,height:204},290:{width:130,height:185},240:{width:105,height:138}}}};return n.extend({className:"retail-slide",template:a,events:i.extend({"click .status-nav-item":"clickNavItem","keydown .status-nav-item":"keyDownNavItem"},n.prototype.events),initialize:function(){var t=this;n.prototype.initialize.apply(this,arguments),this._statusViewConstructor=s.statusViewConstructor({componentId:this.componentId(),componentType:this.componentType(),analytics:this.analytics(),dispatcher:this.dispatcher()}),this.on("shouldRender",this.shouldRender),this.on("didDisappear",this.didDisappear),this.listenTo(this.model,"change:_retailShowingStatus",this.renderSelectedNav),this.listenTo(this.model,"change:currentSlide",this.changeSlide),this.listenTo(this.options.parent.model,"change:_windowWidth",function(){t.updateRetailImageSize(),i.delay(i.bind(t.renderSelectedNav,t),50)}),this.rendered=!1},keyDownNavItem:function(t){13===t.keyCode&&this.clickNavItem(t)},clickNavItem:function(t){var i=e(t.currentTarget),n=i.hasClass("status-nav-status");this.model.set("_retailShowingStatus",n),this.analytics().trackEvent({category:"viz:toggle",action:"select:"+(n?"details":"product")})},upgradeModel:function(){var t=this,e=this.model.attributes,n=this.options.parent.model.get("config"),a=n.showPageLinkButton||n.showPageLinkTitle||n.showPageLinkImage,s=i.isArray(e.massrel_page_links)&&e.massrel_page_links.length>0&&a,r=s?e.massrel_page_links:[];n.showCurrentProductPageLinks||(r=i.filter(r,function(t){return!MR.isCurrentProductPage(t.url)})),0===r.length&&(s=!1);var o=2===parseInt(n.retailItemsPerPage,10)&&r.length>1?2:1,l=r.length>o,u=[2===o?"two-items":"one-item",l?"has-carousel":"no-carousel"],d={_retailHasRetail:n.showRetail&&s,_retailNeedsCarousel:l,_retailItemsPerPage:o,_retailAdditionalClasses:u.join(" "),_retailExtraItemNeeded:0!==r.length%o&&l,_retailShowingStatus:n.showStatusFirst,_retailShowPageLinkButton:n.showPageLinkButton,_retailShowPageLinkTitle:n.showPageLinkTitle,_retailShowPageLinkImage:n.showPageLinkImage,_retailItemButtonText:n.retailItemButtonText,_retailNavShopText:n.statusNavShopText,_retailNavImageText:n.statusNavImageText};if(this.model.set(d),s){var c=r;i.forEach(c,function(e){var i=t.model.attributes,a=e.name||e.description;e.image_url&&i._retailShowPageLinkImage||i._retailShowPageLinkButton||a||(a="Shop This Look"),a.length>70&&(a=a.substring(0,67)+"..."),e.name=a,e.link=n.useFullRetailLink?e.url:e.short_url||e.url,e.additionalClasses="",e.image_url&&t.model.get("_retailShowPageLinkImage")&&!t.model.get("_retailShowPageLinkTitle")&&!t.model.get("_retailShowPageLinkButton")&&(e.additionalClasses="image-only")}),this.model.set("massrel_page_links",c)}},render:function(){return n.prototype.render.apply(this,arguments),this.model._retailViews||(this.model._retailViews=[]),i.contains(this.model._retailViews,this)||this.model._retailViews.push(this),this.$status=this.$(".status-container"),this},shouldRender:function(t){return this.rendered&&!t?this:(this.upgradeModel(),this.renderStatus(),this.renderSelectedNav(),this.model.get("_retailNeedsCarousel")&&this.initializeCarousel(),this.rendered=!0,this.loadRetailImages(),this)},renderStatus:function(){var t=this,i=this._statusViewConstructor(this.model),n=i.extend({render:function(){return t.shouldRender(!0),this},realRender:function(){return i.prototype.render.apply(this,arguments),this}});this.statusView=new n({model:this.model}),this.$status.empty().append(this.statusView.realRender().$el),this.statusView.$("a.status-retail-track").on("click",function(i){i.stopPropagation(),t.analytics().trackEvent({category:"viz:outbound",action:"shop",label:e(this).attr("href")})})},loadRetailImages:function(){var t=this;this.$("img.status-retail-item-image[data-src]").each(function(){var i=e(this),n=i.parents(".status-retail-item").attr("data-id");e("<img>").attr("src",i.attr("data-src")).one("load",function(){var e=t.$('.status-retail-item[data-id="'+n+'"] img.status-retail-item-image[data-src]');
e.data({width:this.width,height:this.height}).attr("src",e.attr("data-src")),t.updateRetailImageSize(e)})})},updateRetailImageSize:function(t){if(this.rendered){var i=this.model.get("_retailNeedsCarousel")?"carousel":"no-carousel",n=this.options.parent.model.get("_windowWidth"),a=this.model.get("_retailItemsPerPage"),s=h[a][i][n];t||(t=this.$("img.status-retail-item-image[data-src]")),t.each(function(){var t,i,n=e(this),r=n.data("width"),o=n.data("height"),l=n.parents(".status-retail-item"),u=l.find(".status-retail-item-image-frame");l.hasClass("image-only")&&s["image-only"]&&(s=s["image-only"]),r/s.width>o/s.height?(t=r<s.width,i=t?r:s.width,n.css({width:i,height:t?o:s.width*o/r})):(t=o<s.height,i=t?r:s.height*r/o,n.css({width:i,height:t?o:s.height})),a>1&&u.css({width:i})})}},renderSelectedNav:function(){var t=this.model.get("_retailShowingStatus"),e=t?"status":"retail",i=this.$(".status-nav-"+e),n=i.position()||{},a=parseInt(i.css("margin-left"),10),s=parseInt(i.css("width"),10);this.$(".status-nav-bar").css({left:n.left+a||0,width:s||0}),this.$status.toggleClass("showing-status",t)},initializeCarousel:function(){this.$carousel=this.$(".status-retail");var t=this.options.parent.model.get("config"),e=2===parseInt(t.retailItemsPerPage,10)?2:1;this.$carousel.on("afterChange",i.bind(this.afterChange,this)),this.$carousel.slick({vertical:!0,verticalSwiping:!0,slidesToShow:e,slidesToScroll:e,slide:".status-retail-item",initialSlide:this.model.get("currentSlide"),dots:!0,prevArrow:'<div class="slick-prev slick-pagination"><div class="arrow"><i class="icon-arrow-up"></i></div></div>',nextArrow:'<div class="slick-next slick-pagination"><div class="arrow"><i class="icon-arrow-down"></i></div></div>',customPaging:function(){return""}})},afterChange:function(t,e,i){this._disableCarouselAnalytics||(this.analytics().trackEvent({category:"viz:toggle",action:"retail-carousel-item"}),this._disableCarouselAnalytics=!1),this.model.set("currentSlide",i)},changeSlide:function(){var t=this.model.get("currentSlide");this.$carousel.slick("slickCurrentSlide")!==t&&(this._disableCarouselAnalytics=!0,this.$carousel.slick("slickGoTo",t,!1))},didDisappear:function(){this.rendered&&i.forEach(this.statusView.renderedSubviews,function(t){t.trigger("media-pause")})},status_style:function(){return{overrides:function(t){var e;return t&&t.network&&(e=p[t.network]),{additionalClasses:"status-style-retail-carousel",template:e,mediaTemplate:c,displayOptions:{}}}}},remove:function(){n.prototype.remove.apply(this,arguments),this.statusView&&this.statusView.remove(),i.remove(this.model._retailViews,this),this.model._retailViews.length||delete this.model._retailViews}})}),define("components/retail-carousel-2/views/RetailCarouselView",["require","jquery","lodash","lib/views/BaseView","tmpl!retail-carousel","./RetailCarouselItemView","slick"],function(t){var e=t("jquery"),i=t("lodash"),n=t("lib/views/BaseView"),a=t("tmpl!retail-carousel"),s=t("./RetailCarouselItemView");t("slick");var r={479:{nav:290,cssClass:"phone"},639:{nav:240,cssClass:"phablet"},959:{nav:290,cssClass:"tablet"},1439:{nav:360,cssClass:"desktop"}},o=function(t,e){return t-e},l=i.map(i.keys(r),function(t){return parseInt(t,10)}).sort(o),u=function(t){var e=i.find(l,function(e){return e>=t});return r[e]||{nav:530,cssClass:"cinema"}};return n.extend({template:a,subviews:{"retail-carousel-item":s},events:i.extend({"keydown .slick-arrow":"keyDownSlickArrow"},n.prototype.events),initialize:function(){return n.prototype.initialize.apply(this,arguments),this.$el.addClass("mr-component-instance-"+this.componentId()+" mr-component-type-"+this.componentType()),this.listenTo(this.model.get("queue"),"add",i.debounce(this.render,50)),this.listenTo(this.model,"change:noContent",i.debounce(this.render,50)),e(window).on("resize."+this.cid,i.debounce(i.bind(this.windowResize,this),50)),this},render:function(){n.prototype.render.apply(this,arguments);var t=this.model.get("config");return this.$carousel=this.$(".retail-carousel"),this.$carousel.toggleClass("is-modal",t.isModal),this.windowResize(),this.model.get("queue").length&&this.renderSlick(),this},keyDownSlickArrow:function(t){13===t.keyCode&&(e(t.currentTarget).hasClass("slick-prev")?this.slick.slick("slickPrev"):this.slick.slick("slickNext"))},renderSlick:function(){this.$carousel.on("beforeChange",i.bind(this.beforeChange,this)),this.$carousel.on("afterChange",i.bind(this.afterChange,this)),this.$carousel.on("init",i.bind(this.slickInit,this)),this.slick=this.$carousel.slick({initialSlide:this.model.get("startIndex"),slide:".retail-slide",prevArrow:'<div class="slick-prev slick-arrow" tabindex="0"><i class="icon-arrow-left slick-arrow-icon"><span class="ada-text">Click to view previous post</span></i></div>',nextArrow:'<div class="slick-next slick-arrow" tabindex="0"><i class="icon-arrow-right slick-arrow-icon"><span class="ada-text">Click to view next post</span></i></div>'}),this.renderSurroundingSlides(this._getSurroundingIndexes(this.model.get("startIndex"))),this.trackCurrentSlide(this.model.get("startIndex"))},slickInit:function(t){if(e(t.target).is(this.$carousel)){var i=this.model.get("queue");if(i.length>0){var n=this.$(".retail-slide.slick-slide[data-slick-index=-1]"),a=i.at(i.length-1),r=new s({model:a,parent:this,el:n});this.renderedSubviews[r.cid]=r,r.render();var o=this.$(".slick-slide[data-slick-index="+i.length+"]"),l=i.at(0),u=new s({model:l,parent:this,el:o});this.renderedSubviews[u.cid]=u,u.render()}}},beforeChange:function(t,i,n){e(t.target).is(this.$carousel)&&(this._currentSlide=n)},afterChange:function(t,n,a){if(e(t.target).is(this.$carousel)){if(a!==this._currentSlide){var s=this._currentSlide+1===a||0===a&&1!==this._currentSlide;this.analytics().trackEvent({category:"viz:toggle",action:"retail-carousel",label:s?"right":"left"})}var r=this._getSurroundingIndexes(a);this.renderSurroundingSlides(r),this.notifySurroundingDidDisappear(i.without(r,a)),this.trackCurrentSlide(a)}},_getSurroundingIndexes:function(t){var e=this.model.get("queue"),i=(t+1)%e.length,n=t-1;return 0>n&&(n=e.length+n),[n,t,i]},renderSurroundingSlides:function(t){var e=this.model.get("queue");i.forEach(t,function(t){var n=e.at(t);n&&n._retailViews&&i.forEach(n._retailViews,function(t){t.trigger("shouldRender")})})},notifySurroundingDidDisappear:function(t){var e=this.model.get("queue");i.forEach(t,function(t){var n=e.at(t);n&&n._retailViews&&i.forEach(n._retailViews,function(t){t.trigger("didDisappear")})})},trackCurrentSlide:function(t){var e=this.model.get("queue"),i=e.at(t);i&&this.analytics().trackEvent({category:"retail-carousel:show-status",action:i.get("_retailHasRetail")?"has-retail":"no-retail"})},windowResize:function(){if(this.$carousel){var t=this.model.get("config"),e=this.$carousel.outerWidth(!0);t.isModal&&(e-=80);var i=u(e);this.model.set("_windowWidth",i.nav),this.$carousel.removeClass(function(t,e){return(e.match(/(^|\s)bp-\S+/g)||[]).join(" ")}).addClass("bp-"+i.cssClass)}},remove:function(){n.prototype.remove.apply(this,arguments),e(window).off("resize."+this.cid)}})}),define("components/retail-carousel-2/main",["require","jquery","lib/BaseComponent","componentStyle!retail-carousel-2","./models/RetailCarouselModel","./views/RetailCarouselView"],function(t){var e=t("jquery"),i=t("lib/BaseComponent"),n=t("componentStyle!retail-carousel-2"),a=t("./models/RetailCarouselModel"),s=t("./views/RetailCarouselView");return i.extend({styles:n,create:function(){var t=this.get("id"),i=this.get("config"),n=this.get("dispatcher"),r=new a({id:t,dispatcher:n,config:i.settings});this.set("model",r);var o={model:r,View:s.extend({defaults:{analytics:this.get("analytics"),componentId:t,componentType:i.type,dispatcher:n,model:r}})};if(this.hasElement()){var l=new s({analytics:this.get("analytics"),el:e("#"+t),componentId:t,componentType:i.type,dispatcher:n,model:r});this.set("view",l),o.view=l}return o},render:function(){this.hasElement()&&this.get("view").render()}}).exports()}),define("components/mosaic-2/models/MosaicGroup",["require","lodash","backbone-amd","components/status-2/viewFactory"],function(t){var e=t("lodash"),i=t("backbone-amd"),n=t("components/status-2/viewFactory"),a=5,s=i.Model.extend({initialize:function(t){this.set(e.extend({},this.defaults,e.pick(t,e.without(e.keys(this.defaults),"type")))),this.queue=new i.Collection,this.on("start",e.bind(this.onStart,this)),this.on("stop",e.bind(this.onStop,this)),this.on("request-content",e.bind(this.getContent,this)),this.on("clear-content",e.bind(this.clearContent,this)),this.reset(),this._statusViewFactory=n.statusViewConstructor({componentId:"mosaic-group-"+this.get("name"),componentType:"mosaic-group-type-"+this.get("type"),analytics:this.get("analytics"),dispatcher:this.get("dispatcher")})},_createPoller:function(){},onStart:function(){this.poller.start(),this.poller.on("batch",e.bind(this._processPollerData,this)),this.poller.on("more",e.bind(this._loadMore,this)),this.poller.on("more:end",e.bind(this._loadMoreEnd,this)),this._queueIndex=-1},onStop:function(){this.poller.stop()},reset:function(){this._createPoller(),this.queue.reset(),this.loadMoreCount=0,this._initialLoad=!0,this._displayedStatuses={}},start:function(){this.onStart()},stop:function(){this.onStop()},getContent:function(t){var e=t.tile;if(0!==this.queue.length){var n,a=t.tile.get("tileModel").get("mvm"),s=this.queue;if(a&&(n=a.get("model"))){if(this.queue.length>1){var r=this.queue.indexOf(n);r<=this._queueIndex&&-1!==this._queueIndex&&(this._queueIndex-=1),s=new i.Collection(this.queue.filter(function(t){return t!==n}))}this._displayedStatuses[n.get("entity_id")]&&(this._displayedStatuses[n.get("entity_id")]-=1,0===this._displayedStatuses[n.get("entity_id")]&&delete this._displayedStatuses[n.get("entity_id")])}var o,l;for(l=0;l<s.length&&(this._queueIndex+=1,this._queueIndex>=s.length&&(this._queueIndex=0),o=s.at(this._queueIndex),this._displayedStatuses[o.get("entity_id")]);l+=1);var u=this._displayedStatuses[o.get("entity_id")];if(u&&u>1)for(l=0;l<s.length;l+=1){this._queueIndex+=1,this._queueIndex>=this.queue.length&&(this._queueIndex=0);var d=s.at(this._queueIndex);if(d&&d!==n&&this._displayedStatuses[d.get("entity_id")]<u){o=d;break}}this._displayedStatuses[o.get("entity_id")]?this._displayedStatuses[o.get("entity_id")]+=1:this._displayedStatuses[o.get("entity_id")]=1,o.tiles?o.tiles.push(e):o.tiles=[e];var c=this._statusViewFactory(o);e.trigger("changeWithModelView",{model:o,View:c,opts:{noAnimation:t.noAnimation}})}},clearContent:function(t){var e=t.tile.get("tileModel").get("mvm");if(e){var i=e.get("model");this._displayedStatuses[i.get("entity_id")]&&(this._displayedStatuses[i.get("entity_id")]-=1,0===this._displayedStatuses[i.get("entity_id")]&&delete this._displayedStatuses[i.get("entity_id")])}},_loadMoreEnd:function(){this.trigger("content-ready")},_loadMore:function(t){this.queue.add(t,{at:0}),this.queue.length>this.get("tileCount")+2?(this.queue.length>this.get("entity_retention")&&this.queue.remove(this.queue.slice(this.get("entity_retention"))),this.trigger("content-ready")):this.loadMoreCount<a?(this.loadMoreCount+=1,this.poller.more()):this.trigger("content-ready")},_processPollerData:function(t){this.queue.add(t,{at:0}),this.queue.length>this.get("entity_retention")&&this.queue.remove(this.queue.slice(this.get("entity_retention"))),this._queueIndex+=this.queue.length,this._initialLoad&&(this._initialLoad=!1,this.queue.length<this.get("tileCount")+2?(this.loadMoreCount+=1,this.poller.more()):this.trigger("content-ready"))}});return s}),define("components/mosaic-2/models/MosaicGroupText",["require","massrel-js-backbone","components/mosaic-2/models/MosaicGroup"],function(t){var e=t("massrel-js-backbone"),i=t("components/mosaic-2/models/MosaicGroup"),n=i.extend({defaults:{name:"text",type:"text",stream_name:"massreldemo/amazing-text",status_style:"",entity_retention:50,strip_links:!1},_createPoller:function(){this.poller=new e.StreamPoller({stream_name:this.get("stream_name"),strip_links:this.get("strip_links"),tweet_mode:"extended"}),this.poller.process(e.processors.rejectIfNoText)}});return n}),define("components/mosaic-2/models/MosaicGroupMedia",["require","lodash","q","massrel-js-backbone","components/mosaic-2/models/MosaicGroup"],function(t){var e=t("lodash"),i=t("q"),n=t("massrel-js-backbone"),a=t("components/mosaic-2/models/MosaicGroup"),s=a.extend({defaults:{name:"media",type:"media",stream_name:"massreldemo/amazing-media",status_style:"",entity_retention:50,page_links:!1,strip_links:!1,tileCount:0},_createPoller:function(){this.poller=new n.StreamPoller({stream_name:this.get("stream_name"),embed_media:!0,page_links:this.get("page_links"),strip_links:this.get("strip_links"),tweet_mode:"extended"}),this.poller.process(n.processors.rejectIfMediaNotPhotoOrVideo)},_processPollerData:function(t){var a=this;this.queue.add(t,{at:0}),this.queue.length>this.get("entity_retention")&&this.queue.remove(this.queue.slice(this.get("entity_retention"))),this._initialLoad&&(this._initialLoad=!1,this.poller.process(n.processors.rejectIfInvalidPhoto),e.defer(function(){a.queue.each(function(t){var s=i.defer();n.processors.rejectIfInvalidPhoto(t,s),s.promise.fail(function(){a.queue.remove(t),t.tiles&&t.tiles.length&&e.each(t.tiles,function(t){a.getContent({tile:t,noAnimation:!0})})})})}),this.queue.length<this.get("tileCount")+2?(a.loadMoreCount+=1,this.poller.more()):this.trigger("content-ready"))}});return s}),define("components/mosaic-2/models/MosaicGroupPhoto",["require","massrel-js-backbone","components/mosaic-2/models/MosaicGroup"],function(t){var e=t("massrel-js-backbone"),i=t("components/mosaic-2/models/MosaicGroup"),n=i.extend({defaults:{name:"media",type:"media",stream_name:"massreldemo/amazing-media",status_style:"",entity_retention:50,page_links:!1,strip_links:!1,tileCount:0},_createPoller:function(){this.poller=new e.StreamPoller({stream_name:this.get("stream_name"),embed_media:!0,page_links:this.get("page_links"),strip_links:this.get("strip_links"),tweet_mode:"extended"}),this.poller.process(e.processors.allowOnlyValidPhoto)}});return n}),define("components/mosaic-2/models/MosaicGroupMixed",["require","massrel-js-backbone","components/mosaic-2/models/MosaicGroup"],function(t){var e=t("massrel-js-backbone"),i=t("components/mosaic-2/models/MosaicGroup"),n=i.extend({defaults:{name:"mixed",type:"mixed",stream_name:"massreldemo/amazing",status_style:"",media_status_style:"",text_status_style:"",entity_retention:50,page_links:!1,strip_links:!1,tileCount:0},_createPoller:function(){this.poller=new e.StreamPoller({stream_name:this.get("stream_name"),embed_media:!0,page_links:this.get("page_links"),strip_links:this.get("strip_links"),tweet_mode:"extended"}),this.poller.process(e.processors.fetchMedia)},statusStyle:function(){var t=this;return t.media_status_style&&t.text_status_style?{overrides:function(e){return e.get("media").length?t.media_status_style?t.media_status_style.overrides(e):null:t.text_status_style?t.text_status_style.overrides(e):null}}:t.media_status_style||t.text_status_style}});return n}),define("components/mosaic-2/models/MosaicGroupStatic",["require","jquery","lodash","backbone-amd"],function(t){var e=t("jquery"),i=t("lodash"),n=t("backbone-amd"),a=n.Model.extend({defaults:{name:"static",type:"static",content:"",tilesDontChange:!0},initialize:function(t){this.set(i.extend({},this.defaults,i.pick(t,i.without(i.keys(this.defaults),"type")))),""===this.get("content")&&this.set("content","#"+this.get("type")+"__"+this.get("name")),this.on("start",i.bind(this.onStart,this)),this.on("stop",i.bind(this.onStop,this)),this.on("request-content",i.bind(this.getContent,this)),this._initialLoad=!0},onStart:function(){this._initialLoad&&(this._initialLoad=!1,this.trigger("content-ready"))},onStop:function(){},getContent:function(t){var i=t.tile,n=this.get("content"),a=null;if(this.get("tilesDontChange")&&i.set("canChange",!1),"string"==typeof n)a=e(n),i.trigger("changeWithElement",{$el:a,opts:{noAnimation:t.noAnimation}});else if("function"==typeof n)a=e(n(this.attributes)),i.trigger("changeWithElement",{$el:a,opts:{noAnimation:t.noAnimation}});else if("object"==typeof n){if(!n.model||!n.View)return window.console.warn("The content object provided to group "+this.get("name")+" doesn't have model and View attributes"),void 0;i.trigger("changeWithModelView",{model:n.model,View:n.View,opts:{noAnimation:t.noAnimation}})}else window.console.warn("Unknown content provided for group "+this.get("name"))}});return a}),define("components/mosaic-2/models/MosaicModel",["require","lodash","backbone-amd","./MosaicGroupText","./MosaicGroupMedia","./MosaicGroupPhoto","./MosaicGroupMixed","./MosaicGroupStatic"],function(t){var e=t("lodash"),i=t("backbone-amd"),n=t("./MosaicGroupText"),a=t("./MosaicGroupMedia"),s=t("./MosaicGroupPhoto"),r=t("./MosaicGroupMixed"),o=t("./MosaicGroupStatic"),l=i.Model.extend({defaults:{layout:[],use_layout:!0,use_manager:!0,start_paused:!1,no_initial_animation:!0,frequency:2e3,groups:[]},initialize:function(t){var i=this;this.set(e.extend({},this.defaults,e.pick(t.config,e.keys(this.defaults)))),this._groupTypes={},this.setGroupType("text",n),this.setGroupType("media",a),this.setGroupType("photo",s),this.setGroupType("mixed",r),this.on("change:currentDevice",i._handleDeviceChange);var l=this._calculateRows(t.config.additional_layouts,t.tiles),u=[];e.forEach(l.layouts,function(t){""!==t.name&&u.push(t)}),this.set("additional_layouts",u),this._groups={},this._groupsInitialized=!1,e.forEach(this.get("groups"),function(t){"static"===t.type&&i._setupGroup(o,t,!1)}),t.config&&t.config.layout&&t.config.tiles&&(this._calculateRows(t.config.layout,t.tiles),this.set("layout",this._setupLayouts(t.config.layout))),this._status_styles={},this.get("dispatcher").on("discovery",e.bind(this._discover,this))},_discover:function(t){"status-style"===t.payload.type&&(this._status_styles[t.payload.id]=t.payload.component)},getGroupType:function(t){return this._groupTypes[t]},setGroupType:function(t,e){if(this._groupsInitialized)throw"Groups have already been initialized. Unable to add type: "+t;if("static"===t)throw"Unable to overwrite the static group.";this._groupTypes[t]=e},initializeGroups:function(){var t=this,i=this.get("tiles");this._groupsInitialized||(e.forEach(this.get("groups"),function(e){if("static"===e.type){var n=t._groups[e.name],a=i.where({group_name:e.name});return t._requestContent(n,a,t.get("no_initial_animation")),void 0}var s=t._groupTypes[e.type];if(!s)throw"Missing group for type: "+e.type;t._setupGroup(s,e,!0)}),this._tileVisibilityChange(),this._groupsInitialized=!0)},startGroups:function(){e.forEach(this._groups,function(t){t.trigger("start")})},stopGroups:function(){e.forEach(this._groups,function(t){t.trigger("stop")})},getGroup:function(t){return this._groups[t]},refreshGroup:function(t){var e=this.getGroup(t),i=this.get("tiles").where({group_name:t});this._requestContent(e,i,!1)},_tileVisibilityChange:function(){this.set("visibleTiles",e.filter(this.get("tiles").models,function(t){return t.get("_shouldChange")}))},_setupGroup:function(t,i,n){var a=this,s=this.get("tiles"),r=s.where({group_name:i.name});i.tileCount=r.length;var o=new t(i);i.status_style&&this._status_styles[i.status_style]&&(o.status_style=this._status_styles[i.status_style]),i.media_status_style&&this._status_styles[i.media_status_style]&&(o.media_status_style=this._status_styles[i.media_status_style]),i.text_status_style&&this._status_styles[i.text_status_style]&&(o.text_status_style=this._status_styles[i.text_status_style]),"mixed"===i.type&&(o.status_style=o.statusStyle),e.forEach(r,function(t){t.set("group",o),a.listenTo(t,"change:_shouldChange",e.debounce(e.bind(a._tileVisibilityChange,a),250))}),this.listenToOnce(o,"content-ready",function(){n&&a._requestContent(o,r,a.get("no_initial_animation"))}),this.listenTo(o,"show-details",function(t){t.group=o,this.trigger("show-details",t)}),this._groups[i.name]=o},_handleDeviceChange:function(){var t=this;if(this._groupsInitialized){var i=this.get("tiles");e.forEach(this.get("groups"),function(n){if("static"!==n.type){var a=t._groups[n.name],s=i.where({group_name:n.name}),r=t.get("currentDevice");e.forEach(s,function(t){t.get("layout")[r].hidden||t.get("tileModel").get("mvm")?a.trigger("clear-content",{tile:t}):a.trigger("request-content",{tile:t,noAnimation:!0})})}})}},_requestContent:function(t,i,n){var a=this,s=this.get("currentDevice");e.forEach(i,function(e){a.get("use_layout")&&e.get("layout")[s].hidden||t.trigger("request-content",{tile:e,noAnimation:n})})},_calculateRows:function(t,i){return e.forEach(t,function(e,n){for(var a=e.name,s=0,r=0;r<i.length;r++){var o=i.at(r).get("layout")[a];o&&!o.hidden&&o.y+o.height>s&&(s=o.y+o.height)}t[n].rows=s}),{layouts:t,tiles:i}},_setupLayouts:function(t){return e.forEach(t,function(t){t.breakpoint||(t.breakpoint=0)}),e.sortBy(e.where(t,"enabled"),"breakpoint")}});return l}),define("tmpl!mosaic-container",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="mosaic-container">\n',_.each(tiles.models,function(t){__p+="\n  "+(null==(__t=subview("mosaic-tile",t))?"":__t)+"\n"}),__p+="\n</div>";return __p},metadata:{customizable:!0},name:"mosaic-container"})}),define("tmpl!mosaic-tile",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __t,__p="";with(_.escape,obj)__p+=null==(__t=subview("mosaic-tile-content",tileModel))?"":__t;return __p},metadata:{},name:"mosaic-tile"})}),define("tmpl!tile-content",["lodash","templateCompiler"],function(_,templateCompiler){return templateCompiler.compile({fn:function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="tile-wrapper">\n  <div class="tile-from tile-cell tile-back tile-hidden">\n    <div class="tile-content"></div>\n  </div>\n  <div class="tile-to tile-cell tile-front tile-hidden">\n    <div class="tile-content"></div>\n  </div>\n</div>';return __p},metadata:{},name:"tile-content"})}),(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=[].slice,a=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=a.prototype.render},s=1e-10,r=i._internals.isSelector,o=i._internals.isArray,l=a.prototype=i.to({},.1,{}),u=[];a.version="1.11.4",l.constructor=a,l.kill()._gc=!1,a.killTweensOf=a.killDelayedCallsTo=i.killTweensOf,a.getTweensOf=i.getTweensOf,a.ticker=i.ticker,l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},l.updateTo=function(t,e){var n,a=this.ratio;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted)if(e)this._initted=!1;else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._time;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._time>0){this._initted=!1,this._init();for(var r,o=1/(1-a),l=this._firstPT;l;)r=l.s+l.c,l.c*=o,l.s=r-l.c,l=l._next}return this},l.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,a,r,o,l,d,c,p,h=this._dirty?this.totalDuration():this._totalDuration,m=this._time,f=this._totalTime,_=this._cycle,g=this._duration;if(t>=h?(this._totalTime=h,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,a="onComplete"),0===g&&(p=this._rawPrevTime,(0===t||0>p||p===s)&&p!==t&&(i=!0,p>s&&(a="onReverseComplete")),this._rawPrevTime=p=!e||t||0===p?t:s)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==f||0===g&&this._rawPrevTime>s)&&(a="onReverseComplete",n=this._reversed),0>t?(this._active=!1,0===g&&(this._rawPrevTime>=0&&(i=!0),this._rawPrevTime=p=!e||t||0===this._rawPrevTime?t:s)):this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(o=g+this._repeatDelay,this._cycle=this._totalTime/o>>0,0!==this._cycle&&this._cycle===this._totalTime/o&&this._cycle--,this._time=this._totalTime-this._cycle*o,this._yoyo&&0!==(1&this._cycle)&&(this._time=g-this._time),this._time>g?this._time=g:0>this._time&&(this._time=0)),this._easeType?(l=this._time/g,d=this._easeType,c=this._easePower,(1===d||3===d&&l>=.5)&&(l=1-l),3===d&&(l*=2),1===c?l*=l:2===c?l*=l*l:3===c?l*=l*l*l:4===c&&(l*=l*l*l*l),this.ratio=1===d?1-l:2===d?l:.5>this._time/g?l/2:1-l/2):this.ratio=this._ease.getRatio(this._time/g)),m===this._time&&!i&&_===this._cycle)return f!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u)),void 0;if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/g):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==m&&t>=0&&(this._active=!0),0===f&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):a||(a="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===g)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||u))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==f||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u)),this._cycle!==_&&(e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||u)),a&&(this._gc||(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||u),0===g&&this._rawPrevTime===s&&p!==s&&(this._rawPrevTime=0)))},a.to=function(t,e,i){return new a(t,e,i)},a.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new a(t,e,i)},a.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new a(t,e,n)},a.staggerTo=a.allTo=function(t,e,s,l,d,c,p){l=l||0;var h,m,f,_,g=s.delay||0,v=[],b=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),d.apply(p||this,c||u)};for(o(t)||("string"==typeof t&&(t=i.selector(t)||t),r(t)&&(t=n.call(t,0))),h=t.length,f=0;h>f;f++){m={};for(_ in s)m[_]=s[_];m.delay=g,f===h-1&&d&&(m.onComplete=b),v[f]=new a(t[f],e,m),g+=l}return v},a.staggerFrom=a.allFrom=function(t,e,i,n,s,r,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,a.staggerTo(t,e,i,n,s,r,o)},a.staggerFromTo=a.allFromTo=function(t,e,i,n,s,r,o,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,a.staggerTo(t,e,n,s,r,o,l)},a.delayedCall=function(t,e,i,n,s){return new a(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:s,overwrite:0})},a.set=function(t,e){return new a(t,0,e)},a.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var d=function(t,e){for(var n=[],a=0,s=t._first;s;)s instanceof i?n[a++]=s:(e&&(n[a++]=s),n=n.concat(d(s,e)),a=n.length),s=s._next;return n},c=a.getAllTweens=function(e){return d(t._rootTimeline,e).concat(d(t._rootFramesTimeline,e))};a.killAll=function(t,i,n,a){null==i&&(i=!0),null==n&&(n=!0);var s,r,o,l=c(0!=a),u=l.length,d=i&&n&&a;for(o=0;u>o;o++)r=l[o],(d||r instanceof e||(s=r.target===r.vars.onComplete)&&n||i&&!s)&&(t?r.totalTime(r.totalDuration()):r._enabled(!1,!1))},a.killChildTweensOf=function(t,e){if(null!=t){var s,l,u,d,c,p=i._tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),r(t)&&(t=n.call(t,0)),o(t))for(d=t.length;--d>-1;)a.killChildTweensOf(t[d],e);else{s=[];for(u in p)for(l=p[u].target.parentNode;l;)l===t&&(s=s.concat(p[u].tweens)),l=l.parentNode;for(c=s.length,d=0;c>d;d++)e&&s[d].totalTime(s[d].totalDuration()),s[d]._enabled(!1,!1)}}};var p=function(t,i,n,a){i=i!==!1,n=n!==!1,a=a!==!1;for(var s,r,o=c(a),l=i&&n&&a,u=o.length;--u>-1;)r=o[u],(l||r instanceof e||(s=r.target===r.vars.onComplete)&&n||i&&!s)&&r.paused(t)};return a.pauseAll=function(t,e,i){p(!0,t,e,i)},a.resumeAll=function(t,e,i){p(!1,t,e,i)},a.globalTimeScale=function(e){var n=t._rootTimeline,a=i.ticker.time;return arguments.length?(e=e||s,n._startTime=a-(a-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,a=i.ticker.frame,n._startTime=a-(a-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},l.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},l.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},a},!0),window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,a=this.vars;for(n in a)i=a[n],r(i)&&-1!==i.join("").indexOf("{self}")&&(a[n]=this._swapSelfInParams(i));r(a.tweens)&&this.add(a.tweens,0,a.align,a.stagger)},a=1e-10,s=i._internals.isSelector,r=i._internals.isArray,o=[],l=function(t){var e,i={};for(e in t)i[e]=t[e];return i},u=function(t,e,i,n){t._timeline.pause(t._startTime),e&&e.apply(n||t._timeline,i||o)},d=o.slice,c=n.prototype=new e;return n.version="1.11.4",c.constructor=n,c.kill()._gc=!1,c.to=function(t,e,n,a){return e?this.add(new i(t,e,n),a):this.set(t,n,a)},c.from=function(t,e,n,a){return this.add(i.from(t,e,n),a)},c.fromTo=function(t,e,n,a,s){return e?this.add(i.fromTo(t,e,n,a),s):this.set(t,a,s)},c.staggerTo=function(t,e,a,r,o,u,c,p){var h,m=new n({onComplete:u,onCompleteParams:c,onCompleteScope:p,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),s(t)&&(t=d.call(t,0)),r=r||0,h=0;t.length>h;h++)a.startAt&&(a.startAt=l(a.startAt)),m.to(t[h],e,l(a),h*r);return this.add(m,o)},c.staggerFrom=function(t,e,i,n,a,s,r,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,a,s,r,o)
},c.staggerFromTo=function(t,e,i,n,a,s,r,o,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,a,s,r,o,l)},c.call=function(t,e,n,a){return this.add(i.delayedCall(0,t,e,n),a)},c.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var a,s,r=new n(t),o=r._timeline;for(null==e&&(e=!0),o._remove(r,!0),r._startTime=0,r._rawPrevTime=r._time=r._totalTime=o._time,a=o._first;a;)s=a._next,e&&a instanceof i&&a.target===a.vars.onComplete||r.add(a,a._startTime-a._delay),a=s;return o.add(r,0),r},c.add=function(a,s,o,l){var u,d,c,p,h,m;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,a)),!(a instanceof t)){if(a instanceof Array||a&&a.push&&r(a)){for(o=o||"normal",l=l||0,u=s,d=a.length,c=0;d>c;c++)r(p=a[c])&&(p=new n({tweens:p})),this.add(p,u),"string"!=typeof p&&"function"!=typeof p&&("sequence"===o?u=p._startTime+p.totalDuration()/p._timeScale:"start"===o&&(p._startTime-=p.delay())),u+=l;return this._uncache(!0)}if("string"==typeof a)return this.addLabel(a,s);if("function"!=typeof a)throw"Cannot add "+a+" into the timeline; it is not a tween, timeline, function, or string.";a=i.delayedCall(0,a)}if(e.prototype.add.call(this,a,s),this._gc&&!this._paused&&this._duration<this.duration())for(h=this,m=h.rawTime()>a._startTime;h._gc&&h._timeline;)h._timeline.smoothChildTiming&&m?h.totalTime(h._totalTime,!0):h._enabled(!0,!1),h=h._timeline;return this},c.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&r(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},c._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},c.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},c.insert=c.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},c.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},c.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},c.addPause=function(t,e,i,n){return this.call(u,["{self}",e,i,n],this,t)},c.removeLabel=function(t){return delete this._labels[t],this},c.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},c._parseTimeOrLabel=function(e,i,n,a){var s;if(a instanceof t&&a.timeline===this)this.remove(a);else if(a&&(a instanceof Array||a.push&&r(a)))for(s=a.length;--s>-1;)a[s]instanceof t&&a[s].timeline===this&&this.remove(a[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(s=e.indexOf("="),-1===s)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,n):this.duration()}return Number(e)+i},c.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},c.stop=function(){return this.paused(!0)},c.gotoAndPlay=function(t,e){return this.play(t,e)},c.gotoAndStop=function(t,e){return this.pause(t,e)},c.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,r,l,u,d=this._dirty?this.totalDuration():this._totalDuration,c=this._time,p=this._startTime,h=this._timeScale,m=this._paused;if(t>=d?(this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(s=!0,l="onComplete",0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===a)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>a&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||0===this._rawPrevTime?t:a,t=d+1e-4):1e-7>t?(this._totalTime=this._time=0,(0!==c||0===this._duration&&(this._rawPrevTime>a||0>t&&this._rawPrevTime>=0))&&(l="onReverseComplete",s=this._reversed),0>t?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t):(this._rawPrevTime=this._duration||!e||t||0===this._rawPrevTime?t:a,t=0,this._initted||(u=!0))):this._totalTime=this._time=this._rawPrevTime=t,this._time!==c&&this._first||i||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==c&&t>0&&(this._active=!0),0===c&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||o)),this._time>=c)for(n=this._first;n&&(r=n._next,!this._paused||m);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r;else for(n=this._last;n&&(r=n._prev,!this._paused||m);)(n._active||c>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r;this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||o)),l&&(this._gc||(p===this._startTime||h!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this.vars[l].apply(this.vars[l+"Scope"]||this,this.vars[l+"Params"]||o)))}},c._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},c.getChildren=function(t,e,n,a){a=a||-9999999999;for(var s=[],r=this._first,o=0;r;)a>r._startTime||(r instanceof i?e!==!1&&(s[o++]=r):(n!==!1&&(s[o++]=r),t!==!1&&(s=s.concat(r.getChildren(!0,e,n)),o=s.length))),r=r._next;return s},c.getTweensOf=function(t,e){for(var n=i.getTweensOf(t),a=n.length,s=[],r=0;--a>-1;)(n[a].timeline===this||e&&this._contains(n[a]))&&(s[r++]=n[a]);return s},c._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},c.shiftChildren=function(t,e,i){i=i||0;for(var n,a=this._first,s=this._labels;a;)a._startTime>=i&&(a._startTime+=t),a=a._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},c._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,a=!1;--n>-1;)i[n]._kill(t,e)&&(a=!0);return a},c.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},c.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return this},c._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},c.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},c.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,a=this._last,s=999999999999;a;)e=a._prev,a._dirty&&a.totalDuration(),a._startTime>s&&this._sortChildren&&!a._paused?this.add(a,a._startTime-a._delay):s=a._startTime,0>a._startTime&&!a._paused&&(n-=a._startTime,this._timeline.smoothChildTiming&&(this._startTime+=a._startTime/this._timeScale),this.shiftChildren(-a._startTime,!1,-9999999999),s=0),i=a._startTime+a._totalDuration/a._timeScale,i>n&&(n=i),a=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},c.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},c.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},a=1e-10,s=[],r=new i(null,null,1,0),o=n.prototype=new t;return o.constructor=n,o.kill()._gc=!1,n.version="1.11.4",o.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},o.addCallback=function(t,i,n,a){return this.add(e.delayedCall(0,t,n,a),i)},o.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,a=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===a&&i[n]._enabled(!1,!1);return this},o.tweenTo=function(t,i){i=i||{};var n,a,o,l={ease:r,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1};for(a in i)l[a]=i[a];return l.time=this._parseTimeOrLabel(t),n=Math.abs(Number(l.time)-this._time)/this._timeScale||.001,o=new e(this,n,l),l.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&n===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),i.onStart&&i.onStart.apply(i.onStartScope||o,i.onStartParams||s)},o},o.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],onCompleteScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},o.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,o,l,u,d,c=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,h=this._time,m=this._totalTime,f=this._startTime,_=this._timeScale,g=this._rawPrevTime,v=this._paused,b=this._cycle;if(t>=c?(this._locked||(this._totalTime=c,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,l="onComplete",0===this._duration&&(0===t||0>g||g===a)&&g!==t&&this._first&&(u=!0,g>a&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||0===this._rawPrevTime?t:a,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=p,t=p+1e-4)):1e-7>t?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==h||0===p&&(g>a||0>t&&g>=0)&&!this._locked)&&(l="onReverseComplete",r=this._reversed),0>t?(this._active=!1,0===p&&g>=0&&this._first&&(u=!0),this._rawPrevTime=t):(this._rawPrevTime=p||!e||t||0===this._rawPrevTime?t:a,t=0,this._initted||(u=!0))):(0===p&&0>g&&(u=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(d=p+this._repeatDelay,this._cycle=this._totalTime/d>>0,0!==this._cycle&&this._cycle===this._totalTime/d&&this._cycle--,this._time=this._totalTime-this._cycle*d,this._yoyo&&0!==(1&this._cycle)&&(this._time=p-this._time),this._time>p?(this._time=p,t=p+1e-4):0>this._time?this._time=t=0:t=this._time))),this._cycle!==b&&!this._locked){var y=this._yoyo&&0!==(1&b),w=y===(this._yoyo&&0!==(1&this._cycle)),k=this._totalTime,x=this._cycle,q=this._rawPrevTime,T=this._time;if(this._totalTime=b*p,b>this._cycle?y=!y:this._totalTime+=p,this._time=h,this._rawPrevTime=0===p?g-1e-4:g,this._cycle=b,this._locked=!0,h=y?0:p,this.render(h,e,0===p),e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||s),w&&(h=y?p+1e-4:-1e-4,this.render(h,!0,!1)),this._locked=!1,this._paused&&!v)return;this._time=T,this._totalTime=k,this._cycle=x,this._rawPrevTime=q}if(!(this._time!==h&&this._first||i||u))return m!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),void 0;if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&0!==this._totalTime&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s)),this._time>=h)for(n=this._first;n&&(o=n._next,!this._paused||v);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,!this._paused||v);)(n._active||h>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),l&&(this._locked||this._gc||(f===this._startTime||_!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this.vars[l].apply(this.vars[l+"Scope"]||this,this.vars[l+"Params"]||s)))},o.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,a,s=[],r=this.getChildren(t,e,i),o=0,l=r.length;for(n=0;l>n;n++)a=r[n],a.isActive()&&(s[o++]=a);return s},o.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;n>e;e++)if(i[e].time>t)return i[e].name;return null},o.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(t>e[i].time)return e[i].name;return null},o.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},o.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},o.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},o.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},o.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},o.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},o.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],a={},s=function(t,e,i,n){this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},r=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",o=function(t,e,i,n){var a={a:t},s={},r={},o={c:n},l=(t+e)/2,u=(e+i)/2,d=(i+n)/2,c=(l+u)/2,p=(u+d)/2,h=(p-c)/8;return a.b=l+(t-l)/4,s.b=c+h,a.c=s.a=(a.b+s.b)/2,s.c=r.a=(c+p)/2,r.b=p-h,o.b=d+(n-d)/4,r.c=o.a=(r.b+o.b)/2,[a,s,r,o]},l=function(t,a,s,r,l){var u,d,c,p,h,m,f,_,g,v,b,y,w,k=t.length-1,x=0,q=t[0].a;for(u=0;k>u;u++)h=t[x],d=h.a,c=h.d,p=t[x+1].d,l?(b=e[u],y=i[u],w=.25*(y+b)*a/(r?.5:n[u]||.5),m=c-(c-d)*(r?.5*a:0!==b?w/b:0),f=c+(p-c)*(r?.5*a:0!==y?w/y:0),_=c-(m+((f-m)*(3*b/(b+y)+.5)/4||0))):(m=c-.5*(c-d)*a,f=c+.5*(p-c)*a,_=c-(m+f)/2),m+=_,f+=_,h.c=g=m,h.b=0!==u?q:q=h.a+.6*(h.c-h.a),h.da=c-d,h.ca=g-d,h.ba=q-d,s?(v=o(d,q,g,c),t.splice(x,1,v[0],v[1],v[2],v[3]),x+=4):x++,q=f;h=t[x],h.b=q,h.c=q+.4*(h.d-q),h.da=h.d-h.a,h.ca=h.c-h.a,h.ba=q-h.a,s&&(v=o(h.a,q,h.c,h.d),t.splice(x,1,v[0],v[1],v[2],v[3]))},u=function(t,n,a,r){var o,l,u,d,c,p,h=[];if(r)for(t=[r].concat(t),l=t.length;--l>-1;)"string"==typeof(p=t[l][n])&&"="===p.charAt(1)&&(t[l][n]=r[n]+Number(p.charAt(0)+p.substr(2)));if(o=t.length-2,0>o)return h[0]=new s(t[0][n],0,0,t[-1>o?0:1][n]),h;for(l=0;o>l;l++)u=t[l][n],d=t[l+1][n],h[l]=new s(u,0,0,d),a&&(c=t[l+2][n],e[l]=(e[l]||0)+(d-u)*(d-u),i[l]=(i[l]||0)+(c-d)*(c-d));return h[l]=new s(t[l][n],0,0,t[l+1][n]),h},d=function(t,s,o,d,c,p){var h,m,f,_,g,v,b,y,w={},k=[],x=p||t[0];c="string"==typeof c?","+c+",":r,null==s&&(s=1);for(m in t[0])k.push(m);if(t.length>1){for(y=t[t.length-1],b=!0,h=k.length;--h>-1;)if(m=k[h],Math.abs(x[m]-y[m])>.05){b=!1;break}b&&(t=t.concat(),p&&t.unshift(p),t.push(t[1]),p=t[t.length-3])}for(e.length=i.length=n.length=0,h=k.length;--h>-1;)m=k[h],a[m]=-1!==c.indexOf(","+m+","),w[m]=u(t,m,a[m],p);for(h=e.length;--h>-1;)e[h]=Math.sqrt(e[h]),i[h]=Math.sqrt(i[h]);if(!d){for(h=k.length;--h>-1;)if(a[m])for(f=w[k[h]],v=f.length-1,_=0;v>_;_++)g=f[_+1].da/i[_]+f[_].da/e[_],n[_]=(n[_]||0)+g*g;for(h=n.length;--h>-1;)n[h]=Math.sqrt(n[h])}for(h=k.length,_=o?4:1;--h>-1;)m=k[h],f=w[m],l(f,s,o,d,a[m]),b&&(f.splice(0,_),f.splice(f.length-_,_));return w},c=function(t,e,i){e=e||"soft";var n,a,r,o,l,u,d,c,p,h,m,f={},_="cubic"===e?3:2,g="soft"===e,v=[];if(g&&i&&(t=[i].concat(t)),null==t||_+1>t.length)throw"invalid Bezier data";for(p in t[0])v.push(p);for(u=v.length;--u>-1;){for(p=v[u],f[p]=l=[],h=0,c=t.length,d=0;c>d;d++)n=null==i?t[d][p]:"string"==typeof(m=t[d][p])&&"="===m.charAt(1)?i[p]+Number(m.charAt(0)+m.substr(2)):Number(m),g&&d>1&&c-1>d&&(l[h++]=(n+l[h-2])/2),l[h++]=n;for(c=h-_+1,h=0,d=0;c>d;d+=_)n=l[d],a=l[d+1],r=l[d+2],o=2===_?0:l[d+3],l[h++]=m=3===_?new s(n,a,r,o):new s(n,(2*a+n)/3,(2*a+r)/3,r);l.length=h}return f},p=function(t,e,i){for(var n,a,s,r,o,l,u,d,c,p,h,m=1/i,f=t.length;--f>-1;)for(p=t[f],s=p.a,r=p.d-s,o=p.c-s,l=p.b-s,n=a=0,d=1;i>=d;d++)u=m*d,c=1-u,n=a-(a=(u*u*r+3*c*(u*o+c*l))*u),h=f*i+d-1,e[h]=(e[h]||0)+n*n},h=function(t,e){e=e>>0||6;var i,n,a,s,r=[],o=[],l=0,u=0,d=e-1,c=[],h=[];for(i in t)p(t[i],r,e);for(a=r.length,n=0;a>n;n++)l+=Math.sqrt(r[n]),s=n%e,h[s]=l,s===d&&(u+=l,s=n/e>>0,c[s]=h,o[s]=u,l=0,h=[]);return{length:u,lengths:o,segments:c}},m=window._gsDefine.plugin({propName:"bezier",priority:-1,API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,a,s,r,o,l=e.values||[],u={},p=l[0],m=e.autoRotate||i.vars.orientToBezier;this._autoRotate=m?m instanceof Array?m:[["x","y","rotation",m===!0?0:Number(m)||0]]:null;for(n in p)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),a=this._func[n]="function"==typeof t[n],u[n]=a?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),o||u[n]!==l[0][n]&&(o=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?d(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,o):c(l,e.type,u),this._segCount=this._beziers[n].length,this._timeRes){var f=h(this._beziers,this._timeRes);this._length=f.length,this._lengths=f.lengths,this._segments=f.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(m=this._autoRotate)for(m[0]instanceof Array||(this._autoRotate=m=[m]),s=m.length;--s>-1;)for(r=0;3>r;r++)n=m[s][r],this._func[n]="function"==typeof t[n]?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]:!1;return!0},set:function(e){var i,n,a,s,r,o,l,u,d,c,p=this._segCount,h=this._func,m=this._target;if(this._timeRes){if(d=this._lengths,c=this._curSeg,e*=this._length,a=this._li,e>this._l2&&p-1>a){for(u=p-1;u>a&&e>=(this._l2=d[++a]););this._l1=d[a-1],this._li=a,this._curSeg=c=this._segments[a],this._s2=c[this._s1=this._si=0]}else if(this._l1>e&&a>0){for(;a>0&&(this._l1=d[--a])>=e;);0===a&&this._l1>e?this._l1=0:a++,this._l2=d[a],this._li=a,this._curSeg=c=this._segments[a],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(i=a,e-=this._l1,a=this._si,e>this._s2&&c.length-1>a){for(u=c.length-1;u>a&&e>=(this._s2=c[++a]););this._s1=c[a-1],this._si=a}else if(this._s1>e&&a>0){for(;a>0&&(this._s1=c[--a])>=e;);0===a&&this._s1>e?this._s1=0:a++,this._s2=c[a],this._si=a}o=(a+(e-this._s1)/(this._s2-this._s1))*this._prec}else i=0>e?0:e>=1?p-1:p*e>>0,o=(e-i*(1/p))*p;for(n=1-o,a=this._props.length;--a>-1;)s=this._props[a],r=this._beziers[s][i],l=(o*o*r.da+3*n*(o*r.ca+n*r.ba))*o+r.a,this._round[s]&&(l=l+(l>0?.5:-.5)>>0),h[s]?m[s](l):m[s]=l;if(this._autoRotate){var f,_,g,v,b,y,w,k=this._autoRotate;for(a=k.length;--a>-1;)s=k[a][2],y=k[a][3]||0,w=k[a][4]===!0?1:t,r=this._beziers[k[a][0]],f=this._beziers[k[a][1]],r&&f&&(r=r[i],f=f[i],_=r.a+(r.b-r.a)*o,v=r.b+(r.c-r.b)*o,_+=(v-_)*o,v+=(r.c+(r.d-r.c)*o-v)*o,g=f.a+(f.b-f.a)*o,b=f.b+(f.c-f.b)*o,g+=(b-g)*o,b+=(f.c+(f.d-f.c)*o-b)*o,l=Math.atan2(b-g,v-_)*w+y,h[s]?m[s](l):m[s]=l)}}}),f=m.prototype;m.bezierThrough=d,m.cubicToQuadratic=o,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new s(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=window._gsDefine.globals.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,a=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,r,o,l){e instanceof Array&&(e={values:e}),l=new m;var u,d,c,p=e.values,h=p.length-1,f=[],_={};if(0>h)return o;for(u=0;h>=u;u++)c=i(t,p[u],r,o,l,h!==u),f[u]=c.end;for(d in e)_[d]=e[d];return _.values=f,o=new a(t,"bezier",0,0,c.pt,2),o.data=c,o.plugin=l,o.setRatio=n,0===_.autoRotate&&(_.autoRotate=!0),!_.autoRotate||_.autoRotate instanceof Array||(u=_.autoRotate===!0?0:Number(_.autoRotate),_.autoRotate=null!=c.end.left?[["left","top","rotation",u,!1]]:null!=c.end.x?[["x","y","rotation",u,!1]]:!1),_.autoRotate&&(r._transform||r._enableTransforms(!1),c.autoRotate=r._target._gsTransform),l._onInitTween(c.proxy,_,r._tween),o}})}},f._roundProps=function(t,e){for(var i=this._overwriteProps,n=i.length;--n>-1;)(t[i[n]]||t.bezier||t.bezierThrough)&&(this._round[i[n]]=e)},f._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);return this._super._kill.call(this,t)}}(),window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,a,s,r=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=r.prototype.setRatio},o={},l=r.prototype=new t("css");l.constructor=r,r.version="1.11.4",r.API=2,r.defaultTransformPerspective=0,l="px",r.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var u,d,c,p,h,m,f=/(?:\d|\-\d|\.\d|\-\.\d)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,g=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,v=/[^\d\-\.]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,y=/opacity *= *([^)]*)/,w=/opacity:([^;]*)/,k=/alpha\(opacity *=.+?\)/i,x=/^(rgb|hsl)/,q=/([A-Z])/g,T=/-([a-z])/gi,S=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,C=function(t,e){return e.toUpperCase()},M=/(?:Left|Right|Width)/i,P=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,E=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,I=Math.PI/180,A=180/Math.PI,j={},F=document,R=F.createElement("div"),U=F.createElement("img"),L=r._internals={_specialProps:o},O=navigator.userAgent,z=function(){var t,e=O.indexOf("Android"),i=F.createElement("div");return c=-1!==O.indexOf("Safari")&&-1===O.indexOf("Chrome")&&(-1===e||Number(O.substr(e+8,1))>3),h=c&&6>Number(O.substr(O.indexOf("Version/")+8,1)),p=-1!==O.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(O)&&(m=parseFloat(RegExp.$1)),i.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",t=i.getElementsByTagName("a")[0],t?/^0.55/.test(t.style.opacity):!1}(),$=function(t){return y.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},N=function(t){window.console&&console.log(t)},B="",V="",H=function(t,e){e=e||R;var i,n,a=e.style;if(void 0!==a[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===a[i[n]+t];);return n>=0?(V=3===n?"ms":i[n],B="-"+V.toLowerCase()+"-",V+t):null},Y=F.defaultView?F.defaultView.getComputedStyle:function(){},W=r.getStyle=function(t,e,i,n,a){var s;return z||"opacity"!==e?(!n&&t.style[e]?s=t.style[e]:(i=i||Y(t,null))?(t=i.getPropertyValue(e.replace(q,"-$1").toLowerCase()),s=t||i.length?t:i[e]):t.currentStyle&&(s=t.currentStyle[e]),null==a||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:a):$(t)},G=function(t,e,i,n,a){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var s,r=M.test(e),o=t,l=R.style,u=0>i;return u&&(i=-i),"%"===n&&-1!==e.indexOf("border")?s=i/100*(r?t.clientWidth:t.clientHeight):(l.cssText="border:0 solid red;position:"+W(t,"position")+";line-height:0;","%"!==n&&o.appendChild?l[r?"borderLeftWidth":"borderTopWidth"]=i+n:(o=t.parentNode||F.body,l[r?"width":"height"]=i+n),o.appendChild(R),s=parseFloat(R[r?"offsetWidth":"offsetHeight"]),o.removeChild(R),0!==s||a||(s=G(t,e,i,n,!0))),u?-s:s},X=function(t,e,i){if("absolute"!==W(t,"position",i))return 0;var n="left"===e?"Left":"Top",a=W(t,"margin"+n,i);return t["offset"+n]-(G(t,e,parseFloat(a),a.replace(b,""))||0)},K=function(t,e){var i,n,a={};if(e=e||Y(t,null))if(i=e.length)for(;--i>-1;)a[e[i].replace(T,C)]=e.getPropertyValue(e[i]);else for(i in e)a[i]=e[i];else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0!==a[i]&&(a[i.replace(T,C)]=e[i]);return z||(a.opacity=$(t)),n=xe(t,e,!1),a.rotation=n.rotation,a.skewX=n.skewX,a.scaleX=n.scaleX,a.scaleY=n.scaleY,a.x=n.x,a.y=n.y,ke&&(a.z=n.z,a.rotationX=n.rotationX,a.rotationY=n.rotationY,a.scaleZ=n.scaleZ),a.filters&&delete a.filters,a},Z=function(t,e,i,n,a){var s,r,o,l={},u=t.style;for(r in i)"cssText"!==r&&"length"!==r&&isNaN(r)&&(e[r]!==(s=i[r])||a&&a[r])&&-1===r.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(l[r]="auto"!==s||"left"!==r&&"top"!==r?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[r]||""===e[r].replace(v,"")?s:0:X(t,r),void 0!==u[r]&&(o=new ce(u,r,u[r],o)));if(n)for(r in n)"className"!==r&&(l[r]=n[r]);return{difs:l,firstMPT:o}},J={width:["Left","Right"],height:["Top","Bottom"]},Q=["marginLeft","marginRight","marginTop","marginBottom"],te=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),a=J[e],s=a.length;for(i=i||Y(t,null);--s>-1;)n-=parseFloat(W(t,"padding"+a[s],i,!0))||0,n-=parseFloat(W(t,"border"+a[s]+"Width",i,!0))||0;return n},ee=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],a=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==a?a="0":"center"===a&&(a="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==a.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===a.charAt(1),e.ox=parseFloat(n.replace(v,"")),e.oy=parseFloat(a.replace(v,""))),n+" "+a+(i.length>2?" "+i[2]:"")},ie=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ne=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:parseFloat(t)},ae=function(t,e,i,n){var a,s,r,o,l=1e-6;return null==t?o=e:"number"==typeof t?o=t:(a=360,s=t.split("_"),r=Number(s[0].replace(v,""))*(-1===t.indexOf("rad")?1:A)-("="===t.charAt(1)?0:e),s.length&&(n&&(n[i]=e+r),-1!==t.indexOf("short")&&(r%=a,r!==r%(a/2)&&(r=0>r?r+a:r-a)),-1!==t.indexOf("_cw")&&0>r?r=(r+9999999999*a)%a-(0|r/a)*a:-1!==t.indexOf("ccw")&&r>0&&(r=(r-9999999999*a)%a-(0|r/a)*a)),o=e+r),l>o&&o>-l&&(o=0),o},se={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},re=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},oe=function(t){var e,i,n,a,s,r;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),se[t]?se[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),n=t.charAt(3),t="#"+e+e+i+i+n+n),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(f),a=Number(t[0])%360/360,s=Number(t[1])/100,r=Number(t[2])/100,i=.5>=r?r*(s+1):r+s-r*s,e=2*r-i,t.length>3&&(t[3]=Number(t[3])),t[0]=re(a+1/3,e,i),t[1]=re(a,e,i),t[2]=re(a-1/3,e,i),t):(t=t.match(f)||se.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):se.black},le="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in se)le+="|"+l+"\\b";le=RegExp(le+")","gi");var ue=function(t,e,i,n){if(null==t)return function(t){return t};var a,s=e?(t.match(le)||[""])[0]:"",r=t.split(s).join("").match(g)||[],o=t.substr(0,t.indexOf(r[0])),l=")"===t.charAt(t.length-1)?")":"",u=-1!==t.indexOf(" ")?" ":",",d=r.length,c=d>0?r[0].replace(f,""):"";return d?a=e?function(t){var e,p,h,m;if("number"==typeof t)t+=c;else if(n&&D.test(t)){for(m=t.replace(D,"|").split("|"),h=0;m.length>h;h++)m[h]=a(m[h]);return m.join(",")}if(e=(t.match(le)||[s])[0],p=t.split(e).join("").match(g)||[],h=p.length,d>h--)for(;d>++h;)p[h]=i?p[0|(h-1)/2]:r[h];return o+p.join(u)+u+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,p;if("number"==typeof t)t+=c;else if(n&&D.test(t)){for(s=t.replace(D,"|").split("|"),p=0;s.length>p;p++)s[p]=a(s[p]);return s.join(",")}if(e=t.match(g)||[],p=e.length,d>p--)for(;d>++p;)e[p]=i?e[0|(p-1)/2]:r[p];return o+e.join(u)+l}:function(t){return t}},de=function(t){return t=t.split(","),function(e,i,n,a,s,r,o){var l,u=(i+"").split(" ");for(o={},l=0;4>l;l++)o[t[l]]=u[l]=u[l]||u[(l-1)/2>>0];return a.parse(e,o,s,r)}},ce=(L._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,a,s=this.data,r=s.proxy,o=s.firstMPT,l=1e-6;o;)e=r[o.v],o.r?e=e>0?0|e+.5:0|e-.5:l>e&&e>-l&&(e=0),o.t[o.p]=e,o=o._next;if(s.autoRotate&&(s.autoRotate.rotation=r.rotation),1===t)for(o=s.firstMPT;o;){if(i=o.t,i.type){if(1===i.type){for(a=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)a+=i["xn"+n]+i["xs"+(n+1)];i.e=a}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,n,a){this.t=t,this.p=e,this.v=i,this.r=a,n&&(n._prev=this,this._next=n)}),pe=(L._parseToProxy=function(t,e,i,n,a,s){var r,o,l,u,d,c=n,p={},h={},m=i._transform,f=j;for(i._transform=null,j=e,n=d=i.parse(t,e,n,a),j=f,s&&(i._transform=m,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(1>=n.type&&(o=n.p,h[o]=n.s+n.c,p[o]=n.s,s||(u=new ce(n,"s",o,u,n.r),n.c=0),1===n.type))for(r=n.l;--r>0;)l="xn"+r,o=n.p+"_"+l,h[o]=n.data[l],p[o]=n[l],s||(u=new ce(n,l,o,u,n.rxp[l]));n=n._next}return{proxy:p,end:h,firstMPT:u,pt:d}},L.CSSPropTween=function(t,e,n,a,r,o,l,u,d,c,p){this.t=t,this.p=e,this.s=n,this.c=a,this.n=l||e,t instanceof pe||s.push(this.n),this.r=u,this.type=o||0,d&&(this.pr=d,i=!0),this.b=void 0===c?n:c,this.e=void 0===p?n+a:p,r&&(this._next=r,r._prev=this)}),he=r.parseComplex=function(t,e,i,n,a,s,r,o,l,d){i=i||s||"",r=new pe(t,e,0,0,r,d?2:1,null,!1,o,i,n),n+="";var c,p,h,m,g,v,b,y,w,k,q,T,S=i.split(", ").join(",").split(" "),C=n.split(", ").join(",").split(" "),M=S.length,P=u!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(S=S.join(" ").replace(D,", ").split(" "),C=C.join(" ").replace(D,", ").split(" "),M=S.length),M!==C.length&&(S=(s||"").split(" "),M=S.length),r.plugin=l,r.setRatio=d,c=0;M>c;c++)if(m=S[c],g=C[c],y=parseFloat(m),y||0===y)r.appendXtra("",y,ie(g,y),g.replace(_,""),P&&-1!==g.indexOf("px"),!0);
else if(a&&("#"===m.charAt(0)||se[m]||x.test(m)))T=","===g.charAt(g.length-1)?"),":")",m=oe(m),g=oe(g),w=m.length+g.length>6,w&&!z&&0===g[3]?(r["xs"+r.l]+=r.l?" transparent":"transparent",r.e=r.e.split(C[c]).join("transparent")):(z||(w=!1),r.appendXtra(w?"rgba(":"rgb(",m[0],g[0]-m[0],",",!0,!0).appendXtra("",m[1],g[1]-m[1],",",!0).appendXtra("",m[2],g[2]-m[2],w?",":T,!0),w&&(m=4>m.length?1:m[3],r.appendXtra("",m,(4>g.length?1:g[3])-m,T,!1)));else if(v=m.match(f)){if(b=g.match(_),!b||b.length!==v.length)return r;for(h=0,p=0;v.length>p;p++)q=v[p],k=m.indexOf(q,h),r.appendXtra(m.substr(h,k-h),Number(q),ie(b[p],q),"",P&&"px"===m.substr(k+q.length,2),0===p),h=k+q.length;r["xs"+r.l]+=m.substr(h)}else r["xs"+r.l]+=r.l?" "+m:m;if(-1!==n.indexOf("=")&&r.data){for(T=r.xs0+r.data.s,c=1;r.l>c;c++)T+=r["xs"+c]+r.data["xn"+c];r.e=T+r["xs"+c]}return r.l||(r.type=-1,r.xs0=r.e),r.xfirst||r},me=9;for(l=pe.prototype,l.l=l.pr=0;--me>0;)l["xn"+me]=0,l["xs"+me]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,i,n,a,s){var r=this,o=r.l;return r["xs"+o]+=s&&o?" "+t:t||"",i||0===o||r.plugin?(r.l++,r.type=r.setRatio?2:1,r["xs"+r.l]=n||"",o>0?(r.data["xn"+o]=e+i,r.rxp["xn"+o]=a,r["xn"+o]=e,r.plugin||(r.xfirst=new pe(r,"xn"+o,e,i,r.xfirst||r,0,r.n,a,r.pr),r.xfirst.xs0=0),r):(r.data={s:e+i},r.rxp={},r.s=e,r.c=i,r.r=a,r)):(r["xs"+o]+=e+(n||""),r)};var fe=function(t,e){e=e||{},this.p=e.prefix?H(t)||t:t,o[t]=o[this.p]=this,this.format=e.formatter||ue(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},_e=L._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,a,s=t.split(","),r=e.defaultValue;for(i=i||[r],n=0;s.length>n;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||r,a=new fe(s[n],e)},ge=function(t){if(!o[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";_e(t,{parser:function(t,i,n,a,s,r,l){var u=(window.GreenSockGlobals||window).com.greensock.plugins[e];return u?(u._cssRegister(),o[n].parse(t,i,n,a,s,r,l)):(N("Error: "+e+" js file not loaded."),s)}})}};l=fe.prototype,l.parseComplex=function(t,e,i,n,a,s){var r,o,l,u,d,c,p=this.keyword;if(this.multi&&(D.test(i)||D.test(e)?(o=e.replace(D,"|").split("|"),l=i.replace(D,"|").split("|")):p&&(o=[e],l=[i])),l){for(u=l.length>o.length?l.length:o.length,r=0;u>r;r++)e=o[r]=o[r]||this.dflt,i=l[r]=l[r]||this.dflt,p&&(d=e.indexOf(p),c=i.indexOf(p),d!==c&&(i=-1===c?l:o,i[r]+=" "+p));e=o.join(", "),i=l.join(", ")}return he(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,a,s)},l.parse=function(t,e,i,n,s,r){return this.parseComplex(t.style,this.format(W(t,this.p,a,!1,this.dflt)),this.format(e),s,r)},r.registerSpecialProp=function(t,e,i){_e(t,{parser:function(t,n,a,s,r,o){var l=new pe(t,a,0,0,r,2,a,!1,i);return l.plugin=o,l.setRatio=e(t,n,s._tween,a),l},priority:i})};var ve="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),be=H("transform"),ye=B+"transform",we=H("transformOrigin"),ke=null!==H("perspective"),xe=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var a,s,o,l,u,d,c,p,h,m,f,_,g,v=i?t._gsTransform||{skewY:0}:{skewY:0},b=0>v.scaleX,y=2e-5,w=1e5,k=179.99,x=k*I,q=ke?parseFloat(W(t,we,e,!1,"0 0 0").split(" ")[2])||v.zOrigin||0:0;for(be?a=W(t,ye,e,!0):t.currentStyle&&(a=t.currentStyle.filter.match(P),a=a&&4===a.length?[a[0].substr(4),Number(a[2].substr(4)),Number(a[1].substr(4)),a[3].substr(4),v.x||0,v.y||0].join(","):""),s=(a||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],o=s.length;--o>-1;)l=Number(s[o]),s[o]=(u=l-(l|=0))?(0|u*w+(0>u?-.5:.5))/w+l:l;if(16===s.length){var T=s[8],S=s[9],C=s[10],M=s[12],E=s[13],D=s[14];if(v.zOrigin&&(D=-v.zOrigin,M=T*D-s[12],E=S*D-s[13],D=C*D+v.zOrigin-s[14]),!i||n||null==v.rotationX){var j,F,R,U,L,O,z,$=s[0],N=s[1],B=s[2],V=s[3],H=s[4],Y=s[5],G=s[6],X=s[7],K=s[11],Z=Math.atan2(G,C),J=-x>Z||Z>x;v.rotationX=Z*A,Z&&(U=Math.cos(-Z),L=Math.sin(-Z),j=H*U+T*L,F=Y*U+S*L,R=G*U+C*L,T=H*-L+T*U,S=Y*-L+S*U,C=G*-L+C*U,K=X*-L+K*U,H=j,Y=F,G=R),Z=Math.atan2(T,$),v.rotationY=Z*A,Z&&(O=-x>Z||Z>x,U=Math.cos(-Z),L=Math.sin(-Z),j=$*U-T*L,F=N*U-S*L,R=B*U-C*L,S=N*L+S*U,C=B*L+C*U,K=V*L+K*U,$=j,N=F,B=R),Z=Math.atan2(N,Y),v.rotation=Z*A,Z&&(z=-x>Z||Z>x,U=Math.cos(-Z),L=Math.sin(-Z),$=$*U+H*L,F=N*U+Y*L,Y=N*-L+Y*U,G=B*-L+G*U,N=F),z&&J?v.rotation=v.rotationX=0:z&&O?v.rotation=v.rotationY=0:O&&J&&(v.rotationY=v.rotationX=0),v.scaleX=(0|Math.sqrt($*$+N*N)*w+.5)/w,v.scaleY=(0|Math.sqrt(Y*Y+S*S)*w+.5)/w,v.scaleZ=(0|Math.sqrt(G*G+C*C)*w+.5)/w,v.skewX=0,v.perspective=K?1/(0>K?-K:K):0,v.x=M,v.y=E,v.z=D}}else if(!(ke&&!n&&s.length&&v.x===s[4]&&v.y===s[5]&&(v.rotationX||v.rotationY)||void 0!==v.x&&"none"===W(t,"display",e))){var Q=s.length>=6,te=Q?s[0]:1,ee=s[1]||0,ie=s[2]||0,ne=Q?s[3]:1;v.x=s[4]||0,v.y=s[5]||0,d=Math.sqrt(te*te+ee*ee),c=Math.sqrt(ne*ne+ie*ie),p=te||ee?Math.atan2(ee,te)*A:v.rotation||0,h=ie||ne?Math.atan2(ie,ne)*A+p:v.skewX||0,m=d-Math.abs(v.scaleX||0),f=c-Math.abs(v.scaleY||0),Math.abs(h)>90&&270>Math.abs(h)&&(b?(d*=-1,h+=0>=p?180:-180,p+=0>=p?180:-180):(c*=-1,h+=0>=h?180:-180)),_=(p-v.rotation)%180,g=(h-v.skewX)%180,(void 0===v.skewX||m>y||-y>m||f>y||-y>f||_>-k&&k>_&&!1|_*w||g>-k&&k>g&&!1|g*w)&&(v.scaleX=d,v.scaleY=c,v.rotation=p,v.skewX=h),ke&&(v.rotationX=v.rotationY=v.z=0,v.perspective=parseFloat(r.defaultTransformPerspective)||0,v.scaleZ=1)}v.zOrigin=q;for(o in v)y>v[o]&&v[o]>-y&&(v[o]=0);return i&&(t._gsTransform=v),v},qe=function(t){var e,i,n=this.data,a=-n.rotation*I,s=a+n.skewX*I,r=1e5,o=(0|Math.cos(a)*n.scaleX*r)/r,l=(0|Math.sin(a)*n.scaleX*r)/r,u=(0|Math.sin(s)*-n.scaleY*r)/r,d=(0|Math.cos(s)*n.scaleY*r)/r,c=this.t.style,p=this.t.currentStyle;if(p){i=l,l=-u,u=-i,e=p.filter,c.filter="";var h,f,_=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==p.position,w="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+l+", M21="+u+", M22="+d,k=n.x,x=n.y;if(null!=n.ox&&(h=(n.oxp?.01*_*n.ox:n.ox)-_/2,f=(n.oyp?.01*g*n.oy:n.oy)-g/2,k+=h-(h*o+f*l),x+=f-(h*u+f*d)),v?(h=_/2,f=g/2,w+=", Dx="+(h-(h*o+f*l)+k)+", Dy="+(f-(h*u+f*d)+x)+")"):w+=", sizingMethod='auto expand')",c.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(E,w):w+" "+e,(0===t||1===t)&&1===o&&0===l&&0===u&&1===d&&(v&&-1===w.indexOf("Dx=0, Dy=0")||y.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&c.removeAttribute("filter")),!v){var q,T,S,C=8>m?1:-1;for(h=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((_-((0>o?-o:o)*_+(0>l?-l:l)*g))/2+k),n.ieOffsetY=Math.round((g-((0>d?-d:d)*g+(0>u?-u:u)*_))/2+x),me=0;4>me;me++)T=Q[me],q=p[T],i=-1!==q.indexOf("px")?parseFloat(q):G(this.t,T,parseFloat(q),q.replace(b,""))||0,S=i!==n[T]?2>me?-n.ieOffsetX:-n.ieOffsetY:2>me?h-n.ieOffsetX:f-n.ieOffsetY,c[T]=(n[T]=Math.round(i-S*(0===me||2===me?1:C)))+"px"}}},Te=function(){var t,e,i,n,a,s,r,o,l,u,d,c,h,m,f,_,g,v,b,y,w,k,x,q=this.data,T=this.t.style,S=q.rotation*I,C=q.scaleX,M=q.scaleY,P=q.scaleZ,E=q.perspective;if(p){var D=1e-4;D>C&&C>-D&&(C=P=2e-5),D>M&&M>-D&&(M=P=2e-5),!E||q.z||q.rotationX||q.rotationY||(E=0)}if(S||q.skewX)v=Math.cos(S),b=Math.sin(S),t=v,a=b,q.skewX&&(S-=q.skewX*I,v=Math.cos(S),b=Math.sin(S)),e=-b,s=v;else{if(!(q.rotationY||q.rotationX||1!==P||E))return T[be]="translate3d("+q.x+"px,"+q.y+"px,"+q.z+"px)"+(1!==C||1!==M?" scale("+C+","+M+")":""),void 0;t=s=1,e=a=0}d=1,i=n=r=o=l=u=c=h=m=0,f=E?-1/E:0,_=q.zOrigin,g=1e5,S=q.rotationY*I,S&&(v=Math.cos(S),b=Math.sin(S),l=d*-b,h=f*-b,i=t*b,r=a*b,d*=v,f*=v,t*=v,a*=v),S=q.rotationX*I,S&&(v=Math.cos(S),b=Math.sin(S),y=e*v+i*b,w=s*v+r*b,k=u*v+d*b,x=m*v+f*b,i=e*-b+i*v,r=s*-b+r*v,d=u*-b+d*v,f=m*-b+f*v,e=y,s=w,u=k,m=x),1!==P&&(i*=P,r*=P,d*=P,f*=P),1!==M&&(e*=M,s*=M,u*=M,m*=M),1!==C&&(t*=C,a*=C,l*=C,h*=C),_&&(c-=_,n=i*c,o=r*c,c=d*c+_),n=(y=(n+=q.x)-(n|=0))?(0|y*g+(0>y?-.5:.5))/g+n:n,o=(y=(o+=q.y)-(o|=0))?(0|y*g+(0>y?-.5:.5))/g+o:o,c=(y=(c+=q.z)-(c|=0))?(0|y*g+(0>y?-.5:.5))/g+c:c,T[be]="matrix3d("+[(0|t*g)/g,(0|a*g)/g,(0|l*g)/g,(0|h*g)/g,(0|e*g)/g,(0|s*g)/g,(0|u*g)/g,(0|m*g)/g,(0|i*g)/g,(0|r*g)/g,(0|d*g)/g,(0|f*g)/g,n,o,c,E?1+-c/E:1].join(",")+")"},Se=function(t){var e,i,n,a,s,r=this.data,o=this.t,l=o.style;return r.rotationX||r.rotationY||r.z||r.force3D?(this.setRatio=Te,Te.call(this,t),void 0):(r.rotation||r.skewX?(e=r.rotation*I,i=e-r.skewX*I,n=1e5,a=r.scaleX*n,s=r.scaleY*n,l[be]="matrix("+(0|Math.cos(e)*a)/n+","+(0|Math.sin(e)*a)/n+","+(0|Math.sin(i)*-s)/n+","+(0|Math.cos(i)*s)/n+","+r.x+","+r.y+")"):l[be]="matrix("+r.scaleX+",0,0,"+r.scaleY+","+r.x+","+r.y+")",void 0)};_e("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D",{parser:function(t,e,i,n,s,r,o){if(n._transform)return s;var l,u,d,c,p,h,m,f=n._transform=xe(t,a,!0,o.parseTransform),_=t.style,g=1e-6,v=ve.length,b=o,y={};if("string"==typeof b.transform&&be)d=_.cssText,_[be]=b.transform,_.display="block",l=xe(t,null,!1),_.cssText=d;else if("object"==typeof b){if(l={scaleX:ne(null!=b.scaleX?b.scaleX:b.scale,f.scaleX),scaleY:ne(null!=b.scaleY?b.scaleY:b.scale,f.scaleY),scaleZ:ne(b.scaleZ,f.scaleZ),x:ne(b.x,f.x),y:ne(b.y,f.y),z:ne(b.z,f.z),perspective:ne(b.transformPerspective,f.perspective)},m=b.directionalRotation,null!=m)if("object"==typeof m)for(d in m)b[d]=m[d];else b.rotation=m;l.rotation=ae("rotation"in b?b.rotation:"shortRotation"in b?b.shortRotation+"_short":"rotationZ"in b?b.rotationZ:f.rotation,f.rotation,"rotation",y),ke&&(l.rotationX=ae("rotationX"in b?b.rotationX:"shortRotationX"in b?b.shortRotationX+"_short":f.rotationX||0,f.rotationX,"rotationX",y),l.rotationY=ae("rotationY"in b?b.rotationY:"shortRotationY"in b?b.shortRotationY+"_short":f.rotationY||0,f.rotationY,"rotationY",y)),l.skewX=null==b.skewX?f.skewX:ae(b.skewX,f.skewX),l.skewY=null==b.skewY?f.skewY:ae(b.skewY,f.skewY),(u=l.skewY-f.skewY)&&(l.skewX+=u,l.rotation+=u)}for(ke&&null!=b.force3D&&(f.force3D=b.force3D,h=!0),p=f.force3D||f.z||f.rotationX||f.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,p||null==b.scale||(l.scaleZ=1);--v>-1;)i=ve[v],c=l[i]-f[i],(c>g||-g>c||null!=j[i])&&(h=!0,s=new pe(f,i,f[i],c,s),i in y&&(s.e=y[i]),s.xs0=0,s.plugin=r,n._overwriteProps.push(s.n));return c=b.transformOrigin,(c||ke&&p&&f.zOrigin)&&(be?(h=!0,i=we,c=(c||W(t,i,a,!1,"50% 50%"))+"",s=new pe(_,i,0,0,s,-1,"transformOrigin"),s.b=_[i],s.plugin=r,ke?(d=f.zOrigin,c=c.split(" "),f.zOrigin=(c.length>2&&(0===d||"0px"!==c[2])?parseFloat(c[2]):d)||0,s.xs0=s.e=_[i]=c[0]+" "+(c[1]||"50%")+" 0px",s=new pe(f,"zOrigin",0,0,s,-1,s.n),s.b=d,s.xs0=s.e=f.zOrigin):s.xs0=s.e=_[i]=c):ee(c+"",f)),h&&(n._transformType=p||3===this._transformType?3:2),s},prefix:!0}),_e("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),_e("borderRadius",{defaultValue:"0px",parser:function(t,e,i,s,r){e=this.format(e);var o,l,u,d,c,p,h,m,f,_,g,v,b,y,w,k,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],q=t.style;for(f=parseFloat(t.offsetWidth),_=parseFloat(t.offsetHeight),o=e.split(" "),l=0;x.length>l;l++)this.p.indexOf("border")&&(x[l]=H(x[l])),c=d=W(t,x[l],a,!1,"0px"),-1!==c.indexOf(" ")&&(d=c.split(" "),c=d[0],d=d[1]),p=u=o[l],h=parseFloat(c),v=c.substr((h+"").length),b="="===p.charAt(1),b?(m=parseInt(p.charAt(0)+"1",10),p=p.substr(2),m*=parseFloat(p),g=p.substr((m+"").length-(0>m?1:0))||""):(m=parseFloat(p),g=p.substr((m+"").length)),""===g&&(g=n[i]||v),g!==v&&(y=G(t,"borderLeft",h,v),w=G(t,"borderTop",h,v),"%"===g?(c=100*(y/f)+"%",d=100*(w/_)+"%"):"em"===g?(k=G(t,"borderLeft",1,"em"),c=y/k+"em",d=w/k+"em"):(c=y+"px",d=w+"px"),b&&(p=parseFloat(c)+m+g,u=parseFloat(d)+m+g)),r=he(q,x[l],c+" "+d,p+" "+u,!1,"0px",r);return r},prefix:!0,formatter:ue("0px 0px 0px 0px",!1,!0)}),_e("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,s,r){var o,l,u,d,c,p,h="background-position",f=a||Y(t,null),_=this.format((f?m?f.getPropertyValue(h+"-x")+" "+f.getPropertyValue(h+"-y"):f.getPropertyValue(h):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==_.indexOf("%")!=(-1!==g.indexOf("%"))&&(p=W(t,"backgroundImage").replace(S,""),p&&"none"!==p)){for(o=_.split(" "),l=g.split(" "),U.setAttribute("src",p),u=2;--u>-1;)_=o[u],d=-1!==_.indexOf("%"),d!==(-1!==l[u].indexOf("%"))&&(c=0===u?t.offsetWidth-U.width:t.offsetHeight-U.height,o[u]=d?parseFloat(_)/100*c+"px":100*(parseFloat(_)/c)+"%");_=o.join(" ")}return this.parseComplex(t.style,_,g,s,r)},formatter:ee}),_e("backgroundSize",{defaultValue:"0 0",formatter:ee}),_e("perspective",{defaultValue:"0px",prefix:!0}),_e("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),_e("transformStyle",{prefix:!0}),_e("backfaceVisibility",{prefix:!0}),_e("userSelect",{prefix:!0}),_e("margin",{parser:de("marginTop,marginRight,marginBottom,marginLeft")}),_e("padding",{parser:de("paddingTop,paddingRight,paddingBottom,paddingLeft")}),_e("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,s,r){var o,l,u;return 9>m?(l=t.currentStyle,u=8>m?" ":",",o="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",e=this.format(e).split(",").join(u)):(o=this.format(W(t,this.p,a,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,s,r)}}),_e("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),_e("autoRound,strictUnits",{parser:function(t,e,i,n,a){return a}}),_e("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,s,r){return this.parseComplex(t.style,this.format(W(t,"borderTopWidth",a,!1,"0px")+" "+W(t,"borderTopStyle",a,!1,"solid")+" "+W(t,"borderTopColor",a,!1,"#000")),this.format(e),s,r)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(le)||["#000"])[0]}}),_e("borderWidth",{parser:de("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),_e("float,cssFloat,styleFloat",{parser:function(t,e,i,n,a){var s=t.style,r="cssFloat"in s?"cssFloat":"styleFloat";return new pe(s,r,0,0,a,-1,i,!1,0,s[r],e)}});var Ce=function(t){var e,i=this.t,n=i.filter||W(this.data,"filter"),a=0|this.s+this.c*t;100===a&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!W(this.data,"filter")):(i.filter=n.replace(k,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+a+")"),-1===n.indexOf("opacity")?0===a&&this.xn1||(i.filter=n+" alpha(opacity="+a+")"):i.filter=n.replace(y,"opacity="+a))};_e("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,s,r){var o=parseFloat(W(t,"opacity",a,!1,"1")),l=t.style,u="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),u&&1===o&&"hidden"===W(t,"visibility",a)&&0!==e&&(o=0),z?s=new pe(l,"opacity",o,e-o,s):(s=new pe(l,"opacity",100*o,100*(e-o),s),s.xn1=u?1:0,l.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=t,s.plugin=r,s.setRatio=Ce),u&&(s=new pe(l,"visibility",0,0,s,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),s.xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Me=function(t,e){e&&(t.removeProperty?t.removeProperty(e.replace(q,"-$1").toLowerCase()):t.removeAttribute(e))},Pe=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.className=0===t?this.b:this.e;for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Me(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};_e("className",{parser:function(t,e,n,s,r,o,l){var u,d,c,p,h,m=t.className,f=t.style.cssText;if(r=s._classNamePT=new pe(t,n,0,0,r,2),r.setRatio=Pe,r.pr=-11,i=!0,r.b=m,d=K(t,a),c=t._gsClassPT){for(p={},h=c.data;h;)p[h.p]=1,h=h._next;c.setRatio(1)}return t._gsClassPT=r,r.e="="!==e.charAt(1)?e:m.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),s._tween._duration&&(t.className=r.e,u=Z(t,d,K(t),l,p),t.className=m,r.data=u.firstMPT,t.style.cssText=f,r=r.xfirst=s.parse(t,u.difs,r,o)),r}});var Ee=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,a,s=this.t.style,r=o.transform.parse;if("all"===this.e)s.cssText="",a=!0;else for(e=this.e.split(","),n=e.length;--n>-1;)i=e[n],o[i]&&(o[i].parse===r?a=!0:i="transformOrigin"===i?we:o[i].p),Me(s,i);a&&(Me(s,be),this.t._gsTransform&&delete this.t._gsTransform)}};for(_e("clearProps",{parser:function(t,e,n,a,s){return s=new pe(t,n,0,0,s,2),s.setRatio=Ee,s.e=e,s.pr=-10,s.data=a._tween,i=!0,s}}),l="bezier,throwProps,physicsProps,physics2D".split(","),me=l.length;me--;)ge(l[me]);l=r.prototype,l._firstPT=null,l._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,u=e.autoRound,i=!1,n=e.suffixMap||r.suffixMap,a=Y(t,""),s=this._overwriteProps;var l,p,m,f,_,g,v,b,y,k=t.style;if(d&&""===k.zIndex&&(l=W(t,"zIndex",a),("auto"===l||""===l)&&(k.zIndex=0)),"string"==typeof e&&(f=k.cssText,l=K(t,a),k.cssText=f+";"+e,l=Z(t,l,K(t)).difs,!z&&w.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,k.cssText=f),this._firstPT=p=this.parse(t,e,null),this._transformType){for(y=3===this._transformType,be?c&&(d=!0,""===k.zIndex&&(v=W(t,"zIndex",a),("auto"===v||""===v)&&(k.zIndex=0)),h&&(k.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(y?"visible":"hidden"))):k.zoom=1,m=p;m&&m._next;)m=m._next;b=new pe(t,"transform",0,0,null,2),this._linkCSSP(b,null,m),b.setRatio=y&&ke?Te:be?Se:qe,b.data=this._transform||xe(t,a,!0),s.pop()}if(i){for(;p;){for(g=p._next,m=f;m&&m.pr>p.pr;)m=m._next;(p._prev=m?m._prev:_)?p._prev._next=p:f=p,(p._next=m)?m._prev=p:_=p,p=g}this._firstPT=f}return!0},l.parse=function(t,e,i,s){var r,l,d,c,p,h,m,f,_,g,v=t.style;for(r in e)h=e[r],l=o[r],l?i=l.parse(t,h,r,this,i,s,e):(p=W(t,r,a)+"",_="string"==typeof h,"color"===r||"fill"===r||"stroke"===r||-1!==r.indexOf("Color")||_&&x.test(h)?(_||(h=oe(h),h=(h.length>3?"rgba(":"rgb(")+h.join(",")+")"),i=he(v,r,p,h,!0,"transparent",i,0,s)):!_||-1===h.indexOf(" ")&&-1===h.indexOf(",")?(d=parseFloat(p),m=d||0===d?p.substr((d+"").length):"",(""===p||"auto"===p)&&("width"===r||"height"===r?(d=te(t,r,a),m="px"):"left"===r||"top"===r?(d=X(t,r,a),m="px"):(d="opacity"!==r?0:1,m="")),g=_&&"="===h.charAt(1),g?(c=parseInt(h.charAt(0)+"1",10),h=h.substr(2),c*=parseFloat(h),f=h.replace(b,"")):(c=parseFloat(h),f=_?h.substr((c+"").length)||"":""),""===f&&(f=r in n?n[r]:m),h=c||0===c?(g?c+d:c)+f:e[r],m!==f&&""!==f&&(c||0===c)&&(d||0===d)&&(d=G(t,r,d,m),"%"===f?(d/=G(t,r,100,"%")/100,e.strictUnits!==!0&&(p=d+"%")):"em"===f?d/=G(t,r,1,"em"):(c=G(t,r,c,f),f="px"),g&&(c||0===c)&&(h=c+d+f)),g&&(c+=d),!d&&0!==d||!c&&0!==c?void 0!==v[r]&&(h||"NaN"!=h+""&&null!=h)?(i=new pe(v,r,c||d||0,0,i,-1,r,!1,0,p,h),i.xs0="none"!==h||"display"!==r&&-1===r.indexOf("Style")?h:p):N("invalid "+r+" tween value: "+e[r]):(i=new pe(v,r,d,c-d,i,0,r,u!==!1&&("px"===f||"zIndex"===r),0,p,h),i.xs0=f)):i=he(v,r,p,h,!0,null,i,0,s)),s&&i&&!i.plugin&&(i.plugin=s);return i},l.setRatio=function(t){var e,i,n,a=this._firstPT,s=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;a;){if(e=a.c*t+a.s,a.r?e=e>0?0|e+.5:0|e-.5:s>e&&e>-s&&(e=0),a.type)if(1===a.type)if(n=a.l,2===n)a.t[a.p]=a.xs0+e+a.xs1+a.xn1+a.xs2;else if(3===n)a.t[a.p]=a.xs0+e+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3;else if(4===n)a.t[a.p]=a.xs0+e+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3+a.xn3+a.xs4;else if(5===n)a.t[a.p]=a.xs0+e+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3+a.xn3+a.xs4+a.xn4+a.xs5;else{for(i=a.xs0+e+a.xs1,n=1;a.l>n;n++)i+=a["xn"+n]+a["xs"+(n+1)];a.t[a.p]=i}else-1===a.type?a.t[a.p]=a.xs0:a.setRatio&&a.setRatio(t);else a.t[a.p]=e+a.xs0;a=a._next}else for(;a;)2!==a.type?a.t[a.p]=a.b:a.setRatio(t),a=a._next;else for(;a;)2!==a.type?a.t[a.p]=a.e:a.setRatio(t),a=a._next},l._enableTransforms=function(t){this._transformType=t||3===this._transformType?3:2,this._transform=this._transform||xe(this._target,a,!0)},l._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},l._kill=function(e){var i,n,a,s=e;if(e.autoAlpha||e.alpha){s={};for(n in e)s[n]=e[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return e.className&&(i=this._classNamePT)&&(a=i.xfirst,a&&a._prev?this._linkCSSP(a._prev,i._next,a._prev._prev):a===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,a._prev),this._classNamePT=null),t.prototype._kill.call(this,s)};var De=function(t,e,i){var n,a,s,r;if(t.slice)for(a=t.length;--a>-1;)De(t[a],e,i);else for(n=t.childNodes,a=n.length;--a>-1;)s=n[a],r=s.type,s.style&&(e.push(K(s)),i&&i.push(s)),1!==r&&9!==r&&11!==r||!s.childNodes.length||De(s,e,i)};return r.cascadeTo=function(t,i,n){var a,s,r,o=e.to(t,i,n),l=[o],u=[],d=[],c=[],p=e._internals.reservedProps;for(t=o._targets||o.target,De(t,u,c),o.render(i,!0),De(t,d),o.render(0,!0),o._enabled(!0),a=c.length;--a>-1;)if(s=Z(c[a],u[a],d[a]),s.firstMPT){s=s.difs;for(r in n)p[r]&&(s[r]=n[r]);l.push(e.to(c[a],i,s))}return l},t.activate([r]),r},!0),function(){var t=window._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=t.prototype;e._onInitAllProps=function(){for(var t,e,i,n=this._tween,a=n.vars.roundProps instanceof Array?n.vars.roundProps:n.vars.roundProps.split(","),s=a.length,r={},o=n._propLookup.roundProps;--s>-1;)r[a[s]]=1;for(s=a.length;--s>-1;)for(t=a[s],e=n._firstPT;e;)i=e._next,e.pg?e.t._roundProps(r,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:n._firstPT===e&&(n._firstPT=i),e._next=e._prev=null,n._propLookup[t]=o),e=i;return!1},e._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,!0),this._overwriteProps.push(e)}}(),window._gsDefine.plugin({propName:"attr",API:2,version:"0.2.0",init:function(t,e){var i;if("function"!=typeof t.setAttribute)return!1;this._target=t,this._proxy={};for(i in e)this._addTween(this._proxy,i,parseFloat(t.getAttribute(i)),e[i],i)&&this._overwriteProps.push(i);return!0},set:function(t){this._super.setRatio.call(this,t);for(var e,i=this._overwriteProps,n=i.length;--n>-1;)e=i[n],this._target.setAttribute(e,this._proxy[e]+"")}}),window._gsDefine.plugin({propName:"directionalRotation",API:2,version:"0.2.0",init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,n,a,s,r,o,l=e.useRadians===!0?2*Math.PI:360,u=1e-6;for(i in e)"useRadians"!==i&&(o=(e[i]+"").split("_"),n=o[0],a=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),s=this.finals[i]="string"==typeof n&&"="===n.charAt(1)?a+parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)):Number(n)||0,r=s-a,o.length&&(n=o.join("_"),-1!==n.indexOf("short")&&(r%=l,r!==r%(l/2)&&(r=0>r?r+l:r-l)),-1!==n.indexOf("_cw")&&0>r?r=(r+9999999999*l)%l-(0|r/l)*l:-1!==n.indexOf("ccw")&&r>0&&(r=(r-9999999999*l)%l-(0|r/l)*l)),(r>u||-u>r)&&(this._addTween(t,i,a,a+r,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,window._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,a=window.GreenSockGlobals||window,s=a.com.greensock,r=2*Math.PI,o=Math.PI/2,l=s._class,u=function(e,i){var n=l("easing."+e,function(){},!0),a=n.prototype=new t;return a.constructor=n,a.getRatio=i,n},d=t.register||function(){},c=function(t,e,i,n){var a=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return d(a,t),a},p=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},h=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),a=n.prototype=new t;return a.constructor=n,a.getRatio=i,a.config=function(t){return new n(t)},n},m=c("Back",h("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),h("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),h("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),f=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),_=f.prototype=new t;return _.constructor=f,_.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},f.ease=new f(.7,.7),_.config=f.config=function(t,e,i){return new f(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),_=e.prototype=new t,_.constructor=e,_.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},_.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,a,s,r,o,l=e.taper||"none",u=[],d=0,c=0|(e.points||20),h=c,m=e.randomize!==!1,f=e.clamp===!0,_=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--h>-1;)i=m?Math.random():1/c*h,n=_?_.getRatio(i):i,"none"===l?a=g:"out"===l?(s=1-i,a=s*s*g):"in"===l?a=i*i*g:.5>i?(s=2*i,a=.5*s*s*g):(s=2*(1-i),a=.5*s*s*g),m?n+=Math.random()*a-.5*a:h%2?n+=.5*a:n-=.5*a,f&&(n>1?n=1:0>n&&(n=0)),u[d++]={x:i,y:n};for(u.sort(function(t,e){return t.x-e.x}),o=new p(1,1,null),h=c;--h>-1;)r=u[h],o=new p(r.x,r.y,o);this._prev=new p(0,0,0!==o.t?o:o.next)},!0),_=i.prototype=new t,_.constructor=i,_.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},_.config=function(t){return new i(t)},i.ease=new i,c("Bounce",u("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),u("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),u("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),c("Circ",u("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),u("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),u("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var a=l("easing."+e,function(t,e){this._p1=t||1,this._p2=e||n,this._p3=this._p2/r*(Math.asin(1/this._p1)||0)},!0),s=a.prototype=new t;return s.constructor=a,s.getRatio=i,s.config=function(t,e){return new a(t,e)},a},c("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*r/this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*r/this._p2))},.3),n("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*r/this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*r/this._p2)+1},.45)),c("Expo",u("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),u("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),u("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),c("Sine",u("SineOut",function(t){return Math.sin(t*o)}),u("SineIn",function(t){return-Math.cos(t*o)+1}),u("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),d(a.SlowMo,"SlowMo","ease,"),d(i,"RoughEase","ease,"),d(e,"SteppedEase","ease,"),m},!0)}),function(t){var e=t.GreenSockGlobals||t;if(!e.TweenLite){var i,n,a,s,r,o=function(t){var i,n=t.split("."),a=e;for(i=0;n.length>i;i++)a[n[i]]=a=a[n[i]]||{};return a},l=o("com.greensock"),u=1e-10,d=[].slice,c=function(){},p=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),h={},m=function(i,n,a,s){this.sc=h[i]?h[i].sc:[],h[i]=this,this.gsClass=null,this.func=a;var r=[];this.check=function(l){for(var u,d,c,p,f=n.length,_=f;--f>-1;)(u=h[n[f]]||new m(n[f],[])).gsClass?(r[f]=u.gsClass,_--):l&&u.sc.push(this);if(0===_&&a)for(d=("com.greensock."+i).split("."),c=d.pop(),p=o(d.join("."))[c]=this.gsClass=a.apply(a,r),s&&(e[c]=p,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+i.split(".").join("/"),[],function(){return p}):"undefined"!=typeof module&&module.exports&&(module.exports=p)),f=0;this.sc.length>f;f++)this.sc[f].check()},this.check(!0)},f=t._gsDefine=function(t,e,i,n){return new m(t,e,i,n)},_=l._class=function(t,e,i){return e=e||function(){},f(t,[],function(){return e},i),e};f.globals=e;var g=[0,0,1,1],v=[],b=_("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?g.concat(e):g},!0),y=b.map={},w=b.register=function(t,e,i,n){for(var a,s,r,o,u=e.split(","),d=u.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--d>-1;)for(s=u[d],a=n?_("easing."+s,null,!0):l.easing[s]||{},r=c.length;--r>-1;)o=c[r],y[s+"."+o]=y[o+s]=a[o]=t.getRatio?t:t[o]||new t};for(a=b.prototype,a._calcEnd=!1,a.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},i=["Linear","Quad","Cubic","Quart","Quint,Strong"],n=i.length;--n>-1;)a=i[n]+",Power"+n,w(new b(null,null,1,n),a,"easeOut",!0),w(new b(null,null,2,n),a,"easeIn"+(0===n?",easeNone":"")),w(new b(null,null,3,n),a,"easeInOut");y.linear=l.easing.Linear.easeIn,y.swing=l.easing.Quad.easeInOut;var k=_("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});a=k.prototype,a.addEventListener=function(t,e,i,n,a){a=a||0;var o,l,u=this._listeners[t],d=0;for(null==u&&(this._listeners[t]=u=[]),l=u.length;--l>-1;)o=u[l],o.c===e&&o.s===i?u.splice(l,1):0===d&&a>o.pr&&(d=l+1);u.splice(d,0,{c:e,s:i,up:n,pr:a}),this!==s||r||s.wake()},a.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return n.splice(i,1),void 0},a.dispatchEvent=function(t){var e,i,n,a=this._listeners[t];if(a)for(e=a.length,i=this._eventTarget;--e>-1;)n=a[e],n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i)};var x=t.requestAnimationFrame,q=t.cancelAnimationFrame,T=Date.now||function(){return(new Date).getTime()},S=T();for(i=["ms","moz","webkit","o"],n=i.length;--n>-1&&!x;)x=t[i[n]+"RequestAnimationFrame"],q=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];_("Ticker",function(t,e){var i,n,a,o,l,u=this,d=T(),p=e!==!1&&x,h=function(t){S=T(),u.time=(S-d)/1e3;var e,s=u.time-l;(!i||s>0||t===!0)&&(u.frame++,l+=s+(s>=o?.004:o-s),e=!0),t!==!0&&(a=n(h)),e&&u.dispatchEvent("tick")};k.call(u),u.time=u.frame=0,u.tick=function(){h(!0)},u.sleep=function(){null!=a&&(p&&q?q(a):clearTimeout(a),n=c,a=null,u===s&&(r=!1))},u.wake=function(){null!==a&&u.sleep(),n=0===i?c:p&&x?x:function(t){return setTimeout(t,0|1e3*(l-u.time)+1)},u===s&&(r=!0),h(2)},u.fps=function(t){return arguments.length?(i=t,o=1/(i||60),l=this.time+o,u.wake(),void 0):i},u.useRAF=function(t){return arguments.length?(u.sleep(),p=t,u.fps(i),void 0):p},u.fps(t),setTimeout(function(){p&&(!a||5>u.frame)&&u.useRAF(!1)},1500)}),a=l.Ticker.prototype=new l.events.EventDispatcher,a.constructor=l.Ticker;var C=_("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,z){r||s.wake();
var i=this.vars.useFrames?O:z;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});s=C.ticker=new l.Ticker,a=C.prototype,a._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1;var M=function(){r&&T()-S>2e3&&s.wake(),setTimeout(M,2e3)};M(),a.play=function(t,e){return arguments.length&&this.seek(t,e),this.reversed(!1).paused(!1)},a.pause=function(t,e){return arguments.length&&this.seek(t,e),this.paused(!0)},a.resume=function(t,e){return arguments.length&&this.seek(t,e),this.paused(!1)},a.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},a.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},a.reverse=function(t,e){return arguments.length&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},a.render=function(){},a.invalidate=function(){return this},a.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},a._enabled=function(t,e){return r||s.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(){return this._enabled(!1,!1)},a.kill=function(t,e){return this._kill(t,e),this},a._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},a._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},a.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var a=this.vars;if(1===arguments.length)return a[t];null==e?delete a[t]:(a[t]=e,a[t+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,a[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},a.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},a.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},a.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},a.totalTime=function(t,e,i){if(r||s.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,a=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:a._time)-(this._reversed?n-t:t)/this._timeScale,a._dirty||this._uncache(!1),a._timeline)for(;a._timeline;)a._timeline._time!==(a._startTime+a._totalTime)/a._timeScale&&a.totalTime(a._totalTime,!0),a=a._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&this.render(t,e,!1)}return this},a.progress=a.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},a.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},a.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||u,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},a.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},a.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){r||t||s.wake();var e=this._timeline,i=e.rawTime(),n=i-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var P=_("core.SimpleTimeline",function(t){C.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});a=P.prototype=new C,a.constructor=P,a.kill()._gc=!1,a._first=a._last=null,a._sortChildren=!1,a.add=a.insert=function(t,e){var i,n;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(n=t._startTime;i&&i._startTime>n;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._timeline&&this._uncache(!0),this},a._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t.timeline=null,t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),this._timeline&&this._uncache(!0)),this},a.render=function(t,e,i){var n,a=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;a;)n=a._next,(a._active||t>=a._startTime&&!a._paused)&&(a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(t-a._startTime)*a._timeScale,e,i):a.render((t-a._startTime)*a._timeScale,e,i)),a=n},a.rawTime=function(){return r||s.wake(),this._totalTime};var E=_("TweenLite",function(e,i,n){if(C.call(this,i,n),this.render=E.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:E.selector(e)||e;var a,s,r,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?L[E.defaultOverwrite]:"number"==typeof l?l>>0:L[l],(o||e instanceof Array||e.push&&p(e))&&"number"!=typeof e[0])for(this._targets=r=d.call(e,0),this._propLookup=[],this._siblings=[],a=0;r.length>a;a++)s=r[a],s?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(r.splice(a--,1),this._targets=r=r.concat(d.call(s,0))):(this._siblings[a]=$(s,this,!1),1===l&&this._siblings[a].length>1&&N(s,this,null,1,this._siblings[a])):(s=r[a--]=E.selector(s),"string"==typeof s&&r.splice(a+1,1)):r.splice(a--,1);else this._propLookup={},this._siblings=$(e,this,!1),1===l&&this._siblings.length>1&&N(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),D=function(e){return e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},I=function(t,e){var i,n={};for(i in t)U[i]||i in e&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!j[i]||j[i]&&j[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};a=E.prototype=new C,a.constructor=E,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=!1,E.version="1.11.4",E.defaultEase=a._ease=new b(null,null,1,1),E.defaultOverwrite="auto",E.ticker=s,E.autoSleep=!0,E.selector=t.$||t.jQuery||function(e){return t.$?(E.selector=t.$,t.$(e)):t.document?t.document.getElementById("#"===e.charAt(0)?e.substr(1):e):e};var A=E._internals={isArray:p,isSelector:D},j=E._plugins={},F=E._tweenLookup={},R=0,U=A.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},L={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},O=C._rootFramesTimeline=new P,z=C._rootTimeline=new P;z._startTime=s.time,O._startTime=s.frame,z._active=O._active=!0,C._updateRoot=function(){if(z.render((s.time-z._startTime)*z._timeScale,!1,!1),O.render((s.frame-O._startTime)*O._timeScale,!1,!1),!(s.frame%120)){var t,e,i;for(i in F){for(e=F[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete F[i]}if(i=z._first,(!i||i._paused)&&E.autoSleep&&!O._first&&1===s._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||s.sleep()}}},s.addEventListener("tick",C._updateRoot);var $=function(t,e,i){var n,a,s=t._gsTweenID;if(F[s||(t._gsTweenID=s="t"+R++)]||(F[s]={target:t,tweens:[]}),e&&(n=F[s].tweens,n[a=n.length]=e,i))for(;--a>-1;)n[a]===e&&n.splice(a,1);return F[s].tweens},N=function(t,e,i,n,a){var s,r,o,l;if(1===n||n>=4){for(l=a.length,s=0;l>s;s++)if((o=a[s])!==e)o._gc||o._enabled(!1,!1)&&(r=!0);else if(5===n)break;return r}var d,c=e._startTime+u,p=[],h=0,m=0===e._duration;for(s=a.length;--s>-1;)(o=a[s])===e||o._gc||o._paused||(o._timeline!==e._timeline?(d=d||B(e,0,m),0===B(o,d,m)&&(p[h++]=o)):c>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>c&&((m||!o._initted)&&2e-10>=c-o._startTime||(p[h++]=o)));for(s=h;--s>-1;)o=p[s],2===n&&o._kill(i,t)&&(r=!0),(2!==n||!o._firstPT&&o._initted)&&o._enabled(!1,!1)&&(r=!0);return r},B=function(t,e,i){for(var n=t._timeline,a=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,a*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=a,s>e?s-e:i&&s===e||!t._initted&&2*u>s-e?u:(s+=t.totalDuration()/t._timeScale/a)>e+u?0:s-e-u};a._init=function(){var t,e,i,n,a=this.vars,s=this._overwrittenProps,r=this._duration,o=a.immediateRender,l=a.ease;if(a.startAt){if(this._startAt&&this._startAt.render(-1,!0),a.startAt.overwrite=0,a.startAt.immediateRender=!0,this._startAt=E.to(this.target,0,a.startAt),o)if(this._time>0)this._startAt=null;else if(0!==r)return}else if(a.runBackwards&&0!==r)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{i={};for(n in a)U[n]&&"autoCSS"!==n||(i[n]=a[n]);if(i.overwrite=0,i.data="isFromStart",this._startAt=E.to(this.target,0,i),a.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(this._ease=l?l instanceof b?a.easeParams instanceof Array?l.config.apply(l,a.easeParams):l:"function"==typeof l?new b(l,a.easeParams):y[l]||E.defaultEase:E.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s);if(e&&E._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},a._initProps=function(e,i,n,a){var s,r,o,l,u,d;if(null==e)return!1;this.vars.css||e.style&&e!==t&&e.nodeType&&j.css&&this.vars.autoCSS!==!1&&I(this.vars,e);for(s in this.vars){if(d=this.vars[s],U[s])d&&(d instanceof Array||d.push&&p(d))&&-1!==d.join("").indexOf("{self}")&&(this.vars[s]=d=this._swapSelfInParams(d,this));else if(j[s]&&(l=new j[s])._onInitTween(e,this.vars[s],this)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:l._priority},r=l._overwriteProps.length;--r>-1;)i[l._overwriteProps[r]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[s]=u={_next:this._firstPT,t:e,p:s,f:"function"==typeof e[s],n:s,pg:!1,pr:0},u.s=u.f?e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(e[s]),u.c="string"==typeof d&&"="===d.charAt(1)?parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)):Number(d)-u.s||0;u&&u._next&&(u._next._prev=u)}return a&&this._kill(a,e)?this._initProps(e,i,n,a):this._overwrite>1&&this._firstPT&&n.length>1&&N(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,a)):o},a.render=function(t,e,i){var n,a,s,r,o=this._time,l=this._duration;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,a="onComplete"),0===l&&(r=this._rawPrevTime,(0===t||0>r||r===u)&&r!==t&&(i=!0,r>u&&(a="onReverseComplete")),this._rawPrevTime=r=!e||t||0===r?t:u);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&this._rawPrevTime>u)&&(a="onReverseComplete",n=this._reversed),0>t?(this._active=!1,0===l&&(this._rawPrevTime>=0&&(i=!0),this._rawPrevTime=r=!e||t||0===this._rawPrevTime?t:u)):this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var d=t/l,c=this._easeType,p=this._easePower;(1===c||3===c&&d>=.5)&&(d=1-d),3===c&&(d*=2),1===p?d*=d:2===p?d*=d*d:3===p?d*=d*d*d:4===p&&(d*=d*d*d*d),this.ratio=1===c?1-d:2===c?d:.5>t/l?d/2:1-d/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):a||(a="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||v))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._time!==o||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||v)),a&&(this._gc||(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||v),0===l&&this._rawPrevTime===u&&r!==u&&(this._rawPrevTime=0)))}},a._kill=function(t,e){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:E.selector(e)||e;var i,n,a,s,r,o,l,u;if((p(e)||D(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i])&&(o=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){r=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;r=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(r){l=t||r,u=t!==n&&"all"!==n&&t!==r&&("object"!=typeof t||!t._tempKill);for(a in l)(s=r[a])&&(s.pg&&s.t._kill(l)&&(o=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete r[a]),u&&(n[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return o},a.invalidate=function(){return this._notifyPluginsOfEnabled&&E._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},a._enabled=function(t,e){if(r||s.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=$(n[i],this,!0);else this._siblings=$(this.target,this,!0)}return C.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?E._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},E.to=function(t,e,i){return new E(t,e,i)},E.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new E(t,e,i)},E.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new E(t,e,n)},E.delayedCall=function(t,e,i,n,a){return new E(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:a,overwrite:0})},E.set=function(t,e){return new E(t,0,e)},E.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:E.selector(t)||t;var i,n,a,s;if((p(t)||D(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(E.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],a=i;--a>-1;)s===n[a]&&n.splice(i,1)}else for(n=$(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},E.killTweensOf=E.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=E.getTweensOf(t,e),a=n.length;--a>-1;)n[a]._kill(i,t)};var V=_("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=V.prototype},!0);if(a=V.prototype,V.version="1.10.1",V.API=2,a._firstPT=null,a._addTween=function(t,e,i,n,a,s){var r,o;return null!=n&&(r="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=o={_next:this._firstPT,t:t,p:e,s:i,c:r,f:"function"==typeof t[e],n:a||e,r:s},o._next&&(o._next._prev=o),o):void 0},a.setRatio=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.c*t+i.s,i.r?e=0|e+(e>0?.5:-.5):n>e&&e>-n&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},a._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},a._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},E._onPluginEvent=function(t,e){var i,n,a,s,r,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(r=o._next,n=a;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:s)?o._prev._next=o:a=o,(o._next=n)?n._prev=o:s=o,o=r}o=e._firstPT=a}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},V.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===V.API&&(j[(new t[e])._propName]=t[e]);return!0},f.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,a=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},r=_("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){V.call(this,i,n),this._overwriteProps=a||[]},t.global===!0),o=r.prototype=new V(i);o.constructor=r,r.API=t.API;for(e in s)"function"==typeof t[e]&&(o[s[e]]=t[e]);return r.version=t.version,V.activate([r]),r},i=t._gsQueue){for(n=0;i.length>n;n++)i[n]();for(a in h)h[a].func||t.console.log("GSAP encountered missing dependency: com.greensock."+a)}r=!1}}(window),define("greensock",["greensock/TweenMax.min"],function(t){return t}),define("greensock/TweenMax.min",function(){}),define("components/tile-1/lib/Transitions",["require","greensock"],function(t){return t("greensock"),{cut:function(t,e,i,n){n()},fade:function(t,e,i,n){var a=i.duration;TweenLite.fromTo(e,a,{opacity:0},{opacity:1}),TweenLite.fromTo(t,a,{opacity:1},{opacity:0,onComplete:n})},scale:function(t,e,i,n){var a=i.duration,s=i.tileGutter;TweenLite.fromTo(e,a,{left:"50%",top:"50%",right:"50%",bottom:"50%"},{left:s+"px",top:s+"px",right:s+"px",bottom:s+"px"}),TweenLite.fromTo(t,a,{left:s+"px",top:s+"px",right:s+"px",bottom:s+"px"},{left:"50%",top:"50%",right:"50%",bottom:"50%",onComplete:function(){var t=e.find(".status-content");t.length&&(t[0].style.webkitTransform="scale(1)"),n()}})},flip:function(t,e,i,n){var a=i.duration,s=i.parameter;TweenLite.set(e.parent().parent(),{perspective:800}),TweenLite.set(e.parent(),{transformStyle:"preserve-3d"}),TweenLite.set(e,{backfaceVisibility:"hidden"}),TweenLite.set(t,{backfaceVisibility:"hidden"});var r="rotationX",o=180;if("random"===s){var l=["down","up","right","left"];s=l[Math.floor(l.length*Math.random())]}"up"===s?(r="rotationX",o=-180):"right"===s?(r="rotationY",o=-180):"left"===s&&(r="rotationY",o=180);var u={rotationX:0,rotationY:0};TweenLite.set(e,u);var d={rotationX:0,rotationY:0};d[r]=o,TweenLite.set(t,d);var c={};c[r]=o;var p={onComplete:n,ease:Back.easeOut};p[r]=0,TweenLite.fromTo(e.parent(),a,c,p)},swingfade:function(t,e,i,n){var a=i.duration,s=i.param;TweenLite.set(e.parent().parent(),{perspective:500}),TweenLite.set(e.parent(),{transformStyle:"preserve-3d"});var r,o,l;switch(s){case"left":r="0% 0%",l="rotationY",o=360;break;case"bottom":r="50% 100%",l="rotationX",o=360;break;case"right":r="100% 100%",l="rotationY",o=-360;break;default:r="50% 0%",l="rotationX",o=-360}TweenLite.set(t,{transformOrigin:r,backfaceVisibility:"hidden"}),TweenLite.set(e,{transformOrigin:r,backfaceVisibility:"hidden"});var u={};u[l]=o,u.opacity=-3;var d={};d[l]=0,d.opacity=1,d.ease=Cubic.easeOut;var c={onComplete:n};c[l]=o,c.opacity=-3,TweenLite.fromTo(e,a,u,d),TweenLite.fromTo(t,a,d,c)},fold:function(t,e,i,n){function a(t){var e=this;e.$el=t,e.folds=[],e.tileHeight=e.$el.height(),e.foldHeight=Math.floor(e.$el.height()/2),e.oddHeightBuffer=0,0!==e.$el.height()%2&&(e.oddHeightBuffer=1),e.content=e.$el.html(),e.$el.empty(),e.folds.$top=$("<div>").addClass("tile-fold tile-top").css({height:e.foldHeight+e.oddHeightBuffer,top:0+e.oddHeightBuffer}).append($("<div>").addClass("tile-inner inner-top").css({height:e.tileHeight,top:0+e.oddHeightBuffer}).append(e.content)),e.folds.$bottom=$("<div>").addClass("tile-fold tile-bottom").css({height:e.foldHeight,top:e.foldHeight+e.oddHeightBuffer}).append($("<div>").addClass("tile-inner inner-bottom").css({height:e.tileHeight,top:-e.foldHeight}).append(e.content)),e.$el.append(e.folds.$top),e.$el.append(e.folds.$bottom)}$.support.transition||($.fn.transition=$.fn.animate);var s,r,o,l,u,d,c,p,h;l=i.duration>1?i.duration:450,u=i.direction,$.support.transition||($.fn.transition=$.fn.animate),a.prototype.resize=function(){var t=this;t.newFoldHeight=Math.floor(t.$el.height()/2),t.tileHeight=t.$el.height(),t.oddHeightBuffer=0!==t.$el.height()%2?1:0,t.folds.$top.css({height:t.newFoldHeight+t.oddHeightBuffer,top:0+t.oddHeightBuffer}),t.folds.$top.find(".inner-top").css({height:t.tileHeight,top:0+t.oddHeightBuffer}),t.folds.$bottom.css({height:t.newFoldHeight,top:t.newFoldHeight}),t.folds.$bottom.find(".inner-bottom").css({height:t.$el.height(),top:-t.newFoldHeight})},$(".tile-content").css({overflow:"visible"}),$(".tile-inner").css({overflow:"visible"}),$(".tile-to").css({overflow:"visible"}),$(".item").css({overflow:"visible"}),t.removeClass("tile-hidden"),t.css({"z-index":""}),e.css({"z-index":""}),t.removeClass("tile-cell"),0===e.find(".tile-fold").length?(o=new a(e),d=o.folds.$top,c=o.folds.$bottom):(d=e.find(".tile-top"),c=e.find(".tile-bottom")),0===t.find(".tile-fold").length?(t.parent().removeClass("tile-cell"),r=new a(t),p=r.folds.$top,h=r.folds.$bottom):(p=t.find(".tile-top"),h=t.find(".tile-bottom")),p.addClass("tile-cell"),h.addClass("tile-cell"),s=e.find("inner-bottom").html(),"up"===u?(h.css({"backface-visibility":"hidden","transform-origin":"50% 0%",transform:"perspective(600px) rotateX(0deg)"}),d.css({"transform-origin":"50% 100%","backface-visibility":"hidden",transform:"perspective(600px) rotateX(-90deg)"}),p.css({"backface-visibility":"hidden","transform-origin":"50% 100%",transform:"perspective(600px) rotateX(0deg)"}),c.css({"backface-visibility":"hidden","transform-origin":"50% 0%",transform:"perspective(600px) rotateX(0deg)"}),h.transition({transform:"perspective(600px) rotateX(90deg)"},l-225,function(){e.css({"z-index":99}),d.transition({transform:"perspective(600px) rotateX(0deg)"},l,function(){p.find(".inner-top").html(s),h.find(".inner-bottom").html(s),e.css({"z-index":0}),n()})})):(c.css({"transform-origin":"50% 0%","backface-visibility":"hidden",transform:"perspective(600px) rotateX(90deg)"}),p.css({"backface-visibility":"hidden","transform-origin":"50% 100%",transform:"perspective(600px) rotateX(0deg)"}),h.css({"backface-visibility":"hidden","transform-origin":"50% 0%",transform:"perspective(600px) rotateX(0deg)"}),d.css({"backface-visibility":"hidden","transform-origin":"50% 100%",transform:"perspective(600px) rotateX(0deg)"}),p.transition({transform:"perspective(600px) rotateX(-90deg)"},l-225,function(){e.css({"z-index":99}),c.transition({transform:"perspective(600px) rotateX(0deg)"},l,function(){p.find(".inner-top").html(s),h.find(".inner-bottom").html(s),e.css({"z-index":0}),n()})})),$(window).on("resize",function(){r&&r.resize(),o&&o.resize()})},slide:function(t,e,i,n){var a=i.duration,s=i.parameter,r=i.tileGutter,o=!1;if("random"===s){var l=["down","up","right","left"];s=l[Math.floor(l.length*Math.random())]}var u={down:"top",left:"left",up:"top",right:"left"};("down"===s||"right"===s)&&(o=!0);var d={top:"",right:"",bottom:"",left:"",width:"calc(100% - "+2*r+"px)",height:"calc(100% - "+2*r+"px)"};TweenLite.set(e,d),TweenLite.set(t,d);var c={};c[u[s]]=o?"100%":"-100%";var p={};p[u[s]]=r+"px";var h={};h[u[s]]=r+"px";var m={onComplete:n};m[u[s]]=o?"-100%":"100%",TweenLite.fromTo(e,a,c,p),TweenLite.fromTo(t,a,h,m)}}}),define("components/tile-1/views/TileView",["require","lib/views/BaseView","tmpl!tile-content","lodash","../lib/Transitions"],function(t){var e=t("lib/views/BaseView"),i=t("tmpl!tile-content"),n=t("lodash"),a=t("../lib/Transitions"),s=e.extend({tagName:"div",className:"tile-view",template:i,initialize:function(t){return this.model=t.model,this.listenTo(this.model,"change:$el",this.updateElement),this.listenTo(this.model,"change:mvm",this.updateModelView),this},events:{click:"clickedTile"},clickedTile:function(){var t={$el:this._showingElement};if("mvm"===this._showing){var e=this.model.get("mvm");t.model=e.get("model"),t.view=e.get("View")}this.model.trigger("show-details",t)},updateElement:function(){this.update(this.model.get("$el")),this._showing="element"},updateModelView:function(){this.previousView&&this.previousView.remove(),this.previousView=this.currentView;var t=this.model.get("mvm"),e=t.get("View"),i=t.get("model");e&&(this.currentView=new e({model:i}),this.currentView.render(),this.update(this.currentView.$el),this._showing="mvm")},update:function(t){var e=this.$(".tile-to"),i=this.$(".tile-from");e.removeClass("tile-to").addClass("tile-from"),i.removeClass("tile-from").addClass("tile-to").find(".tile-content").empty().append(t),this._aboutToShowElement=t,this.animate()},animate:function(){if(this._animating)return this._needsAnimation=!0,void 0;var t=this.model.opts,e=this.$(".tile-to").removeClass("tile-hidden").addClass("tile-visible"),i=this.$(".tile-from"),s=a[this.model.get("animation")]||a.fade,r=this.model.get("config")||{};this._animating=!0;var o=n.bind(this._done,this,e,i),l={duration:t.noAnimation?0:this.model.get("animation_duration"),parameter:this.model.get("animation_parameter"),tileGutter:r["@tileGutter"]||0};s(i,e,l,o),this.model.opts={}},_done:function(t,e){e.removeClass("tile-front tile-visible").addClass("tile-back tile-hidden"),t.removeClass("tile-back").addClass("tile-front"),this._showingElement=this._aboutToShowElement,this._animating=!1,this._needsAnimation&&(this._needsAnimation=!1,this.animate())}});return s}),define("components/mosaic-2/views/MosaicTileView",["require","lodash","lib/views/BaseView","tmpl!mosaic-tile","components/tile-1/views/TileView"],function(t){var e=t("lodash"),i=t("lib/views/BaseView"),n=t("tmpl!mosaic-tile"),a=t("components/tile-1/views/TileView"),s=i.extend({className:"mosaic-item",template:n,subviews:{"mosaic-tile-content":a},initialize:function(){this.dispatcher().on(this.model.get("listenId")+":layout-change",e.bind(this.relayout,this)),this.listenTo(this.model,"change:group",this._renderGroup)},render:function(){i.prototype.render.apply(this,arguments);var t=this.model.get("group_name");return this.$el.addClass("group-"+t).attr("data-group",t),this._renderGroup(),this},_renderGroup:function(){var t=this.model.get("group");if(t){var e=t.get("type");this.$el.addClass("group-type-"+e).attr("data-group-type",e)}},relayout:function(t){var e=t.payload.device||null,i=t.payload.unitSize||0,n=this.model.get("layout")[e];if(!e||!n)return this.$el.removeAttr("style"),void 0;if(n.hidden)return this.$el.css("display","none"),this.model.set("_shouldChange",!1),void 0;this.model.set("_shouldChange",this.model.get("canChange"));var a={width:n.width*i+"px",height:n.height*i+"px",left:n.x*i+"px",top:n.y*i+"px",display:"block"};this.$el.css(a)}});return s}),define("components/mosaic-2/views/MosaicView",["require","jquery","lodash","lib/views/BaseView","tmpl!mosaic-container","components/mosaic-2/views/MosaicTileView"],function(t){var e=t("jquery"),i=t("lodash"),n=t("lib/views/BaseView"),a=t("tmpl!mosaic-container"),s=t("components/mosaic-2/views/MosaicTileView"),r=n.extend({template:a,subviews:{"mosaic-tile":s},initialize:function(){var t=this;e(window).on("resize",i.debounce(i.bind(this.onWindowResize,this),150)),this.model.on("show-details",function(e){t.dispatcher().trigger("show-details",e)}),this._initialStart=!0},render:function(){return n.prototype.render.apply(this,arguments),this.onWindowResize(),this.model.get("use_layout")&&this.$el.addClass("use_layout"),this.model.get("use_manager")&&this.start(),this},onWindowResize:function(){this.layoutTiles()},whichDevice:function(){if(this.model.get("use_layout")){var t=window.innerWidth,e=this.model.get("layout");if(0===e.length)throw"No layouts found";var n=i.find(e,function(e){return t<=e.breakpoint});return n?{layout:n.name,data:n}:{layout:e[0].name,data:e[0]}}},layoutTiles:function(){if(this.model.get("use_layout")){var t=this.whichDevice(),e=t.data.columns,n=this.$el.width()/e;this.model.set("currentDevice",t.layout),this.dispatcher().trigger(this.model.get("id")+":layout-change",{device:t.layout,columns:e,unitSize:n});var a=i.map(this.model.get("layout"),function(t){return"layout-"+t.name});this.$el.removeClass(a.join(" ")).addClass("layout-"+t.layout),t.data.rows&&this.$(".mosaic-container").css("height",t.data.rows*n+"px")}},start:function(){var t=this;this._initialStart&&(this.model.initializeGroups(),this._initialStart=!1),this.model.startGroups(),this.model.get("start_paused")||i.delay(function(){t._startAnimationInterval()},Math.max(t.model.get("frequency"),2e3))},stop:function(){this._interval&&(clearInterval(this._interval),this._interval=null),this.model.stopGroups()},_updateTile:function(t){var e=t.get("group");e&&e.trigger("request-content",{tile:t})},_startAnimationInterval:function(){this._interval&&clearInterval(this._interval),this._interval=setInterval(i.bind(this._eventIntervalHit,this),this.model.get("frequency"))},toggleAnimationPause:function(){this._interval?(clearInterval(this._interval),this._interval=null):this._startAnimationInterval()},_eventIntervalHit:function(){var t=this.model.get("visibleTiles");t=i.filter(t,function(t){return t.get("canChange")}),this._updateTile(t[Math.floor(t.length*Math.random())])}});return r}),define("components/tile-1/models/TileModel",["require","lodash","backbone-amd"],function(t){var e=t("lodash"),i=t("backbone-amd"),n=i.Model.extend({defaults:{model:null,View:null}}),a=i.Model.extend({defaults:{animation:"cut",animation_parameter:"",animation_duration:1,$el:null,mvm:null},opts:{},initialize:function(t){this.id=t.id,this.dispatcher=t.dispatcher,this.config=t.config,this.set(e.pick(t.config,e.keys(this.defaults))),e.bindAll(this,"changeWithModelView","changeWithElement")
},changeWithModelView:function(t,e,i){this.opts=i||{},this.set("mvm",new n({model:t,View:e}))},changeWithElement:function(t,e){this.opts=e||{},this.set("$el",t)}});return a}),define("components/mosaic-2/models/MosaicTileModel",["require","lodash","backbone-amd","components/tile-1/models/TileModel"],function(t){var e=t("lodash"),i=t("backbone-amd"),n=t("components/tile-1/models/TileModel"),a=i.Model.extend({defaults:{group_name:"text",layouts:[{name:"desktop",x:0,y:0,width:1,height:1},{name:"tablet",x:0,y:0,width:1,height:1},{name:"mobile",x:0,y:0,width:1,height:1}],tileModel:null,tile_config:{},canChange:!0,_shouldChange:!0,listenId:null},initialize:function(t){this.set(e.extend({},this.defaults,e.pick(t,e.keys(this.defaults)))),this.set("_shouldChange",this.get("canChange"));var i=new n({config:this.get("tile_config")});this.set("tileModel",i);var a={};e.each(this.defaults.layouts,function(t){a[t.name]=t}),e.each(this.get("layouts"),function(t){a[t.name]=t}),e.each(t.additionalLayouts,function(t){a[t.name]=t}),this.set("layout",a),this.on("changeWithModelView",function(t){i.changeWithModelView(t.model,t.View,t.opts)}),this.on("changeWithElement",function(t){i.changeWithElement(t.$el,t.opts)}),this.listenTo(i,"show-details",e.bind(this.handleClick,this))},handleClick:function(t){var e=this.get("group");t.mosaicTile=this,e.trigger("show-details",t)}});return a}),define("components/mosaic-2/collections/TileCollection",["require","backbone-amd","components/mosaic-2/models/MosaicTileModel"],function(t){var e=t("backbone-amd"),i=t("components/mosaic-2/models/MosaicTileModel");return e.Collection.extend({model:i})}),define("componentStyle!mosaic-2",{render:function(){}}),define("components/mosaic-2/main",["require","jquery","lodash","lib/BaseComponent","components/mosaic-2/models/MosaicModel","components/mosaic-2/views/MosaicView","components/mosaic-2/collections/TileCollection","componentStyle!mosaic-2"],function(t){var e=t("jquery"),i=t("lodash"),n=t("lib/BaseComponent"),a=t("components/mosaic-2/models/MosaicModel"),s=t("components/mosaic-2/views/MosaicView"),r=t("components/mosaic-2/collections/TileCollection"),o=t("componentStyle!mosaic-2");return n.extend({styles:o,create:function(){var t=this.get("id"),n=this.get("config"),o=this.get("dispatcher");i.forEach(n.settings.tiles,function(e){e.listenId=t,e.tile_config&&e.tile_config.override_defaults||(e.tile_config=n.settings.tile_config)}),i.forEach(n.settings.tiles,function(e){e.listenId=t});var l=new r(n.settings.tiles),u=new a({id:t,dispatcher:o,config:n.settings,tiles:l}),d=new s({analytics:this.get("analytics"),el:e("#"+t),componentId:t,componentType:n.type,dispatcher:o,model:u});return this.set("model",u),this.set("view",d),{model:u,view:d,getGroup:i.bind(u.getGroup,u),getGroupType:i.bind(u.getGroupType,u),setGroupType:i.bind(u.setGroupType,u)}},render:function(){this.hasElement()&&this.get("view").render()}}).exports()}),define("lib/ModalUtils",["require","underscore"],function(t){var e=t("underscore"),i={};return{open:function(t){var n=e.defaults(t||{},{data:{},url:MR.spacePath()+"/modal.html",fallback:e.identity});i=n.data;var a;MR.ENV.hash.embedModals||(a=MR.parent.trigger("modal:open",{url:n.url})),!a&&e.isFunction(n.fallback)&&n.fallback.call(window,n.data)},close:function(){MR.parent.trigger("modal:close")},getData:function(){if(MR.ENV.hash.frame){var t=MR.ENV.hash.frame.split(","),n=e.reduce(t,function(t,e){return t.frames[e]},window.parent);return n.MR.modal.getData()}return i}}}),define("lib/refreshPoller",["require","jquery","has"],function(t){var e=t("jquery");return t("has"),{start:function(t){var i,n;MR.spaceConfig.auto_refresh&&MR.isIndex()&&!function a(){e.get().done(function(e,s,r){var o=r.getResponseHeader("ETag"),l=new Date(r.getResponseHeader("Last-Modified")||"").getTime(),u=i&&o&&i!==o,d=!t&&n&&l&&l>n;return u||d?window.location.reload(!0):(i=o,n=l,o&&setTimeout(a,3e4),void 0)})}()}}}),define("setup",["require","lib/ModalUtils","jquery","underscore","lib/refreshPoller","has","lib/UrlUtils"],function(t){function e(t){return(t+"/").replace(/\/+$/,"/").toLowerCase().replace(/^https?:\/\//,"")}function i(){return[window.location.protocol,"//",window.location.hostname,window.location.port?":"+window.location.port:"","/",window.location.pathname.replace(/^\//,"")].join("")}var n=t("lib/ModalUtils"),a=t("jquery"),s=t("underscore"),r=t("lib/refreshPoller");t("has");var o=t("lib/UrlUtils"),l=navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/);return MR.spacePath=s.memoize(function(){var t=MR.spaceConfig;if(t.path)return t.path;var n=e(i()),a=t.host||(t.client?t.client+".massrel.io":window.location.host),r=t.name||"",o=a+"/"+r;return s.chain(t.cnames||[]).compact().map(e).uniq().sortBy("length").forEach(function(t){0===n.indexOf(t)&&(o=t)}),"//"+o.replace(/\/+$/,"")}),MR.isIndex=function(){return i().replace(/\/(index\.html)?$/,"")===window.location.protocol+MR.spacePath()},MR.isSpaceEmbedded=function(){return!!MR.ENV.hash.parent&&window.parent!==window.self},MR.isCurrentProductPage=function(t){var e=MR.getProductUrls(),i=t.replace(/.*?:\/\//g,"");return s.some(e,function(t){var e=t.replace(/.*?:\/\//g,"");return e.indexOf(i)>=0||i.indexOf(e)>=0})},MR.getProductUrls=function(){var t=MR.ENV.hash["product-url"];return s.isArray(t)||(t=[t]),s.compact(t)},{config:function(){var t=a.Deferred(),e=a.Deferred(),i=!0;return t.done(function(){(MR.isPage||"smart"===MR.ENV.hash.sizing)&&(MR.spaceConfig.smart_size=!0,MR.spaceConfig.auto_size=!1),"auto"===MR.ENV.hash.sizing&&(MR.spaceConfig.smart_size=!1,MR.spaceConfig.auto_size=!0),s.isFunction(window.MR_init)&&window.MR_init.call({async:function(){return i=!1,e.resolve}}),i&&e.resolve()}),MR.isIndex()?a.get().always(function(e,i,n){try{s.extend(MR.spaceConfig,o.getParams(n.getResponseHeader("x-amz-meta-space-config"),!0))}catch(a){}t.resolve()}):t.resolve(),e.promise()},pmcMethods:function(){return{spaceEvent:function(t){t&&t.eventName&&MR.ENV.scope("template").trigger("space:"+t.eventName,t.data)}}},init:function(t){function e(t){var e=parseInt(o.css("margin-top"),10)||0,i=o.offset().top,n=0;i>e&&(n=i-e);var a=t&&o[0].scrollHeight?o[0].scrollHeight:o.outerHeight(!0);return Math.ceil(a+n)}var i,o=a("body"),u=MR.spaceConfig,d=u.auto_size===!1&&!u.smart_size;MR.resize=function(n){if(!d&&MR.isSpaceEmbedded()){var r=s.clone(n||{});r.scrolling===!1?o.css("overflow","hidden"):r.scrolling===!0&&o.css("overflow","auto"),i&&(clearTimeout(i),i=null),s.isUndefined(r.height)&&(r.height=(window.MR_height||a.noop)()||e());var u=!!MR.templateConfig.settings.has_natural_height;u&&(r.naturalHeight=e(!0)),t.run("resize",r),!l&&r.interval&&(i=setTimeout(function(){MR.resize(n)},r.interval))}},d&&(u.height||u.width)&&t.run("resize",s.pick(u,"height","width")),u.smart_size&&MR.resize({interval:300,scrolling:!1}),MR.parent={ready:function(){return!!MR.ENV.hash.parent&&!!MR.ENV.hash["space-id"]&&t.ready()},trigger:function(e,i){return e?(t.run(e,i),MR.parent.ready()):!1},on:function(t,e,i){t&&MR.ENV.instance.on("#template:space:"+t,e,i)},off:function(t,e,i){t&&MR.ENV.instance.off("#template:space:"+t,e,i)}},r.start(),MR.modal=n}}}),define("app",function(){}),window.MR.require=require,window.MR.define=define,window.MR.requirejs=requirejs}(MR.define,MR.require,MR.requirejs);</script>


<script>MR.require(["loader","lib/analytics/main","staticPath"],function(e,t){MR.templateConfig={data:{},settings:{"@backgroundColor":"#1e1212","@backgroundImage":"","@backgroundSize":"center",action_bar:{facebook_like:!0,twitter_follow:!0},animation_frequency:2e3,animation_parameter:"random",animation_type:"flip",textTiles:!0,scaleText:!1,modalType:"picture-frame","@outermostGutter":!0,outermostGutter:!0,"@tileGutter":5,header:{"@backgroundColor":"#1d1d1d","@backgroundImage":"","@backgroundSize":"center","@useMobileBackgroundImage":!1,"@mobileBackgroundImage":"","@subtitleColor":"#ffffff","@subtitleFont":"'Times New Roman', Times, serif","@subtitleFontSize":18,"@titleColor":"#ffffff","@titleFont":"'Times New Roman', Times, serif","@titleFontSize":30,show_photo_share_button:!0,show_post_button:!0,show_subtitle:!0,show_title:!0,show_tweet_button:!0,social_button_border_radius:0,social_button_style:"color",subtitle:"#elderscrolls",title:"Celebrate 25 years!"},overlay:{"@backgroundColor":"black"},tiles:{"@imageTilesBackgroundColor":"#2c1a1a","@imageTilesBackgroundImage":"","@imageTilesBackgroundSize":"center","@textTilesBackgroundColor":"#2c1a1a","@textTilesBackgroundImage":"","@textTilesBackgroundSize":"center",image_tiles_stream_name:"5qf177wm49/elder-scrolls-stream",text_tiles_stream_name:"5qf177wm49/fallout"},footer:{"@footerBackgroundColor":"#ededed","@footerBackgroundImage":"","@footerBackgroundSize":"center"},terms_of_service_id:"",visualization_encoded_id:"3FEP"},styles:{backgroundColor:"#1e1212",backgroundImage:"",backgroundSize:"center",outermostGutter:!0,tileGutter:5,header_backgroundColor:"#1d1d1d",header_backgroundImage:"",header_backgroundSize:"center",useMobileBackgroundImage:!1,header_useMobileBackgroundImage:!1,mobileBackgroundImage:"",header_mobileBackgroundImage:"",subtitleColor:"#ffffff",header_subtitleColor:"#ffffff",subtitleFont:"'Times New Roman', Times, serif",header_subtitleFont:"'Times New Roman', Times, serif",subtitleFontSize:18,header_subtitleFontSize:18,titleColor:"#ffffff",header_titleColor:"#ffffff",titleFont:"'Times New Roman', Times, serif",header_titleFont:"'Times New Roman', Times, serif",titleFontSize:30,header_titleFontSize:30,overlay_backgroundColor:"black",imageTilesBackgroundColor:"#2c1a1a",tiles_imageTilesBackgroundColor:"#2c1a1a",imageTilesBackgroundImage:"",tiles_imageTilesBackgroundImage:"",imageTilesBackgroundSize:"center",tiles_imageTilesBackgroundSize:"center",textTilesBackgroundColor:"#2c1a1a",tiles_textTilesBackgroundColor:"#2c1a1a",textTilesBackgroundImage:"",tiles_textTilesBackgroundImage:"",textTilesBackgroundSize:"center",tiles_textTilesBackgroundSize:"center",footerBackgroundColor:"#ededed",footer_footerBackgroundColor:"#ededed",footerBackgroundImage:"",footer_footerBackgroundImage:"",footerBackgroundSize:"center",footer_footerBackgroundSize:"center"},components:{modal:{settings:{"@maxWidth":"550px"},styles:{maxWidth:"550px"},type:"modal-2"},"action-bar":{settings:{"@background_color":"transparent","@background_color_opacity":100,"@background_image":"","@background_position":"center","@single_button_background_color":"#958b71","@single_button_text_color":"#0a0909","@single_button_text_font":"'Times New Roman', Times, serif","@single_button_font_weight":"400","@border_radius":3,"@font_unit":"px","@button_style":"native",single_conversation_button:!0,single_conversation_text:"Join The Conversation",single_conversation_ada_text:"Join the conversation on social",enable_tweet:!0,tweet:{hashtags:"",related:"",url:"",text:""},enable_fb_post:!0,fb_post:{link:"",feed:"",name:"",picture:"",caption:"",description:""},enable_share_photo:!0,share_photo:{photo_sources:{facebook:!0,instagram:!0,local:!0},upload_settings:{twitter:!0,facebook:!0,facebook_destination:"",hashtags:""},confirmation_page:{title:"Images Added!",copy:"Thanks for sharing your photos! We'll check them out and post them within 72 hours!"},stream_name:"5qf177wm49/elder-scrolls-stream"},single_follow_button:!0,single_follow_text:"Follow Us",single_follow_ada_text:"Follow our social accounts",enable_follow:!0,follow_link:"spredfast",enable_fb_like:!0,fb_like_link:"Spredfast",enable_insta_follow:!0,insta_follow_link:"spredfast","@modal_background_color":"#ffffff","@header_background_color":"#f7f7f7","@header_title_color":"#0f99f9","@header_title_font":'"Roboto Slab", serif',"@breadcrumb_font":'"Droid Sans", Helvetica, Arial, sans-serif',"@breadcrumb_active_color":"#666666","@breadcrumb_inactive_color":"#d8d8d8","@photo_font":'"Open Sans", Helvetica, Arial, sans-serif',"@photo_color":"#333333","@photo_link_color":"#0499f9"},styles:{background_color:"transparent",background_color_opacity:100,background_image:"",background_position:"center",single_button_background_color:"#958b71",single_button_text_color:"#0a0909",single_button_text_font:"'Times New Roman', Times, serif",single_button_font_weight:"400",border_radius:3,font_unit:"px",button_style:"native",modal_background_color:"#ffffff",header_background_color:"#f7f7f7",header_title_color:"#0f99f9",header_title_font:'"Roboto Slab", serif',breadcrumb_font:'"Droid Sans", Helvetica, Arial, sans-serif',breadcrumb_active_color:"#666666",breadcrumb_inactive_color:"#d8d8d8",photo_font:'"Open Sans", Helvetica, Arial, sans-serif',photo_color:"#333333",photo_link_color:"#0499f9"},type:"action-bar-2"},statusModal:{settings:{additional_classes:"",status_style:"status-styles-modal"},styles:{},type:"status-2"},"status-styles-modal":{settings:{"@backgroundColor":"#2c1a1a","@font":"'Times New Roman', Times, serif","@fontColor":"#000000","@fontSize":14,"@secondaryFontColor":"#808080","@primaryLinkColor":"#008cba","@primaryLinkHoverColor":"#ff0000","@primaryLinkUnderline":"underline","@primaryLinkHoverUnderline":"none","@primaryLinkVisitedColor":"blue","@secondaryLinkColor":"#666","@secondaryLinkHoverColor":"#666","@secondaryLinkUnderline":"none","@secondaryLinkHoverUnderline":"underline","@secondaryLinkVisitedColor":"#666","@mediaAttributionColor":"white","@mediaAttributionFontSize":16,"@mediaAttributionFont":"Helvetica Neue","@avatarSize":48,"@statusPaddingSize":12},styles:{backgroundColor:"#2c1a1a",font:"'Times New Roman', Times, serif",fontColor:"#000000",fontSize:14,secondaryFontColor:"#808080",primaryLinkColor:"#008cba",primaryLinkHoverColor:"#ff0000",primaryLinkUnderline:"underline",primaryLinkHoverUnderline:"none",primaryLinkVisitedColor:"blue",secondaryLinkColor:"#666",secondaryLinkHoverColor:"#666",secondaryLinkUnderline:"none",secondaryLinkHoverUnderline:"underline",secondaryLinkVisitedColor:"#666",mediaAttributionColor:"white",mediaAttributionFontSize:16,mediaAttributionFont:"Helvetica Neue",avatarSize:48,statusPaddingSize:12},type:"status-styles-modal-1"},"status-styles-media-tile":{settings:{"@attributionColor":"white","@attributionFontSize":16,"@attributionFont":"Helvetica Neue","@iconBackgroundColor":"#000"},styles:{attributionColor:"white",attributionFontSize:16,attributionFont:"Helvetica Neue",iconBackgroundColor:"#000"},type:"status-styles-media-tile-1"},"status-styles-text-tile":{settings:{"@font_unit":"magicEm","@font":"'Times New Roman', Times, serif","@avatar_size":40,"@status_padding_size":10,"@header_padding_size":5,"@status_background_color":"#ffffff","@footer_background_color":"#f7f7f7","@primary_author_font":'"Roboto Slab", serif',"@primary_author_font_weight":"700","@primary_author_font_size":24,"@primary_author_color":"#333333","@primary_author_hover_color":"#333333","@primary_author_underline":"none","@primary_author_hover_underline":"none","@primary_author_visited_color":"#333333","@secondary_author_font_weight":"400","@secondary_author_font_size":14,"@secondary_author_color":"#389FF2","@secondary_author_hover_color":"#1b88e1","@secondary_author_underline":"none","@secondary_author_hover_underline":"underline","@secondary_author_visited_color":"#389FF2","@content_font_weight":"400","@content_font_size":14,"@content_color":"#333333","@content_link_color":"#389FF2","@content_link_hover_color":"#1b88e1","@content_link_underline":"none","@content_link_hover_underline":"underline","@content_link_visited_color":"#389FF2","@content_min_height":0,"@meta_font_weight":"400","@meta_font_size":12,"@meta_color":"#666666","@meta_icon_color":"#666666","@meta_link_color":"#389FF2","@meta_link_hover_color":"#1b88e1","@meta_link_underline":"none","@meta_link_hover_underline":"underline","@meta_link_visited_color":"#389FF2","@intent_icon_color":"#333333","@intent_icon_font_size":24,"@intent_font_weight":"400","@intent_font_size":12,"@intent_show_text":!1,"@intent_link_color":"gray","@intent_link_hover_color":"black","@intent_link_underline":"none","@intent_link_hover_underline":"underline","@permalink_icon_color":"","@permalink_icon_font_size":18,"@permalink_font_weight":"400","@permalink_font_size":12,"@permalink_link_color":"#666666","@permalink_link_hover_color":"#666666","@permalink_link_underline":"none","@permalink_link_hover_underline":"underline","@permalink_link_visited_color":"#666666","@author_bottom_border_color":"#ececec"},styles:{font_unit:"magicEm",font:"'Times New Roman', Times, serif",avatar_size:40,status_padding_size:10,header_padding_size:5,status_background_color:"#ffffff",footer_background_color:"#f7f7f7",primary_author_font:'"Roboto Slab", serif',primary_author_font_weight:"700",primary_author_font_size:24,primary_author_color:"#333333",primary_author_hover_color:"#333333",primary_author_underline:"none",primary_author_hover_underline:"none",primary_author_visited_color:"#333333",secondary_author_font_weight:"400",secondary_author_font_size:14,secondary_author_color:"#389FF2",secondary_author_hover_color:"#1b88e1",secondary_author_underline:"none",secondary_author_hover_underline:"underline",secondary_author_visited_color:"#389FF2",content_font_weight:"400",content_font_size:14,content_color:"#333333",content_link_color:"#389FF2",content_link_hover_color:"#1b88e1",content_link_underline:"none",content_link_hover_underline:"underline",content_link_visited_color:"#389FF2",content_min_height:0,meta_font_weight:"400",meta_font_size:12,meta_color:"#666666",meta_icon_color:"#666666",meta_link_color:"#389FF2",meta_link_hover_color:"#1b88e1",meta_link_underline:"none",meta_link_hover_underline:"underline",meta_link_visited_color:"#389FF2",intent_icon_color:"#333333",intent_icon_font_size:24,intent_font_weight:"400",intent_font_size:12,intent_show_text:!1,intent_link_color:"gray",intent_link_hover_color:"black",intent_link_underline:"none",intent_link_hover_underline:"underline",permalink_icon_color:"",permalink_icon_font_size:18,permalink_font_weight:"400",permalink_font_size:12,permalink_link_color:"#666666",permalink_link_hover_color:"#666666",permalink_link_underline:"none",permalink_link_hover_underline:"underline",permalink_link_visited_color:"#666666",author_bottom_border_color:"#ececec"},type:"status-styles-text-tile-2"},"retail-modal":{settings:{showRetail:!0,showStatusFirst:!1,retailItemsPerPage:"2",isModal:!0,noContent:"No content available.",showCurrentProductPageLinks:!0,showPageLinkButton:!0,showPageLinkTitle:!0,showPageLinkImage:!0,useFullRetailLink:!1,"@backgroundColor":"#fcfcfc","@borderColor":"#ffffff","@statusNetworkStyle":"color","@statusAvatarBorderColor":"#d8d8d8","@statusAuthorPrimaryColor":"#333333","@statusAuthorPrimaryFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusAuthorPrimaryFontSize":14,"@statusAuthorSecondaryFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusAuthorSecondaryFontSize":12,"@statusAuthorSecondaryColor":"#333333","@statusAuthorSecondaryUnderline":"none","@statusAuthorSecondaryHoverColor":"red","@statusAuthorSecondaryHoverUnderline":"underline","@statusAuthorSecondaryVisitedColor":"#333333","@statusBodyFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusBodyFontSize":18,"@statusBodyColor":"#333333","@statusBodyLinkColor":"#62a9ff","@statusBodyLinkUnderline":"none","@statusBodyLinkHoverColor":"red","@statusBodyLinkHoverUnderline":"none","@statusBodyLinkVisitedColor":"#333333","@statusFooterFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusFooterFontSize":12,"@statusFooterColor":"#333333","@statusFooterLinkColor":"#333333","@statusFooterLinkUnderline":"underline","@statusFooterLinkHoverColor":"red","@statusFooterLinkHoverUnderline":"underline","@statusFooterLinkVisitedColor":"#333333","@statusFooterIconColor":"#999999","@statusFooterDividerColor":"#eaeaea","@statusIntentColor":"#333333","@statusIntentIconColor":"#999999","@statusIntentHoverColor":"#4a90e2","@statusIntentIconHoverColor":"#4a90e2","@statusNavFontSize":14,"@statusNavFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusNavColor":"#999999","@statusNavActiveColor":"#4a90e2",statusNavShopText:"SHOP THIS LOOK",statusNavImageText:"DETAILS","@statusMediaAttributionColor":"white","@statusMediaAttributionFontSize":14,"@statusMediaAttributionFont":"'Open Sans', Helvetica, Arial, sans-serif","@statusMediaNetworkStyle":"light","@retailItemTitleColor":"#333333","@retailItemTitleFontSize":14,"@retailItemTitleFont":"'Open Sans', Helvetica, Arial, sans-serif","@retailItemTitleLinkColor":"#333333","@retailItemTitleLinkUnderline":"underline","@retailItemTitleLinkHoverColor":"#666666","@retailItemTitleLinkHoverUnderline":"underline","@retailItemTitleLinkVisitedColor":"#333333",retailItemButtonText:"SHOP","@retailItemButtonBorderRadius":3,"@retailItemButtonLinkColor":"#FFFFFF","@retailItemButtonLinkHoverColor":"#FFFFFF","@retailItemButtonFontSize":14,"@retailItemButtonFont":"'Open Sans', Helvetica, Arial, sans-serif","@retailItemButtonBackgroundColor":"#5fa9ff","@retailItemButtonBorderColor":"#4a90e2","@retailItemButtonBackgroundHoverColor":"#4a90e2","@retailItemButtonBorderHoverColor":"#4a90e2","@retailItemImageBorder":!0,"@retailItemImageBorderColor":"#d8d8d8","@retailItemImageBorderHoverColor":"#d8d8d8","@retailItemDividerColor":"#dddddd","@retailItemArrowColor":"#4a90e2","@retailItemArrowHoverColor":"#4a90e2","@retailItemArrowBorderColor":"#dddddd","@retailItemArrowBorderHoverColor":"#4a90e2","@retailItemArrowBackgroundColor":"white","@retailItemArrowBackgroundHoverColor":"white","@retailItemPaginationBackground":"#ffffff","@retailItemPaginationBorder":"#dddddd","@retailItemPaginationBackgroundActiveColor":"#4a90e2","@retailItemPaginationBorderActiveColor":"#4a90e2"},styles:{backgroundColor:"#fcfcfc",borderColor:"#ffffff",statusNetworkStyle:"color",statusAvatarBorderColor:"#d8d8d8",statusAuthorPrimaryColor:"#333333",statusAuthorPrimaryFont:"'Open Sans', Helvetica, Arial, sans-serif",statusAuthorPrimaryFontSize:14,statusAuthorSecondaryFont:"'Open Sans', Helvetica, Arial, sans-serif",statusAuthorSecondaryFontSize:12,statusAuthorSecondaryColor:"#333333",statusAuthorSecondaryUnderline:"none",statusAuthorSecondaryHoverColor:"red",statusAuthorSecondaryHoverUnderline:"underline",statusAuthorSecondaryVisitedColor:"#333333",statusBodyFont:"'Open Sans', Helvetica, Arial, sans-serif",statusBodyFontSize:18,statusBodyColor:"#333333",statusBodyLinkColor:"#62a9ff",statusBodyLinkUnderline:"none",statusBodyLinkHoverColor:"red",statusBodyLinkHoverUnderline:"none",statusBodyLinkVisitedColor:"#333333",statusFooterFont:"'Open Sans', Helvetica, Arial, sans-serif",statusFooterFontSize:12,statusFooterColor:"#333333",statusFooterLinkColor:"#333333",statusFooterLinkUnderline:"underline",statusFooterLinkHoverColor:"red",statusFooterLinkHoverUnderline:"underline",statusFooterLinkVisitedColor:"#333333",statusFooterIconColor:"#999999",statusFooterDividerColor:"#eaeaea",statusIntentColor:"#333333",statusIntentIconColor:"#999999",statusIntentHoverColor:"#4a90e2",statusIntentIconHoverColor:"#4a90e2",statusNavFontSize:14,statusNavFont:"'Open Sans', Helvetica, Arial, sans-serif",statusNavColor:"#999999",statusNavActiveColor:"#4a90e2",statusMediaAttributionColor:"white",statusMediaAttributionFontSize:14,statusMediaAttributionFont:"'Open Sans', Helvetica, Arial, sans-serif",statusMediaNetworkStyle:"light",retailItemTitleColor:"#333333",retailItemTitleFontSize:14,retailItemTitleFont:"'Open Sans', Helvetica, Arial, sans-serif",retailItemTitleLinkColor:"#333333",retailItemTitleLinkUnderline:"underline",retailItemTitleLinkHoverColor:"#666666",retailItemTitleLinkHoverUnderline:"underline",retailItemTitleLinkVisitedColor:"#333333",retailItemButtonBorderRadius:3,retailItemButtonLinkColor:"#FFFFFF",retailItemButtonLinkHoverColor:"#FFFFFF",retailItemButtonFontSize:14,retailItemButtonFont:"'Open Sans', Helvetica, Arial, sans-serif",retailItemButtonBackgroundColor:"#5fa9ff",retailItemButtonBorderColor:"#4a90e2",retailItemButtonBackgroundHoverColor:"#4a90e2",retailItemButtonBorderHoverColor:"#4a90e2",retailItemImageBorder:!0,retailItemImageBorderColor:"#d8d8d8",retailItemImageBorderHoverColor:"#d8d8d8",retailItemDividerColor:"#dddddd",retailItemArrowColor:"#4a90e2",retailItemArrowHoverColor:"#4a90e2",retailItemArrowBorderColor:"#dddddd",retailItemArrowBorderHoverColor:"#4a90e2",retailItemArrowBackgroundColor:"white",retailItemArrowBackgroundHoverColor:"white",retailItemPaginationBackground:"#ffffff",retailItemPaginationBorder:"#dddddd",retailItemPaginationBackgroundActiveColor:"#4a90e2",retailItemPaginationBorderActiveColor:"#4a90e2"},type:"retail-carousel-2"},mosaic:{settings:{"@tileGutter":5,frequency:2e3,layout:[{name:"hd",columns:5,breakpoint:0,enabled:!0},{name:"desktop",columns:4,breakpoint:950,enabled:!0},{name:"tablet",columns:3,breakpoint:750,enabled:!0},{name:"mobile",columns:2,breakpoint:577,enabled:!0}],additional_layouts:[{name:"hd_image",columns:5,enabled:!0},{name:"desktop_image",columns:4,enabled:!0},{name:"tablet_image",columns:3,enabled:!0},{name:"mobile_image",columns:2,enabled:!0}],use_layout:!0,use_manager:!0,start_paused:!1,no_initial_animation:!0,groups:[{name:"image",type:"media",stream_name:"5qf177wm49/elder-scrolls-stream",status_style:"status-styles-media-tile",media_status_style:"",text_status_style:"",page_links:!0,strip_links:!1,entity_retention:50},{name:"text",type:"text",stream_name:"5qf177wm49/fallout",status_style:"status-styles-text-tile",media_status_style:"",text_status_style:"",page_links:!1,strip_links:!1,entity_retention:50},{name:"header",type:"static",stream_name:"massreldemo/amazing-media",status_style:"",media_status_style:"",text_status_style:"",page_links:!1,strip_links:!1,entity_retention:50}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random"},tiles:[{group_name:"image",layouts:[{name:"hd",x:0,y:0,width:2,height:2,hidden:!1},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!1},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!1},{name:"mobile",x:0,y:0,width:2,height:2,hidden:!1},{name:"hd_image",x:0,y:0,width:2,height:2,hidden:!1},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!1},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!1},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"text",layouts:[{name:"hd",x:2,y:0,width:1,height:1,hidden:!1},{name:"desktop",x:2,y:0,width:1,height:1,hidden:!1},{name:"tablet",x:2,y:0,width:1,height:1,hidden:!1},{name:"mobile",x:0,y:5,width:2,height:1,hidden:!1},{name:"hd_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!0}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile",x:0,y:0,width:2,height:2,hidden:!0},{name:"hd_image",x:2,y:0,width:1,height:1,hidden:!1},{name:"desktop_image",x:2,y:0,width:1,height:1,hidden:!1},{name:"tablet_image",x:2,y:0,width:1,height:1,hidden:!1},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!0}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:2,y:1,width:1,height:1,hidden:!1},{name:"desktop",x:3,y:0,width:1,height:1,hidden:!1},{name:"tablet",x:2,y:1,width:1,height:1,hidden:!1},{name:"mobile",x:0,y:4,width:1,height:1,hidden:!1},{name:"hd_image",x:2,y:1,width:1,height:1,hidden:!1},{name:"desktop_image",x:3,y:0,width:1,height:1,hidden:!1},{name:"tablet_image",x:2,y:1,width:1,height:1,hidden:!1},{name:"mobile_image",x:0,y:4,width:1,height:1,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"text",layouts:[{name:"hd",x:4,y:0,width:1,height:1,hidden:!1},{name:"desktop",x:2,y:1,width:1,height:1,hidden:!1},{name:"tablet",x:0,y:2,width:1,height:1,hidden:!1},{name:"mobile",x:0,y:7,width:2,height:1,hidden:!1},{name:"hd_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!0}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile",x:0,y:0,width:2,height:2,hidden:!0},{name:"hd_image",x:4,y:0,width:1,height:1,hidden:!1},{name:"desktop_image",x:2,y:1,width:1,height:1,hidden:!1},{name:"tablet_image",x:0,y:2,width:1,height:1,hidden:!1},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!0}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"text",layouts:[{name:"hd",x:4,y:1,width:1,height:1,hidden:!1},{name:"desktop",x:1,y:2,width:1,height:1,hidden:!1},{name:"tablet",x:0,y:3,width:1,height:1,hidden:!1},{name:"mobile",x:0,y:10,width:2,height:1,hidden:!1},{name:"hd_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!0}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile",x:0,y:0,width:2,height:2,hidden:!0},{name:"hd_image",x:4,y:1,width:1,height:1,hidden:!1},{name:"desktop_image",x:1,y:2,width:1,height:1,hidden:!1},{name:"tablet_image",x:0,y:3,width:1,height:1,hidden:!1},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!0}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"text",layouts:[{name:"hd",x:0,y:4,width:1,height:1,hidden:!1},{name:"desktop",x:0,y:5,width:1,height:1,hidden:!1},{name:"tablet",x:2,y:6,width:1,height:1,hidden:!1},{name:"mobile",x:0,y:13,width:2,height:1,hidden:!1},{name:"hd_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!0}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile",x:0,y:0,width:2,height:2,hidden:!0},{name:"hd_image",x:0,y:4,width:1,height:1,hidden:!1},{name:"desktop_image",x:0,y:5,width:1,height:1,hidden:!1},{name:"tablet_image",x:2,y:6,width:1,height:1,hidden:!1},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!0}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"text",layouts:[{name:"hd",x:2,y:4,width:1,height:1,hidden:!1},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile",x:0,y:16,width:2,height:1,hidden:!1},{name:"hd_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!0}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile",x:0,y:0,width:2,height:2,hidden:!0},{name:"hd_image",x:2,y:4,width:1,height:1,hidden:!1},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile_image",x:0,y:0,width:2,height:2,hidden:!0}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:3,y:0,width:1,height:1,hidden:!1},{name:"desktop",x:0,y:2,width:1,height:1,hidden:!1},{name:"tablet",x:1,y:2,width:1,height:1,hidden:!1},{name:"mobile",x:1,y:4,width:1,height:1,hidden:!1},{name:"hd_image",x:3,y:0,width:1,height:1,hidden:!1},{name:"desktop_image",x:0,y:2,width:1,height:1,hidden:!1},{name:"tablet_image",x:1,y:2,width:1,height:1,hidden:!1},{name:"mobile_image",x:1,y:4,width:1,height:1,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:3,y:1,width:1,height:1,hidden:!1},{name:"desktop",x:2,y:2,width:1,height:1,hidden:!1},{name:"tablet",x:2,y:2,width:1,height:1,hidden:!1},{name:"mobile",x:0,y:6,width:1,height:1,hidden:!1},{name:"hd_image",x:3,y:1,width:1,height:1,hidden:!1},{name:"desktop_image",x:2,y:2,width:1,height:1,hidden:!1},{name:"tablet_image",x:2,y:2,width:1,height:1,hidden:!1},{name:"mobile_image",x:0,y:7,width:1,height:1,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:2,width:1,height:1,hidden:!1},{name:"desktop",x:3,y:2,width:1,height:1,hidden:!1},{name:"tablet",x:1,y:3,width:1,height:1,hidden:!1},{name:"mobile",x:1,y:6,width:1,height:1,hidden:!1},{name:"hd_image",x:0,y:2,width:1,height:1,hidden:!1},{name:"desktop_image",x:3,y:2,width:1,height:1,hidden:!1},{name:"tablet_image",x:1,y:3,width:1,height:1,hidden:!1},{name:"mobile_image",x:1,y:7,width:1,height:1,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:4,y:2,width:1,height:1,hidden:!1},{name:"desktop",x:3,y:3,width:1,height:1,hidden:!1},{name:"tablet",x:2,y:3,width:1,height:1,hidden:!1},{name:"mobile",x:0,y:8,width:1,height:1,hidden:!1},{name:"hd_image",x:4,y:2,width:1,height:1,hidden:!1},{name:"desktop_image",x:3,y:3,width:1,height:1,hidden:!1},{name:"tablet_image",x:2,y:3,width:1,height:1,hidden:!1},{name:"mobile_image",x:0,y:10,width:1,height:1,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:3,width:1,height:1,hidden:!1},{name:"desktop",x:3,y:1,width:1,height:1,hidden:!1},{name:"tablet",x:0,y:5,width:1,height:1,hidden:!1},{name:"mobile",x:1,y:8,width:1,height:1,hidden:!1},{name:"hd_image",x:0,y:3,width:1,height:1,hidden:!1},{name:"desktop_image",x:3,y:1,width:1,height:1,hidden:!1},{name:"tablet_image",x:0,y:5,width:1,height:1,hidden:!1},{name:"mobile_image",x:1,y:10,width:1,height:1,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:1,y:3,width:1,height:1,hidden:!1},{name:"desktop",x:0,y:4,width:1,height:1,hidden:!1},{name:"tablet",x:1,y:5,width:1,height:1,hidden:!1},{name:"mobile",x:0,y:9,width:1,height:1,hidden:!1},{name:"hd_image",x:1,y:3,width:1,height:1,hidden:!1},{name:"desktop_image",x:0,y:4,width:1,height:1,hidden:!1},{name:"tablet_image",x:1,y:5,width:1,height:1,hidden:!1},{name:"mobile_image",x:0,y:11,width:1,height:1,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:2,y:3,width:1,height:1,hidden:!1},{name:"desktop",x:1,y:4,width:1,height:1,hidden:!1},{name:"tablet",x:2,y:5,width:1,height:1,hidden:!1},{name:"mobile",x:1,y:9,width:1,height:1,hidden:!1},{name:"hd_image",x:2,y:3,width:1,height:1,hidden:!1},{name:"desktop_image",x:1,y:4,width:1,height:1,hidden:!1},{name:"tablet_image",x:2,y:5,width:1,height:1,hidden:!1},{name:"mobile_image",x:1,y:11,width:1,height:1,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:1,y:4,width:1,height:1,hidden:!1},{name:"desktop",x:2,y:4,width:2,height:2,hidden:!1},{name:"tablet",x:0,y:6,width:2,height:2,hidden:!1},{name:"mobile",x:0,y:11,width:2,height:2,hidden:!1},{name:"hd_image",x:1,y:4,width:1,height:1,hidden:!1},{name:"desktop_image",x:2,y:4,width:2,height:2,hidden:!1},{name:"tablet_image",x:0,y:6,width:2,height:2,hidden:!1},{name:"mobile_image",x:0,y:12,width:2,height:2,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:3,y:3,width:2,height:2,hidden:!1},{name:"desktop",x:1,y:5,width:1,height:1,hidden:!1},{name:"tablet",x:2,y:7,width:1,height:1,hidden:!1},{name:"mobile",x:0,y:14,width:2,height:2,hidden:!1},{name:"hd_image",x:3,y:3,width:2,height:2,hidden:!1},{name:"desktop_image",x:1,y:5,width:1,height:1,hidden:!1},{name:"tablet_image",x:2,y:7,width:1,height:1,hidden:!1},{name:"mobile_image",x:0,y:15,width:2,height:2,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"header",layouts:[{name:"hd",x:1,y:2,width:3,height:1,hidden:!1},{name:"desktop",x:0,y:3,width:3,height:1,hidden:!1},{name:"tablet",x:0,y:4,width:3,height:1,hidden:!1},{name:"mobile",x:0,y:2,width:2,height:2,hidden:!1},{name:"hd_image",x:1,y:2,width:3,height:1,hidden:!1},{name:"desktop_image",x:0,y:3,width:3,height:1,hidden:!1},{name:"tablet_image",x:0,y:4,width:3,height:1,hidden:!1},{name:"mobile_image",x:0,y:2,width:2,height:2,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile",x:0,y:0,width:2,height:2,hidden:!0},{name:"hd_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile_image",x:0,y:14,width:1,height:1,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile",x:0,y:0,width:2,height:2,hidden:!0},{name:"hd_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile_image",x:1,y:14,width:1,height:1,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile",x:0,y:0,width:2,height:2,hidden:!0},{name:"hd_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile_image",x:0,y:8,width:2,height:2,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}},{group_name:"image",layouts:[{name:"hd",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile",x:0,y:0,width:2,height:2,hidden:!0},{name:"hd_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"desktop_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"tablet_image",x:0,y:0,width:2,height:2,hidden:!0},{name:"mobile_image",x:0,y:5,width:2,height:2,hidden:!1}],tile_config:{"@tileGutter":5,animation:"flip",animation_parameter:"random",override_defaults:!1}}]},styles:{tileGutter:5,tile_config_tileGutter:5,tiles_0_tile_config_tileGutter:5,tiles_1_tile_config_tileGutter:5,tiles_2_tile_config_tileGutter:5,tiles_3_tile_config_tileGutter:5,tiles_4_tile_config_tileGutter:5,tiles_5_tile_config_tileGutter:5,tiles_6_tile_config_tileGutter:5,tiles_7_tile_config_tileGutter:5,tiles_8_tile_config_tileGutter:5,tiles_9_tile_config_tileGutter:5,tiles_10_tile_config_tileGutter:5,tiles_11_tile_config_tileGutter:5,tiles_12_tile_config_tileGutter:5,tiles_13_tile_config_tileGutter:5,tiles_14_tile_config_tileGutter:5,tiles_15_tile_config_tileGutter:5,tiles_16_tile_config_tileGutter:5,tiles_17_tile_config_tileGutter:5,tiles_18_tile_config_tileGutter:5,tiles_19_tile_config_tileGutter:5,tiles_20_tile_config_tileGutter:5,tiles_21_tile_config_tileGutter:5,tiles_22_tile_config_tileGutter:5,tiles_23_tile_config_tileGutter:5,tiles_24_tile_config_tileGutter:5,tiles_25_tile_config_tileGutter:5,tiles_count:26},type:"mosaic-2"}}},MR.spaceConfig={template:{id:49395,root_id:49395,component_ids:[164,185,208,241,242,263,398,421]},visualization:114134,visualization_encoded_id:"3FEP",page:null,search_api_access_token:"c674d9308cbeeff199cfe3caca3ce463b97d3dbc76ae7574e55b5c5e8aa248a92330c49f8f3b3b7d4c381991f479f4359043e7f4ba6ff8384788e0da3f80cf1b",name:"elder-scrolls",client:"bethesda",account_id:"0015000000tTLUq",id:46211,auto_size:!1,smart_size:!0,height:400,width:600,analytics_ga_id:"",facebook_custom_audience_id:"",short_url:"https://mssv.ly/2SjHMN2",cnames:[],host:null,auto_refresh:!0},MR.analytics=new t([MR.spaceConfig,{scope:"template"}]),e.init(),MR.templateConfig.components&&e.render(MR.templateConfig.components)
});</script>



    <script>!function(e){window.MR_ready=function(t){var i=this.async();e.require(["//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/js/index.js"],function(){SF.ready(t),i()})},window.MR_render=function(t){e.require(["//bethesda.massrel.io/template-static-2106825434d5390a785c39595e4eb8d5d02d09b7/js/index.js"],function(){SF.render(t)})}}(window.MR||window);</script>

  

<iframe scrolling="no" frameborder="0" allowtransparency="true" src="./widget_iframe.68dbfddc56b3f0522044700c1abcd1dc.html" title="Twitter settings iframe" style="display: none;"></iframe></body></html>